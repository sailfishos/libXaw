diff --git a/configure.ac b/configure.ac
index 9c99e03..cd76e66 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1,4 +1,3 @@
-dnl Process this file with autoconf to create configure.
 
 # Initialize Autoconf
 AC_PREREQ([2.60])
@@ -11,21 +10,26 @@ AC_CONFIG_HEADERS([config.h])
 AM_INIT_AUTOMAKE([foreign dist-bzip2])
 AM_MAINTAINER_MODE
 
-# Require xorg-macros minimum of 1.10 for HAVE_STYLESHEETS in XORG_CHECK_SGML_DOCTOOLS
+# Initialize libtool
+AC_PROG_LIBTOOL
+
+# Require xorg-macros minimum of 1.12 for DocBook external references
 m4_ifndef([XORG_MACROS_VERSION],
-	  [m4_fatal([must install xorg-macros 1.10 or later before running autoconf/autogen])])
-XORG_MACROS_VERSION(1.10)
+          [m4_fatal([must install xorg-macros 1.12 or later before running autoconf/autogen])])
+XORG_MACROS_VERSION(1.12)
 XORG_DEFAULT_OPTIONS
 XORG_ENABLE_SPECS
-XORG_WITH_XMLTO(0.0.20)
+XORG_WITH_XMLTO(0.0.22)
 XORG_WITH_FOP
-XORG_CHECK_SGML_DOCTOOLS(1.5)
+XORG_WITH_XSLTPROC
+XORG_CHECK_SGML_DOCTOOLS(1.7)
 
-# Check for progs
-AC_PROG_LIBTOOL
-AC_PROG_AWK
+# Some compilers do not support per target -c and -o flags
 AM_PROG_CC_C_O
 
+# Checks for programs.
+AC_PROG_AWK
+
 # Need to call this explicitly since the first call to PKG_CHECK_MODULES
 # is in an if statement, and later calls would break if it's skipped.
 PKG_PROG_PKG_CONFIG
@@ -65,7 +69,7 @@ AM_CONDITIONAL(PLATFORM_DARWIN, test "x$platform_darwin" = "xyes")
 
 # Whether to build Xaw6
 
-AC_ARG_ENABLE(xaw6, AC_HELP_STRING([--disable-xaw6],
+AC_ARG_ENABLE(xaw6, AS_HELP_STRING([--disable-xaw6],
 				[Disable building of libXaw.so.6]),
 			[build_v6=$enableval], [build_v6=yes])
 
@@ -76,7 +80,7 @@ fi
 
 # Whether to build Xaw7
 
-AC_ARG_ENABLE(xaw7, AC_HELP_STRING([--disable-xaw7],
+AC_ARG_ENABLE(xaw7, AS_HELP_STRING([--disable-xaw7],
 				[Disable building of libXaw.so.7]),
 			[build_v7=$enableval], [build_v7=yes])
 
@@ -89,7 +93,6 @@ AM_CONDITIONAL(BUILD_XAW6, [test x$build_v6 = xyes])
 AM_CONDITIONAL(BUILD_XAW7, [test x$build_v7 = xyes])
 
 # Checks for header files.
-AC_HEADER_STDC
 AC_CHECK_HEADERS([wctype.h wchar.h widec.h])
 
 # Checks for functions
diff --git a/docbook.am b/docbook.am
new file mode 100644
index 0000000..3cf21e8
--- /dev/null
+++ b/docbook.am
@@ -0,0 +1,95 @@
+#
+# Generate output formats for a single DocBook/XML with/without chapters
+#
+# Variables set by the calling Makefile:
+# shelfdir: the location where the docs/specs are installed. Typically $(docdir)
+# docbook:  the main DocBook/XML file, no chapters, appendix or image files
+# chapters: all files pulled in by an XInclude statement and images.
+#
+
+#
+# This makefile is intended for Users Documentation and Functional Specifications.
+# Do not use for Developer Documentation which is not installed and does not require olink.
+# Refer to http://www.x.org/releases/X11R7.6/doc/xorg-docs/ReleaseNotes.html#id2584393
+# for an explanation on documents classification.
+#
+
+# DocBook/XML generated output formats to be installed
+shelf_DATA =
+
+# DocBook/XML file with chapters, appendix and images it includes
+dist_shelf_DATA = $(docbook) $(chapters)
+
+#
+# Generate DocBook/XML output formats with or without stylesheets
+#
+
+# Stylesheets are available if the package xorg-sgml-doctools is installed
+if HAVE_STYLESHEETS
+
+# The location where all cross reference databases are installed
+sgmldbsdir = $(XORG_SGML_PATH)/X11/dbs
+masterdb = "$(sgmldbsdir)/masterdb$(suffix $@).xml"
+XMLTO_FLAGS =							\
+	--searchpath "$(XORG_SGML_PATH)/X11"			\
+	--stringparam target.database.document=$(masterdb)	\
+	--stringparam current.docid="$(<:.xml=)"		\
+	--stringparam collect.xref.targets="no"
+
+XMLTO_XHTML_FLAGS = \
+	-x $(STYLESHEET_SRCDIR)/xorg-xhtml.xsl \
+	--stringparam html.stylesheet=$(STYLESHEET_SRCDIR)/xorg.css
+
+XMLTO_FO_FLAGS = \
+	-x $(STYLESHEET_SRCDIR)/xorg-fo.xsl
+endif HAVE_STYLESHEETS
+
+shelf_DATA += $(docbook:.xml=.html)
+%.html: %.xml  $(chapters)
+	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) $(XMLTO_XHTML_FLAGS) xhtml-nochunks $<
+
+if HAVE_FOP
+shelf_DATA += $(docbook:.xml=.pdf) $(docbook:.xml=.ps)
+%.pdf: %.xml $(chapters)
+	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) $(XMLTO_FO_FLAGS) --with-fop pdf $<
+%.ps: %.xml $(chapters)
+	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) $(XMLTO_FO_FLAGS) --with-fop ps $<
+endif HAVE_FOP
+
+if HAVE_XMLTO_TEXT
+shelf_DATA += $(docbook:.xml=.txt)
+%.txt: %.xml $(chapters)
+	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) $(XMLTO_XHTML_FLAGS) txt $<
+endif HAVE_XMLTO_TEXT
+
+#
+# Generate documents cross-reference target databases
+#
+
+# This is only possible if the xorg-sgml-doctools package is installed
+if HAVE_STYLESHEETS
+if HAVE_XSLTPROC
+
+# DocBook/XML generated document cross-reference database
+sgmldbs_DATA = $(docbook:.xml=.html.db) $(docbook:.xml=.fo.db)
+
+# Generate DocBook/XML document cross-reference database
+# Flags for the XSL Transformation processor generating xref target databases
+XSLTPROC_FLAGS =					\
+	--path "$(XORG_SGML_PATH)/X11"			\
+	--stringparam targets.filename "$@"		\
+	--stringparam collect.xref.targets "only"	\
+	--nonet --xinclude
+
+%.html.db: %.xml  $(chapters)
+	$(AM_V_GEN)$(XSLTPROC) $(XSLTPROC_FLAGS) \
+	http://docbook.sourceforge.net/release/xsl/current/xhtml/docbook.xsl $<
+
+%.fo.db: %.xml $(chapters)
+	$(AM_V_GEN)$(XSLTPROC) $(XSLTPROC_FLAGS) \
+	http://docbook.sourceforge.net/release/xsl/current/fo/docbook.xsl $<
+
+endif HAVE_XSLTPROC
+endif HAVE_STYLESHEETS
+
+CLEANFILES = $(shelf_DATA) $(sgmldbs_DATA)
diff --git a/include/X11/Xaw/AsciiSink.h b/include/X11/Xaw/AsciiSink.h
index be13433..27d8f48 100644
--- a/include/X11/Xaw/AsciiSink.h
+++ b/include/X11/Xaw/AsciiSink.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/AsciiSinkP.h b/include/X11/Xaw/AsciiSinkP.h
index ec6c212..4bf440a 100644
--- a/include/X11/Xaw/AsciiSinkP.h
+++ b/include/X11/Xaw/AsciiSinkP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -51,8 +51,8 @@ SOFTWARE.
 /*
  * AsciiSink Object Private Data
  */
-#include <X11/Xaw/TextSinkP.h> 
-#include <X11/Xaw/AsciiSink.h> 
+#include <X11/Xaw/TextSinkP.h>
+#include <X11/Xaw/AsciiSink.h>
 
 /* New fields for the AsciiSink object class record */
 typedef struct _AsciiSinkClassPart {
diff --git a/include/X11/Xaw/AsciiSrc.h b/include/X11/Xaw/AsciiSrc.h
index 0bd14b4..08c5f8c 100644
--- a/include/X11/Xaw/AsciiSrc.h
+++ b/include/X11/Xaw/AsciiSrc.h
@@ -35,7 +35,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    June 29, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -57,7 +57,7 @@ in this Software without prior written authorization from The Open Group.
  useStringInPlace    UseStringInPlace	Boolean		False
 
 */
- 
+
 extern WidgetClass asciiSrcObjectClass;
 
 typedef struct _AsciiSrcClassRec *AsciiSrcObjectClass;
diff --git a/include/X11/Xaw/AsciiSrcP.h b/include/X11/Xaw/AsciiSrcP.h
index 2668f06..1f3f06e 100644
--- a/include/X11/Xaw/AsciiSrcP.h
+++ b/include/X11/Xaw/AsciiSrcP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -55,7 +55,7 @@ SOFTWARE.
  * Date:    June 29, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -75,10 +75,10 @@ SOFTWARE.
 #endif
 #endif
 
-typedef struct _Piece {		/* Piece of the text file of BUFSIZ allocated 
+typedef struct _Piece {		/* Piece of the text file of BUFSIZ allocated
 				   characters */
     char *text;			/* The text in this buffer */
-    XawTextPosition used;	/* The number of characters of this buffer 
+    XawTextPosition used;	/* The number of characters of this buffer
 				   that have been used */
     struct _Piece *prev, *next;	/* linked list pointers */
 } Piece;
@@ -122,7 +122,7 @@ typedef struct _AsciiSrcPart {
 #endif
     Boolean allocated_string;	/* Have I allocated the
 				   string in ascii_src->string? */
-    XawTextPosition length; 	/* length of file */
+    XawTextPosition length;	/* length of file */
     Piece *first_piece;		/* first piece of the text */
 #ifndef OLDXAW
     XtPointer pad[4];	/* for future use and keep binary compatability */
@@ -136,4 +136,4 @@ typedef struct _AsciiSrcRec {
     AsciiSrcPart  ascii_src;
 } AsciiSrcRec;
 
-#endif /* _XawAsciiSrcP_h */ 
+#endif /* _XawAsciiSrcP_h */
diff --git a/include/X11/Xaw/AsciiText.h b/include/X11/Xaw/AsciiText.h
index 0c38f9c..b0b3cd9 100644
--- a/include/X11/Xaw/AsciiText.h
+++ b/include/X11/Xaw/AsciiText.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -48,13 +48,13 @@ SOFTWARE.
 /*
  * AsciiText.h - Public header file for AsciiText Widget
  *
- * This Widget is intended to be used as a simple front end to the 
+ * This Widget is intended to be used as a simple front end to the
  * text widget with an ascii source and ascii sink attached to it
  *
  * Date:    June 29, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 #ifndef _AsciiText_h
diff --git a/include/X11/Xaw/AsciiTextP.h b/include/X11/Xaw/AsciiTextP.h
index 52863e5..f91c362 100644
--- a/include/X11/Xaw/AsciiTextP.h
+++ b/include/X11/Xaw/AsciiTextP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -48,13 +48,13 @@ SOFTWARE.
 /*
  * AsciiText.c - Private header file for AsciiText Widget.
  *
- * This Widget is intended to be used as a simple front end to the 
+ * This Widget is intended to be used as a simple front end to the
  * text widget with an ascii source and ascii sink attached to it.
  *
  * Date:    June 29, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/Box.h b/include/X11/Xaw/Box.h
index 19e9a65..9eb1884 100644
--- a/include/X11/Xaw/Box.h
+++ b/include/X11/Xaw/Box.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -63,11 +63,11 @@ SOFTWARE.
  borderWidth	     BorderWidth	Dimension	1
  destroyCallback     Callback		Pointer		NULL
  displayList	     DisplayList	XawDisplayList*	NULL
- hSpace 	     HSpace		Dimension	4
+ hSpace		     HSpace		Dimension	4
  height		     Height		Dimension	0
  mappedWhenManaged   MappedWhenManaged	Boolean		True
  orientation	     Orientation	XtOrientation	vertical
- vSpace 	     VSpace		Dimension	4
+ vSpace		     VSpace		Dimension	4
  width		     Width		Dimension	0
  x		     Position		Position	0
  y		     Position		Position	0
@@ -83,7 +83,7 @@ SOFTWARE.
 #ifndef XawNdisplayList
 #define XawNdisplayList "displayList"
 #endif
- 
+
 #ifndef XawCDisplayList
 #define XawCDisplayList "DisplayList"
 #endif
diff --git a/include/X11/Xaw/BoxP.h b/include/X11/Xaw/BoxP.h
index 87f2ac4..b3c2573 100644
--- a/include/X11/Xaw/BoxP.h
+++ b/include/X11/Xaw/BoxP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -91,7 +91,7 @@ typedef struct {
 typedef struct _BoxRec {
     CorePart	    core;
     CompositePart   composite;
-    BoxPart 	    box;
+    BoxPart	    box;
 } BoxRec;
 
 #endif /* _XawBoxP_h */
diff --git a/include/X11/Xaw/Command.h b/include/X11/Xaw/Command.h
index 7bfac2e..7011fde 100644
--- a/include/X11/Xaw/Command.h
+++ b/include/X11/Xaw/Command.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/CommandP.h b/include/X11/Xaw/CommandP.h
index 9d9d1dc..d0be64e 100644
--- a/include/X11/Xaw/CommandP.h
+++ b/include/X11/Xaw/CommandP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -57,7 +57,7 @@ SOFTWARE.
 typedef enum {
     HighlightNone,		/* Do not highlight */
     HighlightWhenUnset,		/* Highlight only when unset, this is
-				   to preserve current command widget 
+				   to preserve current command widget
 				   functionality */
     HighlightAlways		/* Always highlight, lets the toggle widget
 				   and other subclasses do the right thing */
@@ -85,14 +85,14 @@ typedef struct {
     XtCallbackList callbacks;
 
     /* private state */
-    Pixmap      	gray_pixmap;
-    GC          	normal_GC;
-    GC          	inverse_GC;
-    Boolean     	set;
+    Pixmap	gray_pixmap;
+    GC		normal_GC;
+    GC		inverse_GC;
+    Boolean	set;
     XtCommandHighlight	highlighted;
 
     /* more resources */
-    int			shape_style;    
+    int			shape_style;
     Dimension		corner_round;
 
 #ifndef OLDXAW
diff --git a/include/X11/Xaw/Dialog.h b/include/X11/Xaw/Dialog.h
index d4442c3..442d2d2 100644
--- a/include/X11/Xaw/Dialog.h
+++ b/include/X11/Xaw/Dialog.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/DialogP.h b/include/X11/Xaw/DialogP.h
index 755d9bd..8fb4735 100644
--- a/include/X11/Xaw/DialogP.h
+++ b/include/X11/Xaw/DialogP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/Form.h b/include/X11/Xaw/Form.h
index bc818e9..71a0bcc 100644
--- a/include/X11/Xaw/Form.h
+++ b/include/X11/Xaw/Form.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -135,7 +135,7 @@ typedef enum {
 #ifndef XawNdisplayList
 #define XawNdisplayList "displayList"
 #endif
- 
+
 #ifndef XawCDisplayList
 #define XawCDisplayList "DisplayList"
 #endif
@@ -163,5 +163,5 @@ void XawFormDoLayout
  );
 
 _XFUNCPROTOEND
- 
+
 #endif /* _XawForm_h */
diff --git a/include/X11/Xaw/FormP.h b/include/X11/Xaw/FormP.h
index fe658b5..43a58e9 100644
--- a/include/X11/Xaw/FormP.h
+++ b/include/X11/Xaw/FormP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/Grip.h b/include/X11/Xaw/Grip.h
index 131cf23..e8892ae 100644
--- a/include/X11/Xaw/Grip.h
+++ b/include/X11/Xaw/Grip.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/GripP.h b/include/X11/Xaw/GripP.h
index bc7f96f..427948a 100644
--- a/include/X11/Xaw/GripP.h
+++ b/include/X11/Xaw/GripP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/Label.h b/include/X11/Xaw/Label.h
index 1ce32bc..175f1c1 100644
--- a/include/X11/Xaw/Label.h
+++ b/include/X11/Xaw/Label.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/LabelP.h b/include/X11/Xaw/LabelP.h
index 755e171..e8cc611 100644
--- a/include/X11/Xaw/LabelP.h
+++ b/include/X11/Xaw/LabelP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -56,7 +56,7 @@ SOFTWARE.
 
 /* New fields for the Label widget class record */
 typedef struct {
-  XtPointer extension;
+    XtPointer extension;
 } LabelClassPart;
 
 /* Full class record declaration */
@@ -73,7 +73,7 @@ typedef struct {
     /* resources */
     Pixel	foreground;
     XFontStruct	*font;
-    XFontSet 	fontset;
+    XFontSet	fontset;
     char	*label;
     XtJustify	justify;
     Dimension	internal_width;
diff --git a/include/X11/Xaw/List.h b/include/X11/Xaw/List.h
index e00569c..7fc59f4 100644
--- a/include/X11/Xaw/List.h
+++ b/include/X11/Xaw/List.h
@@ -23,11 +23,11 @@ in this Software without prior written authorization from The Open Group.
 */
 
 /*  This is the List widget, it is useful to display a list, without the
- *  overhead of having a widget for each item in the list.  It allows 
+ *  overhead of having a widget for each item in the list.  It allows
  *  the user to select an item in a list and notifies the application through
  *  a callback function.
  *
- *	Created: 	8/13/88
+ *	Created:	8/13/88
  *	By:		Chris D. Peterson
  *                      MIT X Consortium
  */
@@ -49,7 +49,7 @@ in this Software without prior written authorization from The Open Group.
  cursor		     Cursor		Cursor		left_ptr
  cursorName	     Cursor		String		NULL
  defaultColumns      Columns            int             2          **5
- destroyCallback     Callback		Pointer		NULL 
+ destroyCallback     Callback		Pointer		NULL
  font		     Font		XFontStruct*	XtDefaultFont
  forceColumns        Columns            Boolean         False      **5
  foreground	     Foreground		Pixel		XtDefaultForeground
@@ -75,28 +75,28 @@ in this Software without prior written authorization from The Open Group.
        is set to the minimum size necessay to fit the entire list.
 
        If both Width and Height are zero then they are adjusted to fit the
-       entire list that is created width the number of default columns 
+       entire list that is created width the number of default columns
        specified in the defaultColumns resource.
 
  **2 - This is an array of strings the specify elements of the list.
-       This resource must be specified. 
+       This resource must be specified.
        (What good is a list widget without a list??  :-)
 
  **3 - Longest is the length of the widest string in pixels.
 
  **4 - If either of these values are zero (0) then the list widget calculates
-       the correct value. 
+       the correct value.
 
-       (This allows you to make startup faster if you already have 
+       (This allows you to make startup faster if you already have
         this information calculated)
 
-       NOTE: If the numberStrings value is zero the list must 
+       NOTE: If the numberStrings value is zero the list must
              be NULL terminated.
 
  **5 - By setting the List.Columns resource you can force the application to
-       have a given number of columns.	     
-        
- **6 - This returns the name and index of the item selected in an 
+       have a given number of columns.
+
+ **6 - This returns the name and index of the item selected in an
        XawListReturnStruct that is pointed to by the client_data
        in the CallbackProc.
 
@@ -105,7 +105,7 @@ in this Software without prior written authorization from The Open Group.
 /*
  * Value returned when there are no highlighted objects
  */
-#define XAW_LIST_NONE -1	
+#define XAW_LIST_NONE -1
 
 #define XtCList "List"
 #define XtCSpacing "Spacing"
@@ -124,7 +124,7 @@ in this Software without prior written authorization from The Open Group.
 #define XtNrowSpacing "rowSpacing"
 #define XtNverticalList "verticalList"
 #define XtNshowCurrent "showCurrent"
- 
+
 #ifndef XtNfontSet
 #define XtNfontSet "fontSet"
 #endif
diff --git a/include/X11/Xaw/ListP.h b/include/X11/Xaw/ListP.h
index 4a83c9a..5f53982 100644
--- a/include/X11/Xaw/ListP.h
+++ b/include/X11/Xaw/ListP.h
@@ -23,11 +23,11 @@ in this Software without prior written authorization from The Open Group.
 */
 
 
-/* 
+/*
  * This is a List widget.  It allows the user to select an item in a list and
  * notifies the application through a callback function.
  *
- *	Created: 	8/13/88
+ *	Created:	8/13/88
  *	By:		Chris D. Peterson
  *                      MIT - Project Athena
  */
diff --git a/include/X11/Xaw/MenuButtoP.h b/include/X11/Xaw/MenuButtoP.h
index 277cdfc..8ee3195 100644
--- a/include/X11/Xaw/MenuButtoP.h
+++ b/include/X11/Xaw/MenuButtoP.h
@@ -32,7 +32,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    May 2, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/MenuButton.h b/include/X11/Xaw/MenuButton.h
index 2df6191..93f0963 100644
--- a/include/X11/Xaw/MenuButton.h
+++ b/include/X11/Xaw/MenuButton.h
@@ -38,7 +38,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    May 2, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/MultiSink.h b/include/X11/Xaw/MultiSink.h
index 72ba289..3519acc 100644
--- a/include/X11/Xaw/MultiSink.h
+++ b/include/X11/Xaw/MultiSink.h
@@ -51,13 +51,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/MultiSinkP.h b/include/X11/Xaw/MultiSinkP.h
index a2867b6..019f5f4 100644
--- a/include/X11/Xaw/MultiSinkP.h
+++ b/include/X11/Xaw/MultiSinkP.h
@@ -52,13 +52,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -78,8 +78,8 @@ SOFTWARE.
 /*
  * MultiSink Object Private Data
  */
-#include <X11/Xaw/TextSinkP.h> 
-#include <X11/Xaw/MultiSink.h> 
+#include <X11/Xaw/TextSinkP.h>
+#include <X11/Xaw/MultiSink.h>
 
 /* new fields for the MultiSink object class */
 typedef struct _MultiSinkClassPart {
diff --git a/include/X11/Xaw/MultiSrc.h b/include/X11/Xaw/MultiSrc.h
index 7c8a1c4..628da0c 100644
--- a/include/X11/Xaw/MultiSrc.h
+++ b/include/X11/Xaw/MultiSrc.h
@@ -71,7 +71,7 @@ in this Software without prior written authorization from The Open Group.
  useStringInPlace    UseStringInPlace	Boolean		False
 
 */
- 
+
 extern WidgetClass multiSrcObjectClass;
 
 typedef struct _MultiSrcClassRec *MultiSrcObjectClass;
diff --git a/include/X11/Xaw/MultiSrcP.h b/include/X11/Xaw/MultiSrcP.h
index a3609cc..95642a4 100644
--- a/include/X11/Xaw/MultiSrcP.h
+++ b/include/X11/Xaw/MultiSrcP.h
@@ -52,13 +52,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -80,11 +80,11 @@ SOFTWARE.
  * Date:    June 29, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
-/* 
+/*
  * This file was changed from AsciiSrcP.h.
  *
  * By Li Yuhong, Sept. 18, 1990
@@ -107,10 +107,10 @@ SOFTWARE.
 #endif
 #endif
 
-typedef struct _MultiPiece {	/* Piece of the text file of BUFSIZ allocated 
+typedef struct _MultiPiece {	/* Piece of the text file of BUFSIZ allocated
 				   characters */
     wchar_t* text;		/* The text in this buffer */
-    XawTextPosition used;	/* The number of characters of this buffer 
+    XawTextPosition used;	/* The number of characters of this buffer
 				   that have been used */
     struct _MultiPiece *prev, *next;	/* linked list pointers */
 } MultiPiece;
@@ -153,7 +153,7 @@ typedef struct _MultiSrcPart {
 #endif
     Boolean allocated_string;	/* Have I allocated the
 				   string in multi_src->string? */
-    XawTextPosition length; 	/* length of file - IN CHARACTERS, NOT BYTES */
+    XawTextPosition length;	/* length of file - IN CHARACTERS, NOT BYTES */
     MultiPiece *first_piece;	/* first piece of the text */
 #ifndef OLDXAW
     XtPointer pad[4];	/* for future use and keep binary compatability */
diff --git a/include/X11/Xaw/Paned.h b/include/X11/Xaw/Paned.h
index c5b96b5..4b7e115 100644
--- a/include/X11/Xaw/Paned.h
+++ b/include/X11/Xaw/Paned.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -92,7 +92,7 @@ SOFTWARE.
  verticalGripCursor      Cursor	           Cursor           sb_v_double_arrow
  width		         Width	           Dimension	    0
  x		         Position	   Position	    0
- y		         Position	   Position    	    0
+ y		         Position	   Position	    0
 
 ** These resources now are set to the vertical or horizontal cursor
    depending upon orientation, by default.  If a value is specified here
@@ -107,7 +107,7 @@ CONSTRAINT RESOURCES:
  max		      Max	        Dimension	unlimited
  min		      Min		Dimension	Grip Size
  preferredPaneSize    PreferredPaneSize Dimension	PANED_ASK_CHILD
- resizeToPreferred    Boolean		Boolean	 	False
+ resizeToPreferred    Boolean		Boolean		False
  showGrip	      ShowGrip		Boolean		True
  skipAdjust	      Boolean	        Boolean         False
 
@@ -152,7 +152,7 @@ typedef struct _PanedClassRec	*PanedWidgetClass;
 typedef struct _PanedRec	*PanedWidget;
 
 /*
- *  Public Procedures 
+ *  Public Procedures
  */
 
 _XFUNCPROTOBEGIN
diff --git a/include/X11/Xaw/PanedP.h b/include/X11/Xaw/PanedP.h
index 08dcd3b..4e40eaf 100644
--- a/include/X11/Xaw/PanedP.h
+++ b/include/X11/Xaw/PanedP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -90,7 +90,7 @@ typedef struct _PanedConstraintsPart {
     Dimension   preferred_size;	/* The Preferred size of the pane.
 				   If this is zero then ask child for size*/
     Boolean     resize_to_pref;	/* resize this pane to its preferred size
-				   on a resize or change managed after 
+				   on a resize or change managed after
 				   realize */
 
     /* Private state */
@@ -98,7 +98,7 @@ typedef struct _PanedConstraintsPart {
     Position	olddelta;	/* The last value of dy */
     Boolean     paned_adjusted_me; /* Has the vpaned adjusted this widget w/o
 				     user interaction to make things fit? */
-    Dimension	wp_size;	/* widget's preferred size */ 
+    Dimension	wp_size;	/* widget's preferred size */
     int size;			/* the size the widget will actually get */
     Widget	grip;		/* The grip for this child */
 } PanedConstraintsPart, *Pane;
@@ -120,9 +120,9 @@ typedef struct _PaneStack {
 /* New Fields for the Paned widget record */
 typedef struct {
     /* resources */
-    Position    grip_indent;               /* Location of grips (offset	
+    Position    grip_indent;               /* Location of grips (offset
 					      from right margin) */
-    Boolean     refiguremode;              /* Whether to refigure changes 
+    Boolean     refiguremode;              /* Whether to refigure changes
 					      right now */
     XtTranslations grip_translations;      /* grip translation table */
     Pixel	internal_bp;		/* color of internal borders */
diff --git a/include/X11/Xaw/Panner.h b/include/X11/Xaw/Panner.h
index 0248292..dd37602 100644
--- a/include/X11/Xaw/Panner.h
+++ b/include/X11/Xaw/Panner.h
@@ -32,16 +32,16 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/Xaw/Reports.h>
 
 /*****************************************************************************
- * 
+ *
  * Panner Widget (subclass of Simple)
- * 
+ *
  * This widget is used to represent navigation in a 2d coordinate system
- * 
+ *
  * Resources:
- * 
+ *
  *  Name		Class		Type		Default
  *  ----		-----		----		-------
- * 
+ *
  *  allowOff		AllowOff	Boolean		FALSE
  *  background		Background	Pixel		XtDefaultBackground
  *  backgroundStipple	BackgroundStipple	String	NULL
@@ -60,7 +60,7 @@ in this Software without prior written authorization from The Open Group.
  *  sliderY		SliderY		Position	0
  *  sliderWidth		SliderWidth	Dimension	0
  *  sliderHeight	SliderHeight	Dimension	0
- * 
+ *
  *****************************************************************************/
 
 #ifndef _XtStringDefs_h_
diff --git a/include/X11/Xaw/Porthole.h b/include/X11/Xaw/Porthole.h
index d7c260c..2dbcf18 100644
--- a/include/X11/Xaw/Porthole.h
+++ b/include/X11/Xaw/Porthole.h
@@ -32,26 +32,26 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/Xaw/Reports.h>
 
 /*****************************************************************************
- * 
+ *
  * Porthole Widget (subclass of Composite)
- * 
+ *
  * This widget is similar to a viewport without scrollbars.  Child movement
  * is done by external panners or scrollbars.
- * 
+ *
  * Parameters:
- * 
+ *
  *  Name		Class		Type		Default
  *  ----		-----		----		-------
- * 
+ *
  *  background		Background	Pixel		XtDefaultBackground
  *  border	        BorderColor	Pixel		XtDefaultForeground
  *  borderWidth		BorderWidth	Dimension	1
  *  height		Height		Dimension	0
  *  reportCallback	ReportCallback	Pointer		NULL
  *  width		Width		Dimension	0
- *  x 			Position	Position	0
+ *  x			Position	Position	0
  *  y			Position	Position	0
- * 
+ *
  *****************************************************************************/
 
 extern WidgetClass portholeWidgetClass;
diff --git a/include/X11/Xaw/Repeater.h b/include/X11/Xaw/Repeater.h
index f09af2d..6b712ca 100644
--- a/include/X11/Xaw/Repeater.h
+++ b/include/X11/Xaw/Repeater.h
@@ -31,16 +31,16 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/Xaw/Command.h>
 
 /*****************************************************************************
- * 
+ *
  * Repeater Widget (subclass of Command)
- * 
+ *
  * This widget is a push button that repeatedly fires when held down
- * 
+ *
  * Parameters:
- * 
+ *
  *  Name		Class		Type		Default
  *  ----		-----		----		-------
- * 
+ *
  *  decay		Decay		int		5 milliseconds
  *  flash		Boolean		Boolean		FALSE
  *  initialDelay	Delay		int		200 milliseconds
@@ -48,7 +48,7 @@ in this Software without prior written authorization from The Open Group.
  *  repeatDelay		Delay		int		50 milliseconds
  *  startCallback	StartCallback	XtCallbackList	NULL
  *  stopCallback	StopCallback	XtCallbackList	NULL
- * 
+ *
  *****************************************************************************/
 
 #define XtNdecay "decay"
diff --git a/include/X11/Xaw/Scrollbar.h b/include/X11/Xaw/Scrollbar.h
index 1a8ef6a..904aad9 100644
--- a/include/X11/Xaw/Scrollbar.h
+++ b/include/X11/Xaw/Scrollbar.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -125,7 +125,7 @@ void XawScrollbarSetThumb
 #else
  float			top,
  float			shown
-#endif		 
+#endif
  );
 
 _XFUNCPROTOEND
diff --git a/include/X11/Xaw/ScrollbarP.h b/include/X11/Xaw/ScrollbarP.h
index ed77d2b..b36472d 100644
--- a/include/X11/Xaw/ScrollbarP.h
+++ b/include/X11/Xaw/ScrollbarP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/Simple.h b/include/X11/Xaw/Simple.h
index 52b2970..ff38f16 100644
--- a/include/X11/Xaw/Simple.h
+++ b/include/X11/Xaw/Simple.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/SimpleMenP.h b/include/X11/Xaw/SimpleMenP.h
index 34ee86a..5425468 100644
--- a/include/X11/Xaw/SimpleMenP.h
+++ b/include/X11/Xaw/SimpleMenP.h
@@ -90,7 +90,7 @@ typedef struct _SimpleMenuPart {
 
 typedef struct _SimpleMenuRec {
     CorePart		core;
-    CompositePart 	composite;
+    CompositePart	composite;
     ShellPart		shell;
     OverrideShellPart	override;
     SimpleMenuPart	simple_menu;
diff --git a/include/X11/Xaw/SimpleMenu.h b/include/X11/Xaw/SimpleMenu.h
index 633fb17..79f7216 100644
--- a/include/X11/Xaw/SimpleMenu.h
+++ b/include/X11/Xaw/SimpleMenu.h
@@ -38,7 +38,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    April 3, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/SimpleP.h b/include/X11/Xaw/SimpleP.h
index d69aa69..d801162 100644
--- a/include/X11/Xaw/SimpleP.h
+++ b/include/X11/Xaw/SimpleP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/Sme.h b/include/X11/Xaw/Sme.h
index 758b53d..b395ae7 100644
--- a/include/X11/Xaw/Sme.h
+++ b/include/X11/Xaw/Sme.h
@@ -25,12 +25,12 @@ in this Software without prior written authorization from The Open Group.
 
 /*
  * This is the public header file for the Athena Sme object.
- * It is intended to be used with the simple menu widget.  
+ * It is intended to be used with the simple menu widget.
  *
  * Date:    April 3, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/SmeBSB.h b/include/X11/Xaw/SmeBSB.h
index 88bc15a..ab6fda7 100644
--- a/include/X11/Xaw/SmeBSB.h
+++ b/include/X11/Xaw/SmeBSB.h
@@ -33,7 +33,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    April 3, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/SmeLine.h b/include/X11/Xaw/SmeLine.h
index 34e9595..af4406f 100644
--- a/include/X11/Xaw/SmeLine.h
+++ b/include/X11/Xaw/SmeLine.h
@@ -26,12 +26,12 @@ in this Software without prior written authorization from The Open Group.
 
 /*
  * This is the public header file for the Athena SmeLine object.
- * It is intended to be used with the simple menu widget.  
+ * It is intended to be used with the simple menu widget.
  *
  * Date:    April 3, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/SmeP.h b/include/X11/Xaw/SmeP.h
index ad35515..bd4bd9d 100644
--- a/include/X11/Xaw/SmeP.h
+++ b/include/X11/Xaw/SmeP.h
@@ -25,12 +25,12 @@ in this Software without prior written authorization from The Open Group.
 
 /*
  * This is the private header file for the Athena Sme object.
- * This object is intended to be used with the simple menu widget.  
+ * This object is intended to be used with the simple menu widget.
  *
  * Date:    April 3, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
diff --git a/include/X11/Xaw/StripCharP.h b/include/X11/Xaw/StripCharP.h
index 974291a..a0085b4 100644
--- a/include/X11/Xaw/StripCharP.h
+++ b/include/X11/Xaw/StripCharP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -63,7 +63,7 @@ typedef struct {
     Pixel hipixel;		/* color index for lines */
     GC fgGC;			/* graphics context for fgpixel */
     GC hiGC;			/* graphics context for hipixel */
-    
+
     /* private */
     int update;			/* update frequence */
     int scale;			/* scale factor */
diff --git a/include/X11/Xaw/StripChart.h b/include/X11/Xaw/StripChart.h
index 7404163..17e9299 100644
--- a/include/X11/Xaw/StripChart.h
+++ b/include/X11/Xaw/StripChart.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -61,7 +61,7 @@ SOFTWARE.
  Name		     Class		RepType		Default Value
  ----		     -----		-------		-------------
  accelerators	     Accelerators	AcceleratorTable NULL
- ancestorSensitive   AncestorSensitive	Boolean		True 
+ ancestorSensitive   AncestorSensitive	Boolean		True
  background	     Background		Pixel		XtDefaultBackground
  backgroundPixmap    Pixmap		Pixmap		XtUnspecifiedPixmap
  borderColor	     BorderColor	Pixel		XtDefaultForeground
@@ -107,7 +107,7 @@ SOFTWARE.
 #define XtNminScale "minScale"
 #define XtNscale "scale"
 #define XtNvmunix "vmunix"
- 
+
 typedef struct _StripChartRec *StripChartWidget;
 typedef struct _StripChartClassRec *StripChartWidgetClass;
 
diff --git a/include/X11/Xaw/Text.h b/include/X11/Xaw/Text.h
index c2153bf..78c1478 100644
--- a/include/X11/Xaw/Text.h
+++ b/include/X11/Xaw/Text.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -52,7 +52,7 @@ SOFTWARE.
 
 /*
 
- Class: 	textWidgetClass
+ Class:		textWidgetClass
  Class Name:	Text
  Superclass:	Simple
 
diff --git a/include/X11/Xaw/TextP.h b/include/X11/Xaw/TextP.h
index 2653500..60f4624 100644
--- a/include/X11/Xaw/TextP.h
+++ b/include/X11/Xaw/TextP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -104,10 +104,10 @@ typedef struct {
 typedef struct _XawTextSelectionSalt {
     struct _XawTextSelectionSalt *next;
     XawTextSelection	s;
-    /* 
+    /*
      * The element "contents" stores the CT string which is gotten in the
      * function _XawTextSaltAwaySelection()
-    */ 
+    */
     char		*contents;
     int			length;
 } XawTextSelectionSalt;
@@ -158,11 +158,11 @@ struct SearchAndReplace {
     Widget search_popup;	/* The poppup widget that allows searches.*/
     Widget label1;		/* The label widgets for the search window. */
     Widget label2;
-    Widget left_toggle; 	/* The left search toggle radioGroup. */
+    Widget left_toggle;		/* The left search toggle radioGroup. */
     Widget right_toggle;	/* The right search toggle radioGroup. */
     Widget rep_label;		/* The Replace label string. */
     Widget rep_text;		/* The Replace text field. */
-    Widget search_text; 	/* The Search text field. */
+    Widget search_text;		/* The Search text field. */
     Widget rep_one;		/* The Replace one button. */
     Widget rep_all;		/* The Replace all button. */
 #ifndef OLDXAW
diff --git a/include/X11/Xaw/TextSink.h b/include/X11/Xaw/TextSink.h
index 1bbe92c..f3dd968 100644
--- a/include/X11/Xaw/TextSink.h
+++ b/include/X11/Xaw/TextSink.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -65,7 +65,7 @@ SOFTWARE.
  background          Background      Pixel              XtDefaultBackground
  cursorColor	     Color	      Pixel		XtDefaultForeground
 */
- 
+
 /* Class record constants */
 
 extern WidgetClass textSinkObjectClass;
@@ -103,7 +103,7 @@ _XFUNCPROTOBEGIN
  *	highlight - hightlight this text?
  *
  * Description:
- *	Stub function that in subclasses will display text. 
+ *	Stub function that in subclasses will display text.
  *
  * Note:
  *	  This function doesn't actually display anything, it is only a place
@@ -337,7 +337,7 @@ void XawTextSinkSetTabs
  int			tab_count,
  int			*tabs
 );
-						  
+
 /*
  * Function:
  *	XawTextSinkGetCursorBounds
diff --git a/include/X11/Xaw/TextSinkP.h b/include/X11/Xaw/TextSinkP.h
index c8cb2b8..78f41d2 100644
--- a/include/X11/Xaw/TextSinkP.h
+++ b/include/X11/Xaw/TextSinkP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/TextSrc.h b/include/X11/Xaw/TextSrc.h
index 89bd5c2..2c65e66 100644
--- a/include/X11/Xaw/TextSrc.h
+++ b/include/X11/Xaw/TextSrc.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -60,7 +60,7 @@ SOFTWARE.
  sourceChanged	     Changed		Boolean		False
 
 */
- 
+
 /* Class record constants */
 extern WidgetClass textSrcObjectClass;
 
@@ -169,7 +169,7 @@ int XawTextSourceReplace
  *	dir	 - direction to scan
  *	count	 - which occurance if this thing to search for
  *	include	 - whether or not to include the character found in
- *		   the position that is returned. 
+ *		   the position that is returned.
  *
  * Description:
  *	Scans the text source for the number and type of item specified.
diff --git a/include/X11/Xaw/TextSrcP.h b/include/X11/Xaw/TextSrcP.h
index 023d737..27514c2 100644
--- a/include/X11/Xaw/TextSrcP.h
+++ b/include/X11/Xaw/TextSrcP.h
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/Toggle.h b/include/X11/Xaw/Toggle.h
index 1e57d38..f6c6b97 100644
--- a/include/X11/Xaw/Toggle.h
+++ b/include/X11/Xaw/Toggle.h
@@ -29,7 +29,7 @@ in this Software without prior written authorization from The Open Group.
  * Author: Chris D. Peterson
  *         MIT X Consortium
  *         kit@expo.lcs.mit.edu
- *  
+ *
  * Date:   January 12, 1989
  */
 
@@ -105,7 +105,7 @@ typedef struct _ToggleRec        *ToggleWidget;
  */
 
 _XFUNCPROTOBEGIN
-   
+
 /*
  * Function:
  *	XawToggleChangeRadioGroup
diff --git a/include/X11/Xaw/ToggleP.h b/include/X11/Xaw/ToggleP.h
index 6735140..a816598 100644
--- a/include/X11/Xaw/ToggleP.h
+++ b/include/X11/Xaw/ToggleP.h
@@ -24,11 +24,11 @@ in this Software without prior written authorization from The Open Group.
 
 */
 
-/* 
+/*
  * Author: Chris D. Peterson
  *         MIT X Consortium
  *         kit@expo.lcs.mit.edu
- *  
+ *
  * Date:   January 12, 1989
  *
  */
diff --git a/include/X11/Xaw/Tree.h b/include/X11/Xaw/Tree.h
index 57ca34a..1747a78 100644
--- a/include/X11/Xaw/Tree.h
+++ b/include/X11/Xaw/Tree.h
@@ -29,7 +29,7 @@ in this Software without prior written authorization from The Open Group.
  * purpose and without fee is hereby granted, provided that the above
  * copyright notice appear in all copies and that both the copyright notice
  * and this permission notice appear in supporting documentation.
- * 
+ *
  * Prentice Hall and the authors disclaim all warranties with regard
  * to this software, including all implied warranties of merchantability and
  * fitness.  In no event shall Prentice Hall or the authors be liable
@@ -37,12 +37,12 @@ in this Software without prior written authorization from The Open Group.
  * resulting from loss of use, data or profits, whether in an action of
  * contract, negligence or other tortious action, arising out of or in
  * connection with the use or performance of this software.
- * 
+ *
  * Authors:  Jim Fulton, MIT X Consortium,
  *           based on a version by Douglas Young, Prentice Hall
- * 
+ *
  * This widget is based on the Tree widget described on pages 397-419 of
- * Douglas Young's book "The X Window System, Programming and Applications 
+ * Douglas Young's book "The X Window System, Programming and Applications
  * with Xt OSF/Motif Edition."  The layout code has been rewritten to use
  * additional blank space to make the structure of the graph easier to see
  * as well as to support vertical trees.
@@ -54,16 +54,16 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/Xmu/Converters.h>
 
 /******************************************************************************
- * 
+ *
  * Tree Widget (subclass of ConstraintClass)
- * 
+ *
  ******************************************************************************
- * 
+ *
  * Parameters:
- * 
+ *
  *  Name                Class              Type            Default
  *  ----                -----              ----            -------
- * 
+ *
  *  autoReconfigure     AutoReconfigure    Boolean         FALSE
  *  background          Background         Pixel           XtDefaultBackground
  *  foreground          Foreground         Pixel           XtDefaultForeground
@@ -71,14 +71,14 @@ in this Software without prior written authorization from The Open Group.
  *  hSpace              HSpace             Dimension       20
  *  lineWidth           LineWidth          Dimension       0
  *  vSpace              VSpace             Dimension       6
- * 
- * 
+ *
+ *
  * Constraint Resources attached to children:
- * 
+ *
  *  treeGC              TreeGC             GC              NULL
  *  treeParent          TreeParent         Widget          NULL
- * 
- * 
+ *
+ *
  *****************************************************************************/
 
                                         /* new instance field names */
@@ -108,7 +108,7 @@ in this Software without prior written authorization from The Open Group.
 #ifndef XawNdisplayList
 #define XawNdisplayList "displayList"
 #endif
- 
+
 #ifndef XawCDisplayList
 #define XawCDisplayList "DisplayList"
 #endif
diff --git a/include/X11/Xaw/TreeP.h b/include/X11/Xaw/TreeP.h
index 8776e78..01d2bdc 100644
--- a/include/X11/Xaw/TreeP.h
+++ b/include/X11/Xaw/TreeP.h
@@ -28,7 +28,7 @@ in this Software without prior written authorization from The Open Group.
  * purpose and without fee is hereby granted, provided that the above
  * copyright notice appear in all copies and that both the copyright notice
  * and this permission notice appear in supporting documentation.
- * 
+ *
  * Prentice Hall and the authors disclaim all warranties with regard
  * to this software, including all implied warranties of merchantability and
  * fitness.  In no event shall Prentice Hall or the authors be liable
@@ -36,12 +36,12 @@ in this Software without prior written authorization from The Open Group.
  * resulting from loss of use, data or profits, whether in an action of
  * contract, negligence or other tortious action, arising out of or in
  * connection with the use or performance of this software.
- * 
+ *
  * Authors:  Jim Fulton, MIT X Consortium,
  *           based on a version by Douglas Young, Prentice Hall
- * 
+ *
  * This widget is based on the Tree widget described on pages 397-419 of
- * Douglas Young's book "The X Window System, Programming and Applications 
+ * Douglas Young's book "The X Window System, Programming and Applications
  * with Xt OSF/Motif Edition."  The layout code has been rewritten to use
  * additional blank space to make the structure of the graph easier to see
  * as well as to support vertical trees.
diff --git a/include/X11/Xaw/VendorEP.h b/include/X11/Xaw/VendorEP.h
index 1ac0954..b91f10a 100644
--- a/include/X11/Xaw/VendorEP.h
+++ b/include/X11/Xaw/VendorEP.h
@@ -17,12 +17,12 @@
  * ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
  * WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTUOUS ACTION,
  * ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
- * SOFTWARE. 
+ * SOFTWARE.
  *
  *	Author:	Seiji Kuwari	OMRON Corporation
  *				kuwa@omron.co.jp
  *				kuwa%omron.co.jp@uunet.uu.net
- */				
+ */
 
 /*
 
diff --git a/include/X11/Xaw/Viewport.h b/include/X11/Xaw/Viewport.h
index da08e61..36fab44 100644
--- a/include/X11/Xaw/Viewport.h
+++ b/include/X11/Xaw/Viewport.h
@@ -27,13 +27,13 @@ Copyright 1987 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/ViewportP.h b/include/X11/Xaw/ViewportP.h
index 5dbadf0..2aeb8a5 100644
--- a/include/X11/Xaw/ViewportP.h
+++ b/include/X11/Xaw/ViewportP.h
@@ -31,13 +31,13 @@ Copyright 1987 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/include/X11/Xaw/XawImP.h b/include/X11/Xaw/XawImP.h
index 536e5b4..a03eef6 100644
--- a/include/X11/Xaw/XawImP.h
+++ b/include/X11/Xaw/XawImP.h
@@ -17,12 +17,12 @@
  * ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
  * WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTUOUS ACTION,
  * ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
- * SOFTWARE. 
+ * SOFTWARE.
  *
  *	Author:	Seiji Kuwari	OMRON Corporation
  *				kuwa@omron.co.jp
  *				kuwa%omron.co.jp@uunet.uu.net
- */				
+ */
 
 /*
 
diff --git a/specs/AsciiSource.xml b/specs/AsciiSource.xml
index bd51f99..ba170b9 100644
--- a/specs/AsciiSource.xml
+++ b/specs/AsciiSource.xml
@@ -224,7 +224,7 @@ requested with a call to <function>XtGetValues</function>.  This memory is alloc
 fly, and remains valid until the next time a string needs to be allocated.
 You may save memory by freeing this string as soon as you are done
 with it by calling <function>XawAsciiSourceFreeString</function>.
-<funcsynopsis>
+<funcsynopsis id='xawasciisourcefreestring'>
 <funcprototype>
   <funcdef>void<function> XawAsciiSourceFreeString</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -257,7 +257,7 @@ the next call to <function>XtGetValues</function> occurs, or when the widget is
 <!-- .LP -->
 To save the changes made in the current text source into a file use
 <function>XawAsciiSave</function>.
-<funcsynopsis>
+<funcsynopsis id='xawasciisave'>
 <funcprototype>
   <funcdef>Boolean<function> XawAsciiSave</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -289,7 +289,7 @@ only works on an AsciiSrc of type <function>XawAsciiFile</function>.
 <!-- .sp 1 -->
 To save the contents of the current text buffer into a named file use
 <function>XawAsciiSaveAsFile</function>.
-<funcsynopsis>
+<funcsynopsis id='xawasciisaveasfile'>
 <funcprototype>
   <funcdef>Boolean<function> XawAsciiSaveAsFile</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -335,7 +335,7 @@ To find out if the text buffer in an AsciiSrc object has changed
 since the last time it was saved with <function>XawAsciiSave</function> or queried
 <!-- .IN "XawAsciiSave" "" -->
 use <function>XawAsciiSourceChanged</function>.
-<funcsynopsis>
+<funcsynopsis id='xawasciisourcechanged'>
 <funcprototype>
   <funcdef>Boolean<function> XawAsciiSourceChanged</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/CH2.xml b/specs/CH2.xml
index 08f0ff5..cea1515 100644
--- a/specs/CH2.xml
+++ b/specs/CH2.xml
@@ -77,7 +77,7 @@ a tree of widgets created by this application.
 <!-- .IN "toolkit initialization" "" "@DEF@" -->
 <!-- .IN "XtAppInitialize" "" "@DEF@" -->
 <!-- .IN "fallback resources" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtappinitialize'>
 <funcprototype>
   <funcdef>Widget<function> XtAppInitialize</function></funcdef>
   <paramdef>XtAppContext<parameter> app_context_return</parameter></paramdef>
@@ -231,7 +231,7 @@ managed if the parent is already realized.
 To allocate, initialize, and manage a widget, use
 <function>XtCreateManagedWidget .</function>
 <!-- .IN "XtCreateManagedWidget" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtcreatemanagedwidget'>
 <funcprototype>
   <funcdef>Widget<function> XtCreateManagedWidget</function></funcdef>
   <paramdef>String<parameter> name</parameter></paramdef>
@@ -675,7 +675,7 @@ for performance reasons.
 Creates an X window for the widget and, if it is a composite widget,
 realizes each of its managed children.
 <!-- .IN "XtRealizeWidget" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtrealizewidget'>
 <funcprototype>
   <funcdef>void<function> XtRealizeWidget</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -710,7 +710,7 @@ widgets, it is ready to process the events that will be delivered by the
 X Server to this client.  A function call that will process the
 events is <function>XtAppMainLoop</function>.
 <!-- .IN "XtAppMainLoop" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtappmainloop'>
 <funcprototype>
   <funcdef>void<function> XtAppMainLoop</function></funcdef>
   <paramdef>XtAppContext<parameter> app_context</parameter></paramdef>
@@ -792,7 +792,7 @@ widget windows are mapped (made viewable) automatically by
 <!-- .IN "XtSetMappedWhenManaged" "" "@DEF@" -->
 <!-- .IN "XtMapWidget" "" "" -->
 <!-- .IN "XtRealizeWidget" "" "" -->
-<funcsynopsis>
+<funcsynopsis id='xtsetmappedwhenmanaged'>
 <funcprototype>
   <funcdef>void<function> XtSetMappedWhenManaged</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -837,7 +837,7 @@ The definition for
 <function>XtMapWidget</function>
 is:
 <!-- .IN "XtMapWidget" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtmapwidget'>
 <funcprototype>
   <funcdef>void<function> XtMapWidget</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -868,7 +868,7 @@ parent can avoid wasteful duplication of geometry processing and the
 associated ``screen flash''.
 <!-- .IN "XtManageChildren" "" "@DEF@" -->
 <!-- .IN "XtCreateWidget" "" "" -->
-<funcsynopsis>
+<funcsynopsis id='xtmanagechildren'>
 <funcprototype>
   <funcdef>void<function> XtManageChildren</function></funcdef>
   <paramdef>WidgetList<parameter> children</parameter></paramdef>
@@ -918,7 +918,7 @@ see the <emphasis remap='I'>X Toolkit Intrinsics - C Language Interface</emphasi
 To destroy a widget instance of any type, use
 <function>XtDestroyWidget</function>
 <!-- .IN "XtDestroyWidget" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtdestroywidget'>
 <funcprototype>
   <funcdef>void<function> XtDestroyWidget</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -957,7 +957,7 @@ To retrieve the current value of a resource attribute associated
 with a widget instance, use
 <function>XtGetValues .</function>
 <!-- .IN "XtGetValues" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtgetvalues'>
 <funcprototype>
   <funcdef>void<function> XtGetValues</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1018,7 +1018,7 @@ To modify the current value of a resource attribute associated with a
 widget instance, use
 <function>XtSetValues .</function>
 <!-- .IN "XtSetValues" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtsetvalues'>
 <funcprototype>
   <funcdef>void<function> XtSetValues</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1100,7 +1100,7 @@ Widgets can communicate changes in their state to their clients
 by means of a callback facility.
 The format for a client's callback handler is:
 <!-- .IN "CallbackProc" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='callbackproc'>
 <funcprototype>
   <funcdef>void<function> CallbackProc</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1194,7 +1194,7 @@ The second method for registering callbacks is to use
 <function>XtAddCallback</function>
 after the widget has been created.
 <!-- .IN "XtAddCallback" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xtaddcallback'>
 <funcprototype>
   <funcdef>void<function> XtAddCallback</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1880,11 +1880,12 @@ can be used, as in the first approach, for easier code maintenance.
 The best way to understand how to use any programming library is by
 trying some simple examples.  A collection of example programs that
 introduces each of the widgets in that Athena widget set, as well as many
-important toolkit programming concepts, is available in the X11R6
+important toolkit programming concepts, is available in the X11R5 contrib
 release as distributed by the X Consortium.  It can be found in the
-distribution directory <function>contrib/examples/mit/Xaw</function>, but see your
-site administrator for the exact location of these files on your system.
-See the README file from that directory for a guide to the examples.
+directory <filename>contrib/examples/Xaw</filename> in the archive
+at <ulink url="http://www.x.org/releases/X11R5/contrib-1.tar.Z" />
+See the <filename>README</filename> file from that directory for a guide
+to the examples.
 </para>
 </sect2>
 </sect1>
diff --git a/specs/Dialog.xml b/specs/Dialog.xml
index f77006c..ab09dba 100644
--- a/specs/Dialog.xml
+++ b/specs/Dialog.xml
@@ -580,7 +580,7 @@ available through the Dialog widget itself.
 To return the character string in the text field, use
 <!-- .PN XawDialogGetValueString . -->
 <!-- .IN "XawDialogGetValueString" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawdialoggetvaluestring'>
 <funcprototype>
   <funcdef>String<function> XawDialogGetValueString</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -617,7 +617,7 @@ the function <function>XawAsciiSourceFreeString</function>.
 To add a new button to the Dialog widget use
 <function>XawDialogAddButton</function>.
 <!-- .IN "XawDialogAddButton" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawdialogaddbutton'>
 <funcprototype>
   <funcdef>void<function> XawDialogAddButton</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/Form.xml b/specs/Form.xml
index 13cc36a..cd41ef9 100644
--- a/specs/Form.xml
+++ b/specs/Form.xml
@@ -488,7 +488,7 @@ To force or defer a re-layout of the Form, use
 <!-- .PN XawFormDoLayout . -->
 <!-- .IN "Form widget" "re-layout" -->
 <!-- .IN "XawFormDoLayout" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawformdolayout'>
 <funcprototype>
   <funcdef>void<function> XawFormDoLayout</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/List.xml b/specs/List.xml
index 0bad43d..fb5be8b 100644
--- a/specs/List.xml
+++ b/specs/List.xml
@@ -652,7 +652,7 @@ operating systems, and had to be changed.
 To change the list that is displayed, use
 <function>XawListChange .</function>
 <!-- .IN "XawListChange" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawlistchange'>
 <funcprototype>
   <funcdef>void<function> XawListChange</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -738,7 +738,7 @@ has been changed again with this function or with <function>XtSetValues</functio
 To highlight an item in the list, use
 <function>XawListHighlight .</function>
 <!-- .IN "XawListHighlight" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawlisthighlight'>
 <funcprototype>
   <funcdef>void<function> XawListHighlight</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -786,7 +786,7 @@ the highlighted item is unhighlighted before the new item is highlighted.
 To unhighlight the currently highlighted item in the list, use
 <function>XawListUnhighlight .</function>
 <!-- .IN "XawListUnhighlight" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawlistunhighlight'>
 <funcprototype>
   <funcdef>void<function> XawListUnhighlight</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -814,7 +814,7 @@ Specifies the List widget.
 To retrieve the list element that is currently <emphasis remap='I'>set</emphasis>, use
 <function>XawListShowCurrent .</function>
 <!-- .IN "XawListShowCurrent" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawlistshowcurrent'>
 <funcprototype>
   <funcdef>XawListReturnStruct<function> *XawListShowCurrent</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/Makefile.am b/specs/Makefile.am
index ebdbd72..8081d07 100644
--- a/specs/Makefile.am
+++ b/specs/Makefile.am
@@ -1,29 +1,12 @@
-#
-# Copyright (c) 2010, Oracle and/or its affiliates. All rights reserved.
-#
-# Permission is hereby granted, free of charge, to any person obtaining a
-# copy of this software and associated documentation files (the "Software"),
-# to deal in the Software without restriction, including without limitation
-# the rights to use, copy, modify, merge, publish, distribute, sublicense,
-# and/or sell copies of the Software, and to permit persons to whom the
-# Software is furnished to do so, subject to the following conditions:
-#
-# The above copyright notice and this permission notice (including the next
-# paragraph) shall be included in all copies or substantial portions of the
-# Software.
-#
-# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
-# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
-# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
-# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
-# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
-# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
-# DEALINGS IN THE SOFTWARE.
-#
 
 if ENABLE_SPECS
-doc_sources = libXaw.xml
-dist_doc_DATA = $(doc_sources)				\
+if HAVE_XMLTO
+
+# Main DocBook/XML files (DOCTYPE book)
+docbook = libXaw.xml 
+
+# Included chapters, appendix, images
+chapters =						\
 	AsciiSink.xml					\
 	AsciiSource.xml					\
 	AsciiText.xml					\
@@ -70,37 +53,11 @@ dist_doc_DATA = $(doc_sources)				\
 	Tree.xml					\
 	Viewport.xml
 
-if HAVE_XMLTO
-doc_DATA = $(doc_sources:.xml=.html)
-
-if HAVE_FOP
-doc_DATA += $(doc_sources:.xml=.ps) $(doc_sources:.xml=.pdf)
-endif
-
-if HAVE_XMLTO_TEXT
-doc_DATA += $(doc_sources:.xml=.txt)
-endif
-
-if HAVE_STYLESHEETS
-XMLTO_FLAGS = -m $(XSL_STYLESHEET) \
-	--stringparam html.stylesheet=$(STYLESHEET_SRCDIR)/xorg.css
-endif
-
-CLEANFILES = $(doc_DATA)
-
-SUFFIXES = .xml .ps .pdf .txt .html
-
-%.txt: %.xml $(dist_doc_DATA)
-	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) txt $<
-
-%.html: %.xml $(dist_doc_DATA)
-	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) xhtml-nochunks $<
-
-%.pdf: %.xml $(dist_doc_DATA)
-	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) --with-fop pdf $<
+# The location where the DocBook/XML files and their generated formats are installed
+shelfdir = $(docdir)
 
-%.ps: %.xml $(dist_doc_DATA)
-	$(AM_V_GEN)$(XMLTO) $(XMLTO_FLAGS) --with-fop ps $<
+# Generate DocBook/XML output formats with or without stylesheets
+include $(top_srcdir)/docbook.am
 
 endif HAVE_XMLTO
 endif ENABLE_SPECS
diff --git a/specs/Paned.xml b/specs/Paned.xml
index 90c3809..28b346c 100644
--- a/specs/Paned.xml
+++ b/specs/Paned.xml
@@ -980,7 +980,7 @@ To enable or disable a child's request for pane resizing,
 use
 <function>XawPanedAllowResize :</function>
 <!-- .IN "XawPanedAllowResize" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawpanedallowresize'>
 <funcprototype>
   <funcdef>void<function> XawPanedAllowResize</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1029,7 +1029,7 @@ constraint resource for the child.
 To change the minimum and maximum height settings for a pane, use
 <function>XawPanedSetMinMax :</function>
 <!-- .IN "XawPanedSetMinMax" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawpanedsetminmax'>
 <funcprototype>
   <funcdef>void<function> XawPanedSetMinMax</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1082,7 +1082,7 @@ constraint resources for the child.
 To retrieve the minimum and maximum height settings for a pane, use
 <function>XawPanedGetMinMax :</function>
 <!-- .IN "XawPanedGetMinMax" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawpanedgetminmax'>
 <funcprototype>
   <funcdef>void<function> XawPanedGetMinMax</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1137,7 +1137,7 @@ To enable or disable automatic recalculation of pane sizes and positions,
 use
 <function>XawPanedSetRefigureMode :</function>
 <!-- .IN "XawPanedSetRefigureMode" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawpanedsetrefiguremode'>
 <funcprototype>
   <funcdef>void<function> XawPanedSetRefigureMode</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -1182,7 +1182,7 @@ relayout until after all changes have been made.
 To retrieve the number of panes in a paned widget use
 <function>XawPanedGetNumSub</function>:
 <!-- .IN "XawPanedGetNumSub" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawpanedgetnumsub'>
 <funcprototype>
   <funcdef>int<function> XawPanedGetNumSub</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/Panner.xml b/specs/Panner.xml
index a04bb1a..7a638c5 100644
--- a/specs/Panner.xml
+++ b/specs/Panner.xml
@@ -688,7 +688,7 @@ The default bindings for Panner are:
 The functions registered on the <function>reportCallback</function> list are invoked by
 the <function>notify</function> action as follows:
 <!-- .IN "ReportProc" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='panner_reportproc'>
 <funcprototype>
   <funcdef>void<function> ReportProc</function></funcdef>
   <paramdef>Widget<parameter> panner</parameter></paramdef>
diff --git a/specs/Porthole.xml b/specs/Porthole.xml
index beda434..a0a87c1 100644
--- a/specs/Porthole.xml
+++ b/specs/Porthole.xml
@@ -262,7 +262,7 @@ Panner widget.
 The functions registered on the <function>reportCallback</function> list are invoked whenever
 the managed child changes size or position:
 <!-- .IN "ReportProc" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='porthole_reportproc'>
 <funcprototype>
   <funcdef>void<function> ReportProc</function></funcdef>
   <paramdef>Widget<parameter> porthole</parameter></paramdef>
diff --git a/specs/Scrollbar.xml b/specs/Scrollbar.xml
index 87f6d68..5b22cba 100644
--- a/specs/Scrollbar.xml
+++ b/specs/Scrollbar.xml
@@ -663,7 +663,7 @@ The procedural interface for these functions is described here.
 The calling interface to the <function>scrollProc</function> callback procedure is:
 <!-- .IN "ScrollProc" "" "@DEF@" -->
 </para>
-<funcsynopsis>
+<funcsynopsis id='scrollproc'>
 <funcprototype>
   <funcdef>void<function> ScrollProc</function></funcdef>
   <paramdef>Widget<parameter> scrollbar</parameter></paramdef>
@@ -720,7 +720,7 @@ be greater than the length of the Scrollbar.
 The calling interface to the <function>jumpProc</function> callback procedure is:
 </para>
 <!-- .IN "jumpProc" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='jumpproc'>
 <funcprototype>
   <funcdef>void<function> JumpProc</function></funcdef>
   <paramdef>Widget<parameter> scrollbar</parameter></paramdef>
@@ -792,7 +792,7 @@ To set the position and length of a Scrollbar thumb, use
 <!-- .PN XawScrollbarSetThumb . -->
 <!-- .IN "XawScrollbarSetThumb" "" "@DEF@" -->
 </para>
-<funcsynopsis>
+<funcsynopsis id='xawscrollbarsetthumb'>
 <funcprototype>
   <funcdef>void<function> XawScrollbarSetThumb</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/SimpleMenu.xml b/specs/SimpleMenu.xml
index 84ba039..0e039b1 100644
--- a/specs/SimpleMenu.xml
+++ b/specs/SimpleMenu.xml
@@ -691,7 +691,7 @@ application uses dynamic menu creation.  In these cases an application will
 need to register this global action routine by calling
 <function>XawSimpleMenuAddGlobalActions</function>:
 <!-- .IN "XawSimpleMenuAddGlobalActions" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawsimplemenuaddglobalactions'>
 <funcprototype>
   <funcdef>void<function> XawSimpleMenuAddGlobalActions</function></funcdef>
   <paramdef>XtAppContext<parameter> app_con</parameter></paramdef>
@@ -725,7 +725,7 @@ is realized.
 To get the currently highlighted menu entry use
 <function>XawSimpleMenuGetActiveEntry</function>:
 <!-- .IN "XawSimpleMenuGetActiveEntry" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawsimplemenugetactiveentry'>
 <funcprototype>
   <funcdef>Widget<function> XawSimpleMenuGetActiveEntry</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -757,7 +757,7 @@ To clear the SimpleMenu widget's internal information about the
 currently highlighted menu entry use
 <function>XawSimpleMenuClearActiveEntry</function>:
 <!-- .IN "XawSimpleMenuClearActiveEntry" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawsimplemenuclearactiveentry'>
 <funcprototype>
   <funcdef>Widget<function> XawSimpleMenuClearActiveEntry</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/TextFuncs.xml b/specs/TextFuncs.xml
index 0d2ae81..9057c33 100644
--- a/specs/TextFuncs.xml
+++ b/specs/TextFuncs.xml
@@ -109,7 +109,7 @@ deprecated and will eventually be removed from the implementation.
 To select a piece of text, use
 <function>XawTextSetSelection : </function>
 <!-- .IN "XawTextSetSelection" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextsetselection'>
 <funcprototype>
   <funcdef>void<function> XawTextSetSelection</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -168,7 +168,7 @@ effect on <function>CUT_BUFFER0</function>.
 To unhighlight previously highlighted text in a widget, use
 <function>XawTextUnsetSelection</function>:
 <!-- .IN "XawTextUnsetSelection" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextunsetselection'>
 <funcprototype>
   <funcdef>void<function> XawTextUnsetSelection</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -196,7 +196,7 @@ Specifies the Text widget.
 To retrieve the text that has been selected by this
 text widget use <function>XawTextGetSelectionPos</function>:
 <!-- .IN "XawTextGetSelectionPos" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextgetselectionpos'>
 <funcprototype>
   <funcdef>void<function> XawTextGetSelectionPos</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -249,7 +249,7 @@ If the returned values are equal, no text is currently selected.
 <!-- .LP -->
 To modify the text in an editable Text widget use <function>XawTextReplace</function>:
 <!-- .IN "XawTextReplace" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextreplace'>
 <funcprototype>
   <funcdef>int<function> XawTextReplace</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -373,7 +373,7 @@ text is inserted after <emphasis remap='I'>start</emphasis>.
 To search for a string in the Text widget, use
 <function>XawTextSearch</function>:
 <!-- .IN "XawTextSearch" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextsearch'>
 <funcprototype>
   <funcdef>XawTextPosition<function> XawTextSearch</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -433,7 +433,7 @@ found then the value <function>XawTextSearchError</function> is returned.
 <!-- .LP -->
 To redisplay a range of characters, use <function>XawTextInvalidate</function>:
 <!-- .IN "XawTextInvalidate" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextinvalidate'>
 <funcprototype>
   <funcdef>void<function> XawTextInvalidate</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -487,7 +487,7 @@ enabled.
 <!-- .sp 1 -->
 To enable redisplay, use <function>XawTextEnableRedisplay</function>:
 <!-- .IN "XawTextEnableRedisplay" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextenableredisplay'>
 <funcprototype>
   <funcdef>void<function> XawTextEnableRedisplay</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -519,7 +519,7 @@ was called and allows future changes to be reflected immediately.
 To disable redisplay while making several changes, use
 <function>XawTextDisableRedisplay</function>.
 <!-- .IN "XawTextDisableRedisplay" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextdisableredisplay'>
 <funcprototype>
   <funcdef>void<function> XawTextDisableRedisplay</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -550,7 +550,7 @@ is called.
 <!-- .sp 1 -->
 To display batched updates, use <function>XawTextDisplay</function>:
 <!-- .IN "XawTextDisplay" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextdisplay'>
 <funcprototype>
   <funcdef>void<function> XawTextDisplay</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -584,7 +584,7 @@ To obtain the character position of the left-most character on the
 first line displayed in the widget (the value of the
 <function>displayPosition</function> resource), use <function>XawTextTopPosition</function>.
 <!-- .IN "XawTextTopPosition" "" @DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtexttopposition'>
 <funcprototype>
   <funcdef>XawTextPosition<function> XawTextTopPosition</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -610,7 +610,7 @@ Specifies the Text widget.
 To assign a new selection array to a text widget use
 <function>XawTextSetSelectionArray</function>:
 <!-- .IN "XawTextSetSelectionArray" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextsetselectionarray'>
 <funcprototype>
   <funcdef>void<function> XawTextSetSelectionArray</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -653,7 +653,7 @@ Calling this function is equivalent to setting the value of the
 To move the insertion point to the specified source position, use
 <function>XawTextSetInsertionPoint</function>:
 <!-- .IN "XawTextSetInsertionPoint" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextsetinsertionpoint'>
 <funcprototype>
   <funcdef>void<function> XawTextSetInsertionPoint</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -697,7 +697,7 @@ equivalent to setting the <function>insertPosition</function> resource.
 To obtain the current position of the insertion point, use
 <function>XawTextGetInsertionPoint</function>:
 <!-- .IN "XawTextGetInsertionPoint" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextgetinsertionpoint'>
 <funcprototype>
   <funcdef>XawTextPosition<function> XawTextGetInsertionPoint</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -729,7 +729,7 @@ The result is equivalent to retrieving the value of the
 To replace the text source in the specified widget, use
 <function>XawTextSetSource</function>:
 <!-- .IN "XawTextSetSource" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextsetsource'>
 <funcprototype>
   <funcdef>void<function> XawTextSetSource</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -783,7 +783,7 @@ A display update will be performed if redisplay is enabled.
 To obtain the current text source for the specified widget, use
 <function>XawTextGetSource</function>:
 <!-- .IN "XawTextGetSource" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextgetsource'>
 <funcprototype>
   <funcdef>Widget<function> XawTextGetSource</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -814,7 +814,7 @@ using.
 To enable and disable the insertion point, use
 <function>XawTextDisplayCaret</function>:
 <!-- .IN "XawTextDisplayCaret" "" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='xawtextdisplaycaret'>
 <funcprototype>
   <funcdef>void<function> XawTextDisplayCaret</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/TextSink.xml b/specs/TextSink.xml
index bafe557..04074dc 100644
--- a/specs/TextSink.xml
+++ b/specs/TextSink.xml
@@ -192,7 +192,7 @@ to be used as a sink by itself.
 To display a section of the text buffer contained in the text source
 use the function <function>DisplayText</function>:
 <!-- .IN "TextSink object" "DisplayText" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='displaytext'>
 <funcprototype>
   <funcdef>void<function> DisplayText</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -283,7 +283,7 @@ be displayed.
 The function that controls the display of the text cursor is
 <function>InsertCursor</function>.  This function will be called whenever the text
 widget desires to change the state of, or move the insert point.
-<funcsynopsis>
+<funcsynopsis id='insertcursor'>
 <funcprototype>
   <funcdef>void<function> InsertCursor</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -352,7 +352,7 @@ This behavior will be used if you specify
 <function>XtInheritClearToBackground</function> for this method.
 <!-- .IN "XtInheritClearToBackground" "" -->
 <!-- .IN "TextSink object" "ClearToBackground" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='cleartobackground'>
 <funcprototype>
   <funcdef>void<function> ClearToBackground</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -426,7 +426,7 @@ Specifies the height, in pixels, of the Region to clear.
 To find the text character position that will be rendered at a given x
 location the Text widget uses the function <function>FindPosition</function>:
 <!-- .IN "TextSink object" "FindPosition" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='findposition'>
 <funcprototype>
   <funcdef>void<function> FindPosition</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -540,7 +540,7 @@ widget will only call it one line at a time.
 Another means of finding a text position is provided by the <function>Resolve</function>
 function:
 <!-- .IN "TextSink object" "Resolve" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='resolve'>
 <funcprototype>
   <funcdef>void<function> Resolve</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -625,7 +625,7 @@ functionality.
 To find the distance in pixels between two text positions on the same
 line use the function <function>FindDistance</function>.
 <!-- .IN "TextSink object" "FindDistance" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='finddistance'>
 <funcprototype>
   <funcdef>void<function> FindDistance</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -731,7 +731,7 @@ widget, use the function <function>MaxLines</function>.  The TextSink already de
 this function to compute the maximum number of lines by using the height
 of <function>font</function>.
 <!-- .IN "TextSink object" "MaxLines" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='maxlines'>
 <funcprototype>
   <funcdef>int<function> MaxLines</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -774,7 +774,7 @@ the function <function>MaxHeight</function>.  The TextSink already defines this
 function to compute the maximum height of the window by using the
 height of <function>font</function>.
 <!-- .IN "TextSink object" "MaxHeight" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='maxheight'>
 <funcprototype>
   <funcdef>int<function> MaxHeight</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -819,7 +819,7 @@ The TextSink already defines this function to set the tab x location in
 pixels to be the number of characters times the figure width of
 <function>font</function>.
 <!-- .IN "TextSink object" "SetTabs" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='settabs'>
 <funcprototype>
   <funcdef>void<function> SetTabs</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -873,7 +873,7 @@ to it into whatever internal positions the TextSink uses for tab placement.
 To get the size and location of the insert point use the
 <function>GetCursorBounds</function> function.
 <!-- .IN "TextSink object" "GetCursorBounds" "@DEF@" -->
-<funcsynopsis>
+<funcsynopsis id='getcursorbounds'>
 <funcprototype>
   <funcdef>void<function> GetCursorBounds</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/TextSource.xml b/specs/TextSource.xml
index 51b9ae0..69c20a5 100644
--- a/specs/TextSource.xml
+++ b/specs/TextSource.xml
@@ -140,7 +140,7 @@ used as a source by itself and bad things will probably happen.
 To read the text in a text source use the <function>Read</function> function:
 <!-- .IN "TextSrc object" "Read" "@DEF@" -->
 </para>
-<funcsynopsis>
+<funcsynopsis id='read'>
 <funcprototype>
   <funcdef>XawTextPosition<function> Read</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -210,7 +210,7 @@ portion of the text buffer is fully retrieved.
 To replace or edit the text in a text buffer use the <function>Replace</function> function:
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='replace'>
 <funcprototype>
   <funcdef>XawTextPosition<function> Replace</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -310,7 +310,7 @@ To search the text source for one of the predefined boundary types use
 the <function>Scan</function> function:
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='scan'>
 <funcprototype>
   <funcdef>XawTextPosition<function> Scan</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -396,7 +396,7 @@ position of that end.
 To search for a particular string use the <function>Search</function> function.
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='search'>
 <funcprototype>
   <funcdef>XawTextPosition<function> Search</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -466,7 +466,7 @@ the <function>ConvertSelection</function> function, to attempt the selection
 conversion.
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='convertselections'>
 <funcprototype>
   <funcdef>Boolean<function> ConvertSelections</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
@@ -571,7 +571,7 @@ If the source needs to know when the text selection is modified it
 should define a <function>SetSelection</function> procedure:
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='setselection'>
 <funcprototype>
   <funcdef>void<function> SetSelection</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/specs/Toggle.xml b/specs/Toggle.xml
index d5c2398..5be106c 100644
--- a/specs/Toggle.xml
+++ b/specs/Toggle.xml
@@ -608,7 +608,7 @@ the Toggle to a radio group, or remove the Toggle from a radio group, use
 <function>XawToggleChangeRadioGroup</function>.
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='xawtogglechangeradiogroup'>
 <funcprototype>
   <funcdef>void<function> XawToggleChangeRadioGroup</function></funcdef>
   <paramdef>Widgetw,<parameter> radio_group</parameter></paramdef>
@@ -654,7 +654,7 @@ To find the currently selected Toggle in a radio group of Toggle widgets
 use <function>XawToggleGetCurrent</function>.
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='xawtogglegetcurrent'>
 <funcprototype>
   <funcdef>XtPointer<function> XawToggleGetCurrent</function></funcdef>
   <paramdef>XtPointer<parameter> XawToggleGetCurrent(radio_group)</parameter></paramdef>
@@ -690,7 +690,7 @@ To change the Toggle that is currently set in a radio group use
 <function>XawToggleSetCurrent</function>.
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='xawtogglesetcurrent'>
 <funcprototype>
   <funcdef>void<function> XawToggleSetCurrent</function></funcdef>
   <paramdef>voidXawToggleSetCurrent(radio_group,<parameter> radio_data)</parameter></paramdef>
@@ -743,7 +743,7 @@ To unset all Toggle widgets in a radio group use
 <function>XawToggleUnsetCurrent</function>.
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='xawtoggleunsetcurrent'>
 <funcprototype>
   <funcdef>void<function> XawToggleUnsetCurrent</function></funcdef>
   <paramdef>void<parameter> XawToggleUnsetCurrent(radio_group)</parameter></paramdef>
diff --git a/specs/Tree.xml b/specs/Tree.xml
index bb51e80..1d68775 100644
--- a/specs/Tree.xml
+++ b/specs/Tree.xml
@@ -383,7 +383,7 @@ to False and then use the
 routine to arrange the children.
 </para>
 
-<funcsynopsis>
+<funcsynopsis id='xawtreeforcelayout'>
 <funcprototype>
   <funcdef>void<function> XawTreeForceLayout</function></funcdef>
   <paramdef>Widget<parameter> w</parameter></paramdef>
diff --git a/src/Actions.c b/src/Actions.c
index 996db31..3a444b8 100644
--- a/src/Actions.c
+++ b/src/Actions.c
@@ -10,7 +10,7 @@
  *
  * The above copyright notice and this permission notice shall be included in
  * all copies or substantial portions of the Software.
- *  
+ *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
@@ -38,7 +38,6 @@
 #include <X11/CoreP.h>
 #include <X11/Constraint.h>
 #include <X11/Xmu/CharSet.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xfuncs.h>
 #include "Private.h"
 
@@ -300,8 +299,8 @@ get_token(XawEvalInfo *info)
   {
     char msg[256];
 
-    XmuSnprintf(msg, sizeof(msg),
-		"evaluate(): bad token \"%c\" at \"%s\"", ch, info->cp - 1);
+    snprintf(msg, sizeof(msg), "evaluate(): bad token \"%c\" at \"%s\"",
+	     ch, info->cp - 1);
 
     XtAppWarning(XtWidgetToApplicationContext(info->widget), msg);
   }
@@ -371,8 +370,8 @@ prim(XawEvalInfo *info)
 	  char msg[256];
 
 	  info->token = ERROR;
-	  XmuSnprintf(msg, sizeof(msg),
-		      "evaluate(): expecting ), at \"%s\"", info->lp);
+	  snprintf(msg, sizeof(msg), "evaluate(): expecting ), at \"%s\"",
+		   info->lp);
 	  XtAppWarning(XtWidgetToApplicationContext(info->widget), msg);
 	  return (False);
 	}
@@ -385,8 +384,8 @@ prim(XawEvalInfo *info)
 	char msg[256];
 
 	info->token = ERROR;
-	XmuSnprintf(msg, sizeof(msg),
-		    "evaluate(): sintax error, at \"%s\"", info->lp);
+	snprintf(msg, sizeof(msg), "evaluate(): syntax error, at \"%s\"",
+		 info->lp);
 	XtAppWarning(XtWidgetToApplicationContext(info->widget), msg);
       } return (False);
     }
@@ -435,8 +434,7 @@ XawSetValuesAction(Widget w, XEvent *event,
 	{
 	  char msg[256];
 
-	  XmuSnprintf(msg, sizeof(msg),
-		      "set-values(): bad resource name \"%s\"",
+	  snprintf(msg, sizeof(msg), "set-values(): bad resource name \"%s\"",
 		   params[count]);
 	  XtAppWarning(XtWidgetToApplicationContext(w), msg);
           continue;
@@ -457,9 +455,9 @@ XawSetValuesAction(Widget w, XEvent *event,
 	  {
 	    char msg[256];
 
-	    XmuSnprintf(msg, sizeof(msg),
-			"set-values(): bad resource size for \"%s\"",
-			params[count]);
+	    snprintf(msg, sizeof(msg),
+		     "set-values(): bad resource size for \"%s\"",
+		     params[count]);
 	    XtAppWarning(XtWidgetToApplicationContext(w), msg);
 	  } continue;
 	}
@@ -501,13 +499,13 @@ XawSetValuesAction(Widget w, XEvent *event,
 void
 XawGetValuesAction(Widget w, XEvent *event,
 		   String *params, Cardinal *num_params)
-{     
+{
   XawActionResList *rlist;
   XawActionVarList *vlist;
   String value;
   Cardinal count;
 
-  if (!(*num_params & 1)) 
+  if (!(*num_params & 1))
     {
       XawPrintActionErrorMsg("get-values", w, params, num_params);
       return;
@@ -529,7 +527,7 @@ XawGetValuesAction(Widget w, XEvent *event,
 void
 XawDeclareAction(Widget w, XEvent *event,
 		 String *params, Cardinal *num_params)
-{     
+{
   XawActionVarList *vlist;
   Cardinal count;
 
@@ -585,7 +583,7 @@ XawConvertActionRes(XawActionResList *list, Widget w, String name)
   Arg arg;
   char  c_1;
   short c_2;
-  int   c_4;   
+  int   c_4;
 #ifdef LONG64
   long  c_8;
 #endif
@@ -594,8 +592,8 @@ XawConvertActionRes(XawActionResList *list, Widget w, String name)
     {
       char msg[256];
 
-      XmuSnprintf(msg, sizeof(msg),
-		  "convert(): bad resource name \"%s\"", name);
+      snprintf(msg, sizeof(msg), "convert(): bad resource name \"%s\"",
+	       name);
       XtAppWarning(XtWidgetToApplicationContext(w), msg);
       return (NULL);
     }
@@ -625,8 +623,8 @@ XawConvertActionRes(XawActionResList *list, Widget w, String name)
       {
         char msg[256];
 
-        XmuSnprintf(msg, sizeof(msg),
-		    "convert(): bad resource size for \"%s\"", name);
+        snprintf(msg, sizeof(msg), "convert(): bad resource size for \"%s\"",
+		 name);
 	XtAppWarning(XtWidgetToApplicationContext(w), name);
       } return (NULL);
     }
@@ -651,17 +649,17 @@ XawPrintActionErrorMsg(String action_name, Widget w,
   char msg[1024];
   unsigned int size, idx;
 
-  size = XmuSnprintf(msg, sizeof(msg), "%s(): bad number of parameters.\n\t(",
-		     action_name);
+  size = snprintf(msg, sizeof(msg), "%s(): bad number of parameters.\n\t(",
+		  action_name);
 
   idx = 0;
   while (idx < *num_params - 1 && size < sizeof(msg))
-    size += XmuSnprintf(&msg[size], sizeof(msg) - size, "%s, ",
-			params[idx++]);
+    size += snprintf(&msg[size], sizeof(msg) - size, "%s, ",
+		     params[idx++]);
   if (*num_params)
-    XmuSnprintf(&msg[size], sizeof(msg) - size, "%s)", params[idx]);
+    snprintf(&msg[size], sizeof(msg) - size, "%s)", params[idx]);
   else
-    XmuSnprintf(&msg[size], sizeof(msg) - size, ")");
+    snprintf(&msg[size], sizeof(msg) - size, ")");
   XtAppWarning(XtWidgetToApplicationContext(w), msg);
 }
 
@@ -681,7 +679,7 @@ XawGetActionResList(WidgetClass wc)
 static int
 qcmp_action_resource_list(register _Xconst void *left,
 			  register _Xconst void *right)
-{   
+{
   return ((char *)((*(XawActionResList **)left)->widget_class) -
           (char *)((*(XawActionResList **)right)->widget_class));
 }
@@ -727,7 +725,7 @@ bcmp_action_resource_list(register _Xconst void *wc,
 
 static XawActionResList *
 _XawFindActionResList(WidgetClass wc)
-{  
+{
   XawActionResList **list;
 
   if (!resource_list)
@@ -831,8 +829,8 @@ bcmp_action_resource(register _Xconst void *string,
 {
   return (strcmp((String)string,
 		 XrmQuarkToString((*(XawActionRes **)resource)->qname)));
-}   
-    
+}
+
 static XawActionRes *
 _XawFindActionRes(XawActionResList *list, Widget detail, String name)
 {
@@ -904,8 +902,9 @@ XawDeclareActionVar(XawActionVarList *list, String name, String value)
     {
       char msg[256];
 
-      XmuSnprintf(msg, sizeof(msg), "declare(): variable name must begin with "
-		  "\'%c\', at %s = %s", XAW_PRIV_VAR_PREFIX, name, value);
+      snprintf(msg, sizeof(msg),
+	       "declare(): variable name must begin with \'%c\', at %s = %s",
+	       XAW_PRIV_VAR_PREFIX, name, value);
       XtAppWarning(XtWidgetToApplicationContext(list->widget), msg);
       return;
     }
diff --git a/src/AsciiSink.c b/src/AsciiSink.c
index 56f899c..d776895 100644
--- a/src/AsciiSink.c
+++ b/src/AsciiSink.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -331,7 +331,7 @@ void CalculateBearing(TextWidget ctx, XawTextPosition position, int x, int y,
  *	   |   ####	 |
  *	   |  ####	 |
  *	   | ####	 |
- *	   |### 	 |
+ *	   |###		 |
  *	 ####		 |
  *	   |		 |
  *
@@ -369,7 +369,7 @@ void CalculateBearing(TextWidget ctx, XawTextPosition position, int x, int y,
 		    c = ' ';
 	    }
 	    if (font->per_char &&
-	 	(c >= font->min_char_or_byte2 && c <= font->max_char_or_byte2))
+		(c >= font->min_char_or_byte2 && c <= font->max_char_or_byte2))
 		rbearing = font->per_char[c - font->min_char_or_byte2].rbearing -
 			   font->per_char[c - font->min_char_or_byte2].width;
 	    if (rbearing > 0) {
@@ -405,7 +405,7 @@ void CalculateBearing(TextWidget ctx, XawTextPosition position, int x, int y,
 		    c = ' ';
 	    }
 	    if (font->per_char &&
-	 	(c >= font->min_char_or_byte2 && c <= font->max_char_or_byte2))
+		(c >= font->min_char_or_byte2 && c <= font->max_char_or_byte2))
 		lbearing = font->per_char[c - font->min_char_or_byte2].lbearing;
 	    if (lbearing < 0) {
 		paint = XtNew(XawTextPaintStruct);
@@ -1707,7 +1707,7 @@ XawAsciiSinkInitialize(Widget request, Widget cnew,
     GetGC(sink);
 
     if (!sink->ascii_sink.font) XtError("Aborting: no font found\n");
-    
+
     sink->ascii_sink.cursor_position = 0;
     sink->ascii_sink.laststate = XawisOff;
     sink->ascii_sink.cursor_x = sink->ascii_sink.cursor_y = 0;
diff --git a/src/AsciiSrc.c b/src/AsciiSrc.c
index 245a654..b28b2c4 100644
--- a/src/AsciiSrc.c
+++ b/src/AsciiSrc.c
@@ -164,7 +164,7 @@ static XtResource resources[] = {
     XtNcallback,
     XtCCallback,
     XtRCallback,
-    sizeof(XtPointer), 
+    sizeof(XtPointer),
     offset(callback),
     XtRCallback,
     (XtPointer)NULL
@@ -360,7 +360,7 @@ ReadText(Widget w, XawTextPosition pos, XawTextBlock *text, int length)
     AsciiSrcObject src = (AsciiSrcObject)w;
     XawTextPosition count, start;
     Piece *piece;
-#ifndef OLDXAW 
+#ifndef OLDXAW
     XawTextAnchor *anchor;
     XawTextEntity *entity;
     XawTextPosition offset, end = pos + length;
@@ -454,7 +454,7 @@ ReplaceText(Widget w, XawTextPosition startPos, XawTextPosition endPos,
     /*
      * Editing a read only source is not allowed
      */
-    if (src->text_src.edit_mode == XawtextRead) 
+    if (src->text_src.edit_mode == XawtextRead)
 	return (XawEditError);
 
     start_piece = FindPiece(src, startPos, &start_first);
@@ -561,7 +561,7 @@ ReplaceText(Widget w, XawTextPosition startPos, XawTextPosition endPos,
     src->ascii_src.length += -(endPos - startPos) + text->length;
 
     if ( text->length != 0) {
-	/* 
+	/*
 	 * Put in the New Stuff
 	 */
 	start_piece = FindPiece(src, startPos, &start_first);
@@ -834,7 +834,7 @@ Scan(Widget w, register XawTextPosition position, XawTextScanType type,
  * Returns:
  *	The position of the item found
  */
-static XawTextPosition 
+static XawTextPosition
 Search(Widget w, register XawTextPosition position, XawTextScanDirection dir,
        XawTextBlock *text)
 {
@@ -1078,7 +1078,7 @@ XawAsciiSrcDestroy(Widget w)
 }
 
 /*
- * Public routines 
+ * Public routines
  */
 /*
  * Function:
@@ -1146,7 +1146,7 @@ XawAsciiSave(Widget w)
      * If using the string in place then there is no need to play games
      * to get the internal info into a readable string.
      */
-    if (src->ascii_src.use_string_in_place) 
+    if (src->ascii_src.use_string_in_place)
 	return (True);
 
     if (src->ascii_src.type == XawAsciiFile) {
@@ -1211,7 +1211,7 @@ XawAsciiSaveAsFile(Widget w, _Xconst char *name)
     if (src->ascii_src.type == XawAsciiFile)
 	ret = WritePiecesToFile(src, (String)name);
     else {
-	String string = StorePiecesInString(src); 
+	String string = StorePiecesInString(src);
 
 	ret = WriteToFile(string, (String)name, src->ascii_src.length);
 	XtFree(string);
@@ -1258,7 +1258,7 @@ XawAsciiSourceChanged(Widget w)
  * Private Functions
  */
 static void
-RemoveOldStringOrFile(AsciiSrcObject src, Bool checkString) 
+RemoveOldStringOrFile(AsciiSrcObject src, Bool checkString)
 {
     FreeAllPieces(src);
 
@@ -1379,8 +1379,8 @@ StorePiecesInString(AsciiSrcObject src)
 
     string = XtMalloc((unsigned)(src->ascii_src.length + 1));
 
-    for (first = 0, piece = src->ascii_src.first_piece ; piece != NULL; 
-	 first += piece->used, piece = piece->next) 
+    for (first = 0, piece = src->ascii_src.first_piece ; piece != NULL;
+	 first += piece->used, piece = piece->next)
       memcpy(string + first, piece->text, (unsigned)piece->used);
 
     string[src->ascii_src.length] = '\0';
@@ -1661,7 +1661,7 @@ RemovePiece(AsciiSrcObject src, Piece *piece)
  * Parameters:
  *	src	 - AsciiSrc Widget
  *	position - position that we are searching for
- * 	first	 - position of the first character in this piece (return)
+ *	first	 - position of the first character in this piece (return)
  *
  * Description:
  *	Finds the piece containing the position indicated.
@@ -1686,7 +1686,7 @@ FindPiece(AsciiSrcObject src, XawTextPosition position, XawTextPosition *first)
 
     return (old_piece);	/* if we run off the end the return the last piece */
 }
-    
+
 /*
  * Function:
  *	BreakPiece
@@ -1874,9 +1874,9 @@ XawDiskSourceCreate(Widget parent, ArgList args, Cardinal num_args)
     ascii_args = XtMergeArgLists(temp, ONE, args, num_args);
     num_args++;
 
-    for (i = 0; i < num_args; i++) 
+    for (i = 0; i < num_args; i++)
 	if (streq(ascii_args[i].name, XtNfile)
-	    || streq(ascii_args[i].name, XtCFile)) 
+	    || streq(ascii_args[i].name, XtCFile))
 	    ascii_args[i].name = XtNstring;
 
     src = XtCreateWidget("genericAsciiDisk", asciiSrcObjectClass, parent,
diff --git a/src/AsciiText.c b/src/AsciiText.c
index 25cea9d..8e2f0aa 100644
--- a/src/AsciiText.c
+++ b/src/AsciiText.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -48,13 +48,13 @@ SOFTWARE.
 /*
  * AsciiText.c - Source code for AsciiText Widget
  *
- * This Widget is intended to be used as a simple front end to the 
+ * This Widget is intended to be used as a simple front end to the
  * text widget with an ascii source and ascii sink attached to it
  *
  * Date:    June 29, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -314,7 +314,7 @@ XawAsciiInitialize(Widget request, Widget cnew,
 
     for (i = 0, tab = 0; i < TAB_COUNT; i++)
 	tabs[i] = (tab += 8);
-  
+
     XawTextSinkSetTabs(w->text.sink, TAB_COUNT, tabs);
 
     XawTextDisableRedisplay(cnew);
@@ -336,7 +336,7 @@ XawAsciiInitialize(Widget request, Widget cnew,
     }
 }
 
-static void 
+static void
 XawAsciiDestroy(Widget w)
 {
     AsciiWidget ascii = (AsciiWidget)w;
diff --git a/src/Box.c b/src/Box.c
index 7aa14a5..266fb08 100644
--- a/src/Box.c
+++ b/src/Box.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -204,13 +204,13 @@ DoLayout(BoxWidget bbw, unsigned int width, unsigned int height,
 {
     Boolean vbox = (bbw->box.orientation == XtorientVertical);
     Cardinal  i;
-    Dimension w, h;	/* Width and height needed for box 		*/
-    Dimension lw, lh;	/* Width and height needed for current line 	*/
-    Dimension bw, bh;	/* Width and height needed for current widget 	*/
-    Dimension h_space;  /* Local copy of bbw->box.h_space 		*/
-    Widget widget;	/* Current widget	 			*/
+    Dimension w, h;	/* Width and height needed for box		*/
+    Dimension lw, lh;	/* Width and height needed for current line	*/
+    Dimension bw, bh;	/* Width and height needed for current widget	*/
+    Dimension h_space;  /* Local copy of bbw->box.h_space		*/
+    Widget widget;	/* Current widget				*/
     unsigned int num_mapped_children = 0;
- 
+
     /* Box width and height */
     h_space = bbw->box.h_space;
 
@@ -224,11 +224,11 @@ DoLayout(BoxWidget bbw, unsigned int width, unsigned int height,
     if (w > width)
 	width = w;
     h = bbw->box.v_space;
-   
+
     /* Line width and height */
     lh = 0;
     lw = h_space;
-  
+
     for (i = 0; i < bbw->composite.num_children; i++) {
 	widget = bbw->composite.children[i];
 	if (widget->core.managed) {
@@ -362,7 +362,7 @@ XawBoxQueryGeometry(Widget widget, XtWidgetGeometry *constraint,
 	else
 	    return (XtGeometryAlmost);
     }
-	
+
     /* else gotta do it the long way...
        I have a preference for tall and narrow, so if my width is
        constrained, I'll accept it; otherwise, I'll compute the minimum
@@ -392,9 +392,10 @@ XawBoxQueryGeometry(Widget widget, XtWidgetGeometry *constraint,
 	if (preferred_width <= constraint->width) {
 	    width = preferred_width;
 	    do { /* find some width big enough to stay within this height */
-		width <<= 1;
-		if (width > constraint->width)
+		if (width > (constraint->width >> 1)) /* avoid short int overflow */
 		    width = constraint->width;
+		else
+		    width <<= 1;
 		DoLayout(w, width, 0, &preferred_width, &preferred_height, False);
 	    } while (preferred_height > constraint->height
 		     && width < constraint->width);
diff --git a/src/Command.c b/src/Command.c
index 9ad1f15..4535423 100644
--- a/src/Command.c
+++ b/src/Command.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -110,7 +110,7 @@ static char defaultTranslations[] =
 ;
 
 #define offset(field) XtOffsetOf(CommandRec, field)
-static XtResource resources[] = { 
+static XtResource resources[] = {
   {
     XtNcallback,
     XtCCallback,
@@ -216,21 +216,21 @@ WidgetClass commandWidgetClass = (WidgetClass)&commandClassRec;
 /*
  * Implementation
  */
-static GC 
+static GC
 Get_GC(CommandWidget cbw, Pixel fg, Pixel bg)
 {
     XGCValues	values;
-  
+
     values.foreground	= fg;
     values.background	= bg;
     values.font		= cbw->label.font->fid;
     values.cap_style	= CapProjecting;
-  
+
     if (cbw->command.highlight_thickness > 1)
 	values.line_width = cbw->command.highlight_thickness;
-    else 
+    else
 	values.line_width = 0;
-  
+
     if (cbw->simple.international == True)
 	return (XtAllocateGC((Widget)cbw, 0,
 			     GCForeground | GCBackground | GCLineWidth |
@@ -242,7 +242,7 @@ Get_GC(CommandWidget cbw, Pixel fg, Pixel bg)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 XawCommandInitialize(Widget request, Widget cnew,
 		     ArgList args, Cardinal *num_args)
 {
@@ -250,7 +250,7 @@ XawCommandInitialize(Widget request, Widget cnew,
     int shape_event_base, shape_error_base;
 
     if (!cbw->label.font) XtError("Aborting: no font found\n");
-    
+
     if (cbw->command.shape_style != XawShapeRectangle &&
 	!XShapeQueryExtension(XtDisplay(cnew), &shape_event_base,
 			      &shape_error_base))
@@ -263,9 +263,9 @@ XawCommandInitialize(Widget request, Widget cnew,
 	    cbw->command.highlight_thickness = DEFAULT_HIGHLIGHT_THICKNESS;
     }
 
-    cbw->command.normal_GC = Get_GC(cbw, cbw->label.foreground, 
+    cbw->command.normal_GC = Get_GC(cbw, cbw->label.foreground,
 				    cbw->core.background_pixel);
-    cbw->command.inverse_GC = Get_GC(cbw, cbw->core.background_pixel, 
+    cbw->command.inverse_GC = Get_GC(cbw, cbw->core.background_pixel,
 				     cbw->label.foreground);
     XtReleaseGC(cnew, cbw->label.normal_GC);
     cbw->label.normal_GC = cbw->command.normal_GC;
@@ -274,7 +274,7 @@ XawCommandInitialize(Widget request, Widget cnew,
     cbw->command.highlighted = HighlightNone;
 }
 
-static Region 
+static Region
 HighlightRegion(CommandWidget cbw)
 {
     static Region outerRegion = NULL, innerRegion, emptyRegion;
@@ -323,7 +323,7 @@ XawCommandToggle(Widget w)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 Set(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     CommandWidget cbw = (CommandWidget)w;
@@ -349,7 +349,7 @@ Unset(Widget w, XEvent *event, String *params, Cardinal *num_params)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 Reset(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     CommandWidget cbw = (CommandWidget)w;
@@ -363,7 +363,7 @@ Reset(Widget w, XEvent *event, String *params, Cardinal *num_params)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 Highlight(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     CommandWidget cbw = (CommandWidget)w;
@@ -389,7 +389,7 @@ Highlight(Widget w, XEvent *event, String *params, Cardinal *num_params)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 Unhighlight(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     CommandWidget cbw = (CommandWidget)w;
@@ -400,10 +400,10 @@ Unhighlight(Widget w, XEvent *event, String *params, Cardinal *num_params)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 Notify(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
-    CommandWidget cbw = (CommandWidget)w; 
+    CommandWidget cbw = (CommandWidget)w;
 
     /* check to be sure state is still Set so that user can cancel
        the action (e.g. by moving outside the window, in the default
@@ -427,13 +427,13 @@ XawCommandRedisplay(Widget w, XEvent *event, Region region)
  *	region - region to paint (passed to the superclass)
  *                 change - did it change either set or highlight state?
  */
-static void 
+static void
 PaintCommandWidget(Widget w, XEvent *event, Region region, Bool change)
 {
     CommandWidget cbw = (CommandWidget)w;
     Bool very_thick;
     GC rev_gc;
-   
+
     very_thick = cbw->command.highlight_thickness
 		 > Min(XtWidth(cbw), XtHeight(cbw)) / 2;
 
@@ -485,7 +485,7 @@ PaintCommandWidget(Widget w, XEvent *event, Region region, Bool change)
 	    else {
 		int offset = cbw->command.highlight_thickness / 2;
 
-		XDrawRectangle(XtDisplay(w),XtWindow(w), rev_gc, offset, offset, 
+		XDrawRectangle(XtDisplay(w),XtWindow(w), rev_gc, offset, offset,
 			       XtWidth(cbw) - cbw->command.highlight_thickness,
 			      XtHeight(cbw) - cbw->command.highlight_thickness);
 	   }
@@ -495,7 +495,7 @@ PaintCommandWidget(Widget w, XEvent *event, Region region, Bool change)
     (*SuperClass->core_class.expose)(w, event, region);
 }
 
-static void 
+static void
 XawCommandDestroy(Widget w)
 {
     CommandWidget cbw = (CommandWidget)w;
@@ -505,7 +505,7 @@ XawCommandDestroy(Widget w)
 }
 
 /*ARGSUSED*/
-static Boolean 
+static Boolean
 XawCommandSetValues(Widget current, Widget request, Widget cnew,
 		    ArgList args, Cardinal *num_args)
 {
@@ -541,9 +541,9 @@ XawCommandSetValues(Widget current, Widget request, Widget cnew,
 	|| oldcbw->label.font != cbw->label.font) {
 	XtReleaseGC(cnew, cbw->command.inverse_GC);
 
-	cbw->command.normal_GC = Get_GC(cbw, cbw->label.foreground, 
+	cbw->command.normal_GC = Get_GC(cbw, cbw->label.foreground,
 					cbw->core.background_pixel);
-	cbw->command.inverse_GC = Get_GC(cbw, cbw->core.background_pixel, 
+	cbw->command.inverse_GC = Get_GC(cbw, cbw->core.background_pixel,
 					 cbw->label.foreground);
 	XtReleaseGC(cnew, cbw->label.normal_GC);
 	cbw->label.normal_GC = cbw->command.normal_GC;
@@ -619,7 +619,7 @@ XawCommandRealize(Widget w, Mask *valueMask, XSetWindowAttributes *attributes)
 static void
 XawCommandResize(Widget w)
 {
-    if (XtIsRealized(w)) 
+    if (XtIsRealized(w))
 	ShapeButton((CommandWidget)w, False);
 
     (*commandWidgetClass->core_class.superclass->core_class.resize)(w);
diff --git a/src/Converters.c b/src/Converters.c
index 08b18c4..9795671 100644
--- a/src/Converters.c
+++ b/src/Converters.c
@@ -10,7 +10,7 @@
  *
  * The above copyright notice and this permission notice shall be included in
  * all copies or substantial portions of the Software.
- *  
+ *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
@@ -32,7 +32,6 @@
 #include <X11/IntrinsicP.h>
 #include <X11/StringDefs.h>
 #include <X11/Xmu/CharSet.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/Simple.h>
 #include <X11/Xaw/XawInit.h>
 #include "Private.h"
@@ -217,7 +216,7 @@ XawTypeToStringWarning(Display *dpy, String type)
   String params[1];
   Cardinal num_params;
 
-  XmuSnprintf(fname, sizeof(fname), "cvt%sToString", type);
+  snprintf(fname, sizeof(fname), "cvt%sToString", type);
 
   params[0] = type;
   num_params = 1;
@@ -235,7 +234,7 @@ TypeToStringNoArgsWarning(Display *dpy, String type)
   String params[1];
   Cardinal num_params;
 
-  XmuSnprintf(fname, sizeof(fname), "cvt%sToString", type);
+  snprintf(fname, sizeof(fname), "cvt%sToString", type);
 
   params[0] = type;
   num_params = 1;
@@ -258,8 +257,8 @@ _XawCvtBooleanToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRBoolean);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%s",
-	      *(Boolean *)fromVal->addr ? XtEtrue : XtEfalse);
+  snprintf(buffer, sizeof(buffer), "%s",
+	   *(Boolean *)fromVal->addr ? XtEtrue : XtEfalse);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -277,8 +276,8 @@ _XawCvtBoolToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRBool);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%s",
-	      *(Bool *)fromVal->addr ? XtEtrue : XtEfalse);
+  snprintf(buffer, sizeof(buffer), "%s",
+	   *(Bool *)fromVal->addr ? XtEtrue : XtEfalse);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -296,7 +295,7 @@ _XawCvtPositionToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRPosition);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%d", *(Position *)fromVal->addr);
+  snprintf(buffer, sizeof(buffer), "%d", *(Position *)fromVal->addr);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -314,7 +313,7 @@ _XawCvtShortToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRShort);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%d", *(short *)fromVal->addr);
+  snprintf(buffer, sizeof(buffer), "%d", *(short *)fromVal->addr);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -332,7 +331,7 @@ _XawCvtDimensionToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRDimension);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%u", *(Dimension *)fromVal->addr);
+  snprintf(buffer, sizeof(buffer), "%u", *(Dimension *)fromVal->addr);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -350,7 +349,7 @@ _XawCvtCARD32ToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, "CARD32");
 
-  XmuSnprintf(buffer, sizeof(buffer), "0x%08hx", *(int *)fromVal->addr);
+  snprintf(buffer, sizeof(buffer), "0x%08hx", *(int *)fromVal->addr);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -368,7 +367,7 @@ _XawCvtIntToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRInt);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%d", *(int *)fromVal->addr);
+  snprintf(buffer, sizeof(buffer), "%d", *(int *)fromVal->addr);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -386,7 +385,7 @@ _XawCvtCardinalToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRCardinal);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%u", *(Cardinal *)fromVal->addr);
+  snprintf(buffer, sizeof(buffer), "%u", *(Cardinal *)fromVal->addr);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -454,8 +453,8 @@ _XawCvtPixelToString(Display *dpy, XrmValue *args, Cardinal *num_args,
    * without asking Xlib.
    */
   XQueryColor(dpy, colormap, &color);
-  XmuSnprintf(buffer, sizeof(buffer), "rgb:%04hx/%04hx/%04hx",
-	      color.red, color.green, color.blue);
+  snprintf(buffer, sizeof(buffer), "rgb:%04hx/%04hx/%04hx",
+	   color.red, color.green, color.blue);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
@@ -486,7 +485,7 @@ _XawCvtFontStructToString(Display *dpy, XrmValue *args, Cardinal *num_args,
 
       if (tmp)
 	{
-	  XmuSnprintf(buffer, sizeof(buffer), "%s", tmp);
+	  snprintf(buffer, sizeof(buffer), "%s", tmp);
 	  size = strlen(tmp);
 	  XFree(tmp);
 	}
@@ -515,8 +514,8 @@ _XawCvtUnsignedCharToString(Display *dpy, XrmValue *args, Cardinal *num_args,
   if (*num_args != 0)
     TypeToStringNoArgsWarning(dpy, XtRUnsignedChar);
 
-  XmuSnprintf(buffer, sizeof(buffer), "%u",
-	      *(unsigned char *)fromVal->addr);
+  snprintf(buffer, sizeof(buffer), "%u",
+	   *(unsigned char *)fromVal->addr);
   size = strlen(buffer) + 1;
 
   string_done(buffer);
diff --git a/src/Dialog.c b/src/Dialog.c
index 7accb8c..9c98d36 100644
--- a/src/Dialog.c
+++ b/src/Dialog.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -54,7 +54,7 @@ SOFTWARE.
 #include <X11/Xmu/Misc.h>
 #include <X11/Xaw/AsciiText.h>
 #include <X11/Xaw/Cardinals.h>
-#include <X11/Xaw/Command.h>	
+#include <X11/Xaw/Command.h>
 #include <X11/Xaw/Label.h>
 #include <X11/Xaw/DialogP.h>
 #include <X11/Xaw/XawInit.h>
@@ -220,7 +220,7 @@ XawDialogInitialize(Widget request, Widget cnew,
 	XtSetArg(arglist[0], XtNheight, XtHeight(dw->dialog.iconW));
 	XtSetValues(dw->dialog.labelW, arglist, 1);
     }
-    if (dw->dialog.value != NULL) 
+    if (dw->dialog.value != NULL)
 	CreateDialogValueWidget((Widget)dw);
     else
         dw->dialog.valueW = NULL;
@@ -238,7 +238,7 @@ XawDialogConstraintInitialize(Widget request, Widget cnew,
 	return;					 /* then just use defaults */
 
     constraint->form.left = constraint->form.right = XtChainLeft;
-    if (dw->dialog.valueW == NULL) 
+    if (dw->dialog.valueW == NULL)
 	constraint->form.vert_base = dw->dialog.labelW;
     else
 	constraint->form.vert_base = dw->dialog.valueW;
@@ -360,7 +360,7 @@ XawDialogGetValuesHook(Widget w, ArgList args, Cardinal *num_args)
     String s;
     DialogWidget src = (DialogWidget)w;
     unsigned int i;
-  
+
     for (i = 0; i < *num_args; i++)
 	if (streq(args[i].name, XtNvalue)) {
 	    XtSetArg(a[0], XtNstring, &s);
diff --git a/src/DisplayList.c b/src/DisplayList.c
index 6549650..4ef89aa 100644
--- a/src/DisplayList.c
+++ b/src/DisplayList.c
@@ -10,7 +10,7 @@
  *
  * The above copyright notice and this permission notice shall be included in
  * all copies or substantial portions of the Software.
- *  
+ *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
@@ -39,7 +39,6 @@
 #include <X11/CoreP.h>
 #include <X11/Xfuncs.h>
 #include <X11/Xmu/CharSet.h>
-#include <X11/Xmu/SysUtil.h>
 #include "Private.h"
 
 #ifdef __UNIXOS2__
@@ -273,8 +272,8 @@ _XawDisplayList *XawCreateDisplayList(String string, Screen *screen,
 	{
 	  char msg[256];
 
-	  XmuSnprintf(msg, sizeof(msg),
-		      "Error parsing displayList at \"%s\"", lp);
+	  snprintf(msg, sizeof(msg),
+		   "Error parsing displayList at \"%s\"", lp);
 	  XtAppWarning(XtDisplayToApplicationContext(DisplayOfScreen(screen)),
 		       msg);
 	  XawDestroyDisplayList(dlist);
@@ -291,15 +290,15 @@ _XawDisplayList *XawCreateDisplayList(String string, Screen *screen,
 	}
       if (fp)
 	{
-	  XmuSnprintf(cname, fp - fname + 1, fname);
+	  snprintf(cname, fp - fname + 1, fname);
 	  memmove(fname, fp + 1, strlen(fp));
 	  lc = cname[0] ? XawGetDisplayListClass(cname) : xlibc;
 	  if (!lc)
 	    {
 	      char msg[256];
 
-	      XmuSnprintf(msg, sizeof(msg),
-			  "Cannot find displayList class \"%s\"", cname);
+	      snprintf(msg, sizeof(msg),
+		       "Cannot find displayList class \"%s\"", cname);
 	      XtAppWarning(XtDisplayToApplicationContext
 			   (DisplayOfScreen(screen)), msg);
 	      XawDestroyDisplayList(dlist);
@@ -316,8 +315,8 @@ _XawDisplayList *XawCreateDisplayList(String string, Screen *screen,
 	{
 	  char msg[256];
 
-	  XmuSnprintf(msg, sizeof(msg),
-		      "Cannot find displayList procedure \"%s\"", fname);
+	  snprintf(msg, sizeof(msg),
+		   "Cannot find displayList procedure \"%s\"", fname);
 	  XtAppWarning(XtDisplayToApplicationContext(DisplayOfScreen(screen)),
 		       msg);
 	  XawDestroyDisplayList(dlist);
@@ -355,8 +354,8 @@ _XawDisplayList *XawCreateDisplayList(String string, Screen *screen,
 	    {
 	      char msg[256];
 
-	      XmuSnprintf(msg, sizeof(msg),
-			  "Error parsing displayList at \"%s\"", lp);
+	      snprintf(msg, sizeof(msg),
+		       "Error parsing displayList at \"%s\"", lp);
 	      XtAppWarning(XtDisplayToApplicationContext
 			   (DisplayOfScreen(screen)), msg);
 	      XawDestroyDisplayList(dlist);
@@ -420,8 +419,9 @@ _XawDisplayList *XawCreateDisplayList(String string, Screen *screen,
 	      char msg[256];
 
 	      proc->args = NULL;
-	      XmuSnprintf(msg, sizeof(msg),
-			  "Cannot convert arguments to displayList function \"%s\"", fname);
+	      snprintf(msg, sizeof(msg),
+		       "Cannot convert arguments to displayList function \"%s\"",
+		       fname);
 	      XtAppWarning(XtDisplayToApplicationContext
 			   (DisplayOfScreen(screen)), msg);
 	      XawDestroyDisplayList(dlist);
diff --git a/src/Form.c b/src/Form.c
index 58723e8..dcc26f3 100644
--- a/src/Form.c
+++ b/src/Form.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/src/Grip.c b/src/Grip.c
index 93ddfbe..85f021b 100644
--- a/src/Grip.c
+++ b/src/Grip.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
diff --git a/src/Label.c b/src/Label.c
index d584426..e304636 100644
--- a/src/Label.c
+++ b/src/Label.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -468,7 +468,7 @@ GetGrayGC(LabelWidget lw)
     values.font	      = lw->label.font->fid;
     values.fill_style = FillTiled;
     values.tile       = XmuCreateStippledPixmap(XtScreen((Widget)lw),
-						lw->label.foreground, 
+						lw->label.foreground,
 						lw->core.background_pixel,
 						lw->core.depth);
     values.graphics_exposures = False;
@@ -482,7 +482,7 @@ GetGrayGC(LabelWidget lw)
 					 GCGraphicsExposures,
 					 &values, GCFont, 0);
 	else
-	    lw->label.gray_GC = XtGetGC((Widget)lw, 
+	    lw->label.gray_GC = XtGetGC((Widget)lw,
 					GCForeground | GCBackground |
 					GCFont | GCTile | GCFillStyle |
 					GCGraphicsExposures,
@@ -493,7 +493,7 @@ static void
 compute_bitmap_offsets(LabelWidget lw)
 {
     /*
-     * bitmap will be eventually be displayed at 
+     * bitmap will be eventually be displayed at
      * (internal_width, internal_height + lbm_y)
      */
     if (lw->label.lbm_height != 0)
@@ -527,10 +527,10 @@ XawLabelInitialize(Widget request, Widget cnew,
     LabelWidget lw = (LabelWidget)cnew;
 
     if (!lw->label.font) XtError("Aborting: no font found\n");
-    if (lw->simple.international && !lw->label.fontset) 
+    if (lw->simple.international && !lw->label.fontset)
 	XtError("Aborting: no fontset found\n");
-    
-    if (lw->label.label == NULL) 
+
+    if (lw->label.label == NULL)
 	lw->label.label = XtNewString(lw->core.name);
     else
 	lw->label.label = XtNewString(lw->label.label);
@@ -615,7 +615,7 @@ XawLabelRedisplay(Widget gw, XEvent *event, Region region)
 		    else
 			XDrawString(XtDisplay(gw), XtWindow(gw), gc,
 				    w->label.label_x, y, label, (int)(nl - label));
-		    y += w->label.font->max_bounds.ascent + 
+		    y += w->label.font->max_bounds.ascent +
 			 w->label.font->max_bounds.descent;
 		    label = nl + 1;
 		}
@@ -724,7 +724,7 @@ XawLabelSetValues(Widget current, Widget request, Widget cnew,
     if (curlw->label.encoding != newlw->label.encoding)
 	was_resized = True;
 
-    if (curlw->simple.international 
+    if (curlw->simple.international
 	&& curlw->label.fontset != newlw->label.fontset)
 	was_resized = True;
 
diff --git a/src/List.c b/src/List.c
index 287151d..ce0ab5f 100644
--- a/src/List.c
+++ b/src/List.c
@@ -28,7 +28,7 @@ in this Software without prior written authorization from The Open Group.
  * This is a List widget.  It allows the user to select an item in a list and
  * notifies the application through a callback function.
  *
- *	Created: 	8/13/88
+ *	Created:	8/13/88
  *	By:		Chris D. Peterson
  *                      MIT X Consortium
  */
@@ -81,7 +81,7 @@ static Bool Layout(Widget, Bool, Bool, Dimension*, Dimension*);
 static void PaintItemName(Widget, int);
 static void ResetList(Widget, Bool, Bool);
 
-/* 
+/*
  * Actions
  */
 static void Notify(Widget, XEvent*, String*, Cardinal*);
@@ -91,7 +91,7 @@ static void Unset(Widget, XEvent*, String*, Cardinal*);
 /*
  * Initialization
  */
-static char defaultTranslations[] =  
+static char defaultTranslations[] =
 "<Btn1Down>:"	"Set()\n"
 "<Btn1Up>:"	"Notify()\n"
 ;
@@ -337,7 +337,7 @@ GetGCs(Widget w)
     else
 	lw->list.revgc = XtGetGC(w, GCForeground | GCFont, &values);
 
-    values.tile       = XmuCreateStippledPixmap(XtScreen(w), 
+    values.tile       = XmuCreateStippledPixmap(XtScreen(w),
 						lw->list.foreground,
 						lw->core.background_pixel,
 						lw->core.depth);
@@ -374,10 +374,10 @@ CalculatedValues(Widget w)
 	for (i = 0 ; i < lw->list.nitems; i++) {
 	    if (lw->simple.international == True)
 		len = XmbTextEscapement(lw->list.fontset, lw->list.list[i],
-			 		strlen(lw->list.list[i]));
+					strlen(lw->list.list[i]));
 	    else
 		len = XTextWidth(lw->list.font, lw->list.list[i],
-			 	 strlen(lw->list.list[i]));
+				 strlen(lw->list.list[i]));
 	    if (len > lw->list.longest)
 		lw->list.longest = len;
 	}
@@ -466,15 +466,15 @@ ChangeSize(Widget w, unsigned int width, unsigned int height)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 XawListInitialize(Widget temp1, Widget cnew, ArgList args, Cardinal *num_args)
 {
     ListWidget lw = (ListWidget)cnew;
 
     if (!lw->list.font) XtError("Aborting: no font found\n");
-    if (lw->simple.international && !lw->list.fontset) 
+    if (lw->simple.international && !lw->list.fontset)
 	XtError("Aborting: no fontset found\n");
-    
+
     /*
      * Initialize all private resources
      */
@@ -538,10 +538,10 @@ CvtToItem(Widget w, int xloc, int yloc, int *item)
 	/* If in right margin handle things right */
 	another = (xloc - (int)lw->list.internal_width) / lw->list.col_width;
 	if (another >= lw->list.ncols) {
-	    another = lw->list.ncols - 1; 
+	    another = lw->list.ncols - 1;
 	    ret_val = OUT_OF_RANGE;
 	}
-    }  
+    }
     if (xloc < 0 || yloc < 0)
 	ret_val = OUT_OF_RANGE;
     if (one < 0)
@@ -600,8 +600,8 @@ ItemInRectangle(Widget w, int ul, int lr, int item)
     ListWidget lw = (ListWidget)w;
     int mod_item;
     int things;
-    
-    if (item < ul || item > lr) 
+
+    if (item < ul || item > lr)
       return (False);
     if (lw->list.vertical_cols)
 	things = lw->list.nrows;
@@ -716,7 +716,7 @@ PaintItemName(Widget w, int item)
 	    HighlightBackground(w, x, y, lw->list.normgc);
 	}
 	else {
-	    if (XtIsSensitive(w)) 
+	    if (XtIsSensitive(w))
 		gc = lw->list.normgc;
 	    else
 		gc = lw->list.graygc;
@@ -731,7 +731,7 @@ PaintItemName(Widget w, int item)
 	    lw->list.is_highlighted = item;
 	}
 	else {
-	    if (XtIsSensitive(w)) 
+	    if (XtIsSensitive(w))
 		gc = lw->list.normgc;
 	    else
 		gc = lw->list.graygc;
@@ -759,7 +759,7 @@ PaintItemName(Widget w, int item)
     XSetClipMask(XtDisplay(w), gc, None);
 }
 
-static void 
+static void
 XawListRedisplay(Widget w, XEvent *event, Region region)
 {
     int item;			/* an item to work with */
@@ -776,7 +776,7 @@ XawListRedisplay(Widget w, XEvent *event, Region region)
 
     if (Superclass->core_class.expose)
     (Superclass->core_class.expose)(w, event, region);
-    
+
     for (item = ul_item; item <= lr_item && item < lw->list.nitems; item++)
 	if (ItemInRectangle(w, ul_item, lr_item, item))
 	    PaintItemName(w, item);
@@ -789,13 +789,13 @@ XawListRedisplay(Widget w, XEvent *event, Region region)
  * w - the widget.
  * intended - what the parent intends to do with us.
  * requested - what we want to happen */
-static XtGeometryResult 
+static XtGeometryResult
 XawListQueryGeometry(Widget w, XtWidgetGeometry *intended,
 		     XtWidgetGeometry *requested)
 {
     Dimension new_width, new_height;
     Bool change, width_req, height_req;
-    
+
     width_req = intended->request_mode & CWWidth;
     height_req = intended->request_mode & CWHeight;
 
@@ -810,13 +810,13 @@ XawListQueryGeometry(Widget w, XtWidgetGeometry *intended,
 	new_height = XtHeight(w);
 
     requested->request_mode = 0;
-    
+
    /*
     * We only care about our height and width
     */
     if (!width_req && !height_req)
 	return (XtGeometryYes);
-    
+
     change = Layout(w, !width_req, !height_req, &new_width, &new_height);
 
     requested->request_mode |= CWWidth;
@@ -853,7 +853,7 @@ XawListResize(Widget w)
  * width, height- the is the current width and height that we are going
  *		we are going to layout the list widget to,
  *		depending on xfree and yfree of course.
- *			       
+ *
  * Return:
  *	True if width or height have been changed */
 static Bool
@@ -877,7 +877,7 @@ Layout(Widget w, Bool xfree, Bool yfree, Dimension *width, Dimension *height)
 	       of inter-column column_space 's as columns.  There should thus
 	       be a half column_space margin on each side of each column...*/
 	    width2 = lw->list.ncols * lw->list.col_width +
-	    	     (lw->list.internal_width << 1);
+		     (lw->list.internal_width << 1);
 	    change = True;
 	}
 	if (yfree) {
@@ -948,7 +948,7 @@ Layout(Widget w, Bool xfree, Bool yfree, Dimension *width, Dimension *height)
 	while (1) {
 	    lw->list.nrows = ((lw->list.nitems - 1) / lw->list.ncols) + 1;
 	    width2 = lw->list.ncols * lw->list.col_width +
-	    	     (lw->list.internal_width << 1);
+		     (lw->list.internal_width << 1);
 	    height2 = lw->list.nrows * lw->list.row_height +
 		      (lw->list.internal_height << 1);
 	    if (width2 >= MaxSize && height2 >= MaxSize)
@@ -984,7 +984,7 @@ Notify(Widget w, XEvent *event, String *params, Cardinal *num_params)
 
     /*
      * Find item and if out of range then unhighlight and return
-     * 
+     *
      * If the current item is unhighlighted then the user has aborted the
      * notify, so unhighlight and return
      */
@@ -1014,7 +1014,7 @@ Notify(Widget w, XEvent *event, String *params, Cardinal *num_params)
      */
     ret_value.string = lw->list.list[item];
     ret_value.list_index = item;
-    
+
     XtCallCallbacks(w, XtNcallback, (XtPointer)&ret_value);
 }
 
@@ -1051,7 +1051,7 @@ Set(Widget w, XEvent *event, String *params, Cardinal *num_params)
  * Set specified arguments into widget
  */
 /*ARGSUSED*/
-static Boolean 
+static Boolean
 XawListSetValues(Widget current, Widget request, Widget cnew,
 		 ArgList args, Cardinal *num_args)
 {
@@ -1142,7 +1142,7 @@ XawListSetValues(Widget current, Widget request, Widget cnew,
 	nl->list.highlight = NO_HIGHLIGHT;
 	redraw = True;
     }
-    
+
     return (redraw);
 }
 
@@ -1151,7 +1151,7 @@ XawListDestroy(Widget w)
 {
     ListWidget lw = (ListWidget)w;
     XGCValues values;
-    
+
     XGetGCValues(XtDisplay(w), lw->list.graygc, GCTile, &values);
     XmuReleaseStippledPixmap(XtScreen(w), values.tile);
     XtReleaseGC(w, lw->list.graygc);
@@ -1233,7 +1233,7 @@ void
 XawListHighlight(Widget w, int item)
 {
     ListWidget lw = (ListWidget)w;
-    
+
     if (XtIsSensitive(w)) {
 	lw->list.highlight = item;
 	if (lw->list.is_highlighted != NO_HIGHLIGHT)
@@ -1259,7 +1259,7 @@ XawListShowCurrent(Widget w)
     XawListReturnStruct *ret_val;
 
     ret_val = (XawListReturnStruct *)XtMalloc(sizeof(XawListReturnStruct));
-    
+
     ret_val->list_index = lw->list.highlight;
     if (ret_val->list_index == XAW_LIST_NONE)
 	ret_val->string = "";
diff --git a/src/MenuButton.c b/src/MenuButton.c
index 2732a72..e190851 100644
--- a/src/MenuButton.c
+++ b/src/MenuButton.c
@@ -32,7 +32,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    May 2, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -42,7 +42,6 @@ in this Software without prior written authorization from The Open Group.
 #include <stdio.h>
 #include <X11/IntrinsicP.h>
 #include <X11/StringDefs.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/MenuButtoP.h>
 #include <X11/Xaw/XawInit.h>
 #include "Private.h"
@@ -65,7 +64,7 @@ static void PopupMenu(Widget, XEvent*, String*, Cardinal*);
  */
 #define superclass ((CommandWidgetClass)&commandClassRec)
 
-static char defaultTranslations[] = 
+static char defaultTranslations[] =
 "<Enter>:"	"highlight()\n"
 "<Leave>:"	"reset()\n"
 "Any<BtnDown>:"	"reset() PopupMenu()\n";
@@ -96,7 +95,7 @@ MenuButtonClassRec menuButtonClassRec = {
   {
     (WidgetClass)superclass,		/* superclass		  */
     "MenuButton",			/* class_name		  */
-    sizeof(MenuButtonRec),       	/* size			  */
+    sizeof(MenuButtonRec),		/* size			  */
     XawMenuButtonClassInitialize,	/* class_initialize	  */
     NULL,				/* class_part_initialize  */
     False,				/* class_inited		  */
@@ -122,14 +121,14 @@ MenuButtonClassRec menuButtonClassRec = {
     NULL,				/* accept_focus		  */
     XtVersion,				/* version		  */
     NULL,				/* callback_private	  */
-    defaultTranslations,               	/* tm_table		  */
+    defaultTranslations,		/* tm_table		  */
     XtInheritQueryGeometry,		/* query_geometry	  */
     XtInheritDisplayAccelerator,	/* display_accelerator	  */
     NULL,				/* extension */
   },
   /* simple */
   {
-    XtInheritChangeSensitive		/* change_sensitive	  */ 
+    XtInheritChangeSensitive		/* change_sensitive	  */
   },
   /* label */
   {
@@ -212,7 +211,7 @@ PopupMenu(Widget w, XEvent *event, String *params, Cardinal *num_params)
     temp = w;
     while(temp != NULL) {
 	menu = XtNameToWidget(temp, mbw->menu_button.menu_name);
-	if (menu == NULL) 
+	if (menu == NULL)
 	    temp = XtParent(temp);
 	else
 	    break;
@@ -221,16 +220,16 @@ PopupMenu(Widget w, XEvent *event, String *params, Cardinal *num_params)
     if (menu == NULL) {
 	char error_buf[BUFSIZ];
 
-	(void)XmuSnprintf(error_buf, sizeof(error_buf),
-			  "MenuButton:  Could not find menu widget named %s.",
-			  mbw->menu_button.menu_name);
+	snprintf(error_buf, sizeof(error_buf),
+		 "MenuButton:  Could not find menu widget named %s.",
+		 mbw->menu_button.menu_name);
 	XtAppWarning(XtWidgetToApplicationContext(w), error_buf);
 	return;
     }
 
     if (!XtIsRealized(menu))
 	XtRealizeWidget(menu);
-  
+
     menu_width = XtWidth(menu) + (XtBorderWidth(menu) << 1);
     button_height = XtHeight(w) + (XtBorderWidth(w) << 1);
     menu_height = XtHeight(menu) + (XtBorderWidth(menu) << 1);
@@ -260,7 +259,7 @@ PopupMenu(Widget w, XEvent *event, String *params, Cardinal *num_params)
 	if (menu_x + menu_width > scr_width)
 	    menu_x = scr_width - menu_width;
     }
-    if (menu_x < 0) 
+    if (menu_x < 0)
 	menu_x = 0;
 
     num_args = 0;
diff --git a/src/MultiSink.c b/src/MultiSink.c
index 129624e..77eb42f 100644
--- a/src/MultiSink.c
+++ b/src/MultiSink.c
@@ -51,13 +51,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -662,7 +662,7 @@ GetGC(MultiSinkObject sink)
     values.clip_x_origin = (long)sink;
     values.clip_mask = None;
     values.graphics_exposures = False;
-    
+
     values.foreground = sink->text_sink.foreground;
     values.background = sink->text_sink.background;
 
diff --git a/src/MultiSrc.c b/src/MultiSrc.c
index e9e4bda..148a178 100644
--- a/src/MultiSrc.c
+++ b/src/MultiSrc.c
@@ -170,7 +170,7 @@ static XtResource resources[] = {
     XtNcallback,
     XtCCallback,
     XtRCallback,
-    sizeof(XtPointer), 
+    sizeof(XtPointer),
     offset(callback),
     XtRCallback,
     (XtPointer)NULL
@@ -331,7 +331,7 @@ ReadText(Widget w, XawTextPosition pos, XawTextBlock *text, int length)
     MultiSrcObject src = (MultiSrcObject)w;
     XawTextPosition count, start;
     MultiPiece *piece = FindPiece(src, pos, &start);
-    
+
     text->format = XawFmtWide;
     text->firstPos = pos;
     text->ptr = (char *)(piece->text + (pos - start));
@@ -358,7 +358,7 @@ ReadText(Widget w, XawTextPosition pos, XawTextBlock *text, int length)
  *	XawEditDone on success, XawEditError otherwise
  */
 /*ARGSUSED*/
-static int 
+static int
 ReplaceText(Widget w, XawTextPosition startPos, XawTextPosition endPos,
 	    XawTextBlock *u_text_p)
 {
@@ -370,9 +370,9 @@ ReplaceText(Widget w, XawTextPosition startPos, XawTextPosition endPos,
     Bool local_artificial_block = False;
     XawTextBlock text;
 
-    /* STEP 1: The user handed me a text block called `u_text' that may be 
-     * in either FMTWIDE or FMT8BIT (ie MB.)  Later code needs the block 
-     * `text' to hold FMTWIDE.	So, this copies `u_text' to `text', and if 
+    /* STEP 1: The user handed me a text block called `u_text' that may be
+     * in either FMTWIDE or FMT8BIT (ie MB.)  Later code needs the block
+     * `text' to hold FMTWIDE.	So, this copies `u_text' to `text', and if
      * `u_text' was MB, I knock it up to WIDE
      */
     if (u_text_p->length == 0)	/* if so, the block contents never ref'd */
@@ -406,7 +406,7 @@ ReplaceText(Widget w, XawTextPosition startPos, XawTextPosition endPos,
     }
 
     /* STEP 2: some initialization... */
-    if (src->text_src.edit_mode == XawtextRead) 
+    if (src->text_src.edit_mode == XawtextRead)
 	return (XawEditError);
 
     start_piece = FindPiece(src, startPos, &start_first);
@@ -455,11 +455,11 @@ ReplaceText(Widget w, XawTextPosition startPos, XawTextPosition endPos,
         start_piece = FindPiece(src, startPos, &start_first);
         length = text.length;
         firstPos = text.firstPos;
-    
+
 	while (length > 0) {
 	    wchar_t *ptr;
 	    int fill;
-      
+
 	    if (src->multi_src.use_string_in_place) {
 		if (start_piece->used == src->multi_src.piece_size - 1)  {
 
@@ -481,13 +481,13 @@ ReplaceText(Widget w, XawTextPosition startPos, XawTextPosition endPos,
 	    }
 
 	    fill = Min((int)(src->multi_src.piece_size - start_piece->used), length);
-      
+
 	    ptr = start_piece->text + (startPos - start_first);
 	    memmove(ptr + fill, ptr, (start_piece->used -
 		    (startPos - start_first)) * sizeof(wchar_t));
 	    wptr =(wchar_t *)text.ptr;
 	    (void)wcsncpy(ptr, wptr + firstPos, fill);
-      
+
 	    startPos += fill;
 	    firstPos += fill;
 	    start_piece->used += fill;
@@ -681,7 +681,7 @@ Scan(Widget w, register XawTextPosition position, XawTextScanType type,
  * Returns:
  *	The position of the item found
  */
-static XawTextPosition 
+static XawTextPosition
 Search(Widget w, register XawTextPosition position, XawTextScanDirection dir,
        XawTextBlock *text)
 {
@@ -752,7 +752,7 @@ Search(Widget w, register XawTextPosition position, XawTextScanDirection dir,
 
 	ptr += inc;
 	position += inc;
-    
+
 	while (ptr < piece->text) {
 	    cnt = piece->text - ptr;
 
@@ -763,7 +763,7 @@ Search(Widget w, register XawTextPosition position, XawTextScanDirection dir,
 	    }
 	    ptr = piece->text + piece->used - cnt;
 	}
-   
+
 	while (ptr >= piece->text + piece->used) {
 	    cnt = ptr - (piece->text + piece->used);
 
@@ -816,7 +816,7 @@ XawMultiSrcSetValues(Widget current, Widget request, Widget cnew,
 	XtAppWarning(app_con,
 		     "MultiSrc: The XtNuseStringInPlace resources "
 		     "may not be changed.");
-	src->multi_src.use_string_in_place = 
+	src->multi_src.use_string_in_place =
 	    old_src->multi_src.use_string_in_place;
     }
 
@@ -825,7 +825,7 @@ XawMultiSrcSetValues(Widget current, Widget request, Widget cnew,
 	    string_set = True;
 	    break;
 	}
-  
+
     if (string_set || old_src->multi_src.type != src->multi_src.type) {
 	RemoveOldStringOrFile(old_src, string_set);
 	src->multi_src.allocated_string = old_src->multi_src.allocated_string;
@@ -890,14 +890,14 @@ XawMultiSrcGetValuesHook(Widget w, ArgList args, Cardinal *num_args)
     }
 }
 
-static void 
+static void
 XawMultiSrcDestroy(Widget w)
 {
     RemoveOldStringOrFile((MultiSrcObject) w, True);
 }
 
 /*
- * Public routines 
+ * Public routines
  */
 /*
  * Function:
@@ -952,14 +952,14 @@ _XawMultiSave(Widget w)
      * If using the string in place then there is no need to play games
      * to get the internal info into a readable string
      */
-    if (src->multi_src.use_string_in_place) 
+    if (src->multi_src.use_string_in_place)
 	return (True);
 
     if (src->multi_src.type == XawAsciiFile) {
 #ifdef OLDXAW
 	 if (!src->multi_src.changes)
 #else
-	if (!src->text_src.changed) 		/* No changes to save */
+	if (!src->text_src.changed)		/* No changes to save */
 #endif
 	    return (True);
 
@@ -1006,7 +1006,7 @@ _XawMultiSave(Widget w)
 	    XtFree((char *)src->multi_src.string);
 	else
 	    src->multi_src.allocated_string = True;
-    
+
         src->multi_src.string = mb_string;
     }
 #ifdef OLDXAW
@@ -1092,7 +1092,7 @@ static Bool
 WriteToFile(String string, String name)
 {
     int fd;
-  
+
     if (((fd = creat(name, 0666)) == -1)
 	|| (write(fd, string, strlen(string)) == -1))
 	return (False);
@@ -1197,12 +1197,12 @@ InitStringOrFile(MultiSrcObject src, Bool newString)
 	    if (src->multi_src.length > src->multi_src.multi_length)
 		src->multi_src.multi_length = src->multi_src.length;
 
-	    if (src->multi_src.multi_length == MAGIC_VALUE) 
+	    if (src->multi_src.multi_length == MAGIC_VALUE)
 		src->multi_src.piece_size = src->multi_src.length;
 	    else
 		src->multi_src.piece_size = src->multi_src.multi_length + 1;
 	}
-		
+
 	return (NULL);
     }
 
@@ -1252,7 +1252,7 @@ InitStringOrFile(MultiSrcObject src, Bool newString)
 	src->multi_src.string = temp;
 	src->multi_src.allocated_string = True;
     }
-    
+
     if (!src->multi_src.is_tempfile) {
 	if ((fd = open((char *)src->multi_src.string, open_mode, 0666)) != -1) {
 	    if ((file = fdopen(fd, fdopen_mode)) != NULL) {
@@ -1264,7 +1264,7 @@ InitStringOrFile(MultiSrcObject src, Bool newString)
 	{
 	    String params[2];
 	    Cardinal num_params = 2;
-	    
+
 	    params[0] = (String)src->multi_src.string;
 	    params[1] = strerror(errno);
 	    XtAppWarningMsg(XtWidgetToApplicationContext((Widget)src),
@@ -1294,25 +1294,25 @@ LoadPieces(MultiSrcObject src, FILE *file, char *string)
     int bytes = sizeof(wchar_t);
     char* temp_mb_holder = NULL;
 
-    /* 
-     * This is tricky - the _XawTextMBtoWC converter uses its 3rd arg 
-     * in as MB length, out as WC length.  We want local_length to be 
-     * WC count. 
+    /*
+     * This is tricky - the _XawTextMBtoWC converter uses its 3rd arg
+     * in as MB length, out as WC length.  We want local_length to be
+     * WC count.
      */
     int local_length = src->multi_src.length;
 
     if (string != NULL) {
-	/* 
-	 * ASSERT: IF our caller passed a non-null string, THEN 
-	 * src->multi_src.length is currently string's * byte count, 
+	/*
+	 * ASSERT: IF our caller passed a non-null string, THEN
+	 * src->multi_src.length is currently string's * byte count,
 	 * AND string is in a MB format
 	*/
 	local_str = _XawTextMBToWC(d, (char *)string, &local_length);
 	src->multi_src.length = (XawTextPosition) local_length;
     }
     else if (src->multi_src.type != XawAsciiFile) {
-	/* 
-	 * here, we are not changing the contents, just reloading, 
+	/*
+	 * here, we are not changing the contents, just reloading,
 	 * so don't change len...
 	 */
 	local_length = src->multi_src.string ?
@@ -1322,13 +1322,13 @@ LoadPieces(MultiSrcObject src, FILE *file, char *string)
     }
     else {
 	if (src->multi_src.length != 0) {
-	    temp_mb_holder = 
+	    temp_mb_holder =
 		XtMalloc((src->multi_src.length + 1) * sizeof(unsigned char));
 	    fseek(file, 0, 0);
 	    src->multi_src.length = fread(temp_mb_holder,
-					  (Size_t)sizeof(unsigned char), 
+					  (Size_t)sizeof(unsigned char),
 					  (Size_t)src->multi_src.length, file);
-	    if (src->multi_src.length <= 0) 
+	    if (src->multi_src.length <= 0)
 		XtAppErrorMsg(XtWidgetToApplicationContext ((Widget) src),
 			      "readError", "multiSource", "XawError",
 			      "fread returned error.", NULL, NULL);
@@ -1339,7 +1339,7 @@ LoadPieces(MultiSrcObject src, FILE *file, char *string)
 	    if (local_str == 0) {
 		String params[2];
 		Cardinal num_params;
-		static char err_text[] = 
+		static char err_text[] =
 		    "<<< FILE CONTENTS NOT REPRESENTABLE IN THIS LOCALE >>>";
 
 		params[0] = XtName(XtParent((Widget)src));
@@ -1353,7 +1353,7 @@ LoadPieces(MultiSrcObject src, FILE *file, char *string)
 				params, &num_params);
 		src->multi_src.length = sizeof err_text;
 		local_length = src->multi_src.length;
-        	local_str = _XawTextMBToWC(d, err_text, &local_length);
+		local_str = _XawTextMBToWC(d, err_text, &local_length);
 		src->multi_src.length = local_length;
 	    }
 	}
@@ -1420,7 +1420,7 @@ AllocNewPiece(MultiSrcObject src, MultiPiece *prev)
 	piece->next = prev->next;
 	prev->next = piece;
     }
-  
+
     piece->prev = prev;
 
     return (piece);
@@ -1436,7 +1436,7 @@ AllocNewPiece(MultiSrcObject src, MultiPiece *prev)
  * Description:
  *	Frees all the pieces
  */
-static void 
+static void
 FreeAllPieces(MultiSrcObject src)
 {
     MultiPiece *next, *first = src->multi_src.first_piece;
@@ -1451,7 +1451,7 @@ FreeAllPieces(MultiSrcObject src)
 	RemovePiece(src, first);
     }
 }
-  
+
 /*
  * Function:
  *	RemovePiece
@@ -1511,7 +1511,7 @@ FindPiece(MultiSrcObject src, XawTextPosition position, XawTextPosition *first)
 
     return (old_piece);	  /* if we run off the end the return the last piece */
 }
-    
+
 /*
  * Function:
  *	BreakPiece
@@ -1528,7 +1528,7 @@ static void
 BreakPiece(MultiSrcObject src, MultiPiece *piece)
 {
     MultiPiece *cnew = AllocNewPiece(src, piece);
-  
+
     cnew->text = (wchar_t *)
 	XtMalloc(src->multi_src.piece_size * sizeof(wchar_t));
     (void)wcsncpy(cnew->text, piece->text + HALF_PIECE,
diff --git a/src/Paned.c b/src/Paned.c
index 84999f7..26ff812 100644
--- a/src/Paned.c
+++ b/src/Paned.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -64,10 +64,9 @@ SOFTWARE.
 #include <X11/Xmu/CharSet.h>
 #include <X11/Xmu/Converters.h>
 #include <X11/Xmu/Misc.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/Grip.h>
 #include <X11/Xaw/PanedP.h>
-#include <X11/Xaw/XawImP.h> 
+#include <X11/Xaw/XawImP.h>
 #include <X11/Xaw/XawInit.h>
 #include "Private.h"
 
@@ -536,7 +535,7 @@ AdjustPanedSize(PanedWidget pw, unsigned int off_size,
 	}
 	if (*result_ret != XtGeometryAlmost) {
 	    *on_size_ret = GetRequestInfo(&request, IsVert(pw));
-      	    *off_size_ret = GetRequestInfo(&request, !IsVert(pw));
+	    *off_size_ret = GetRequestInfo(&request, !IsVert(pw));
 	    return;
 	}
 	*on_size_ret = GetRequestInfo(&reply, IsVert(pw));
@@ -563,21 +562,21 @@ AdjustPanedSize(PanedWidget pw, unsigned int off_size,
  *
  * Description:
  *	  This function chooses a pane to resize.
- 	They are chosen using the following rules:
+ *	  They are chosen using the following rules:
  *
  *		   1) size < max && size > min
  *	2) skip adjust == False
  *	3) widget not its prefered height
  *	   && this change will bring it closer
  *	   && The user has not resized this pane.
- *	   
+ *
  *		   If no widgets are found that fits all the rules then
  *		      rule #3 is broken.
  *		   If there are still no widgets found than
  *		      rule #2 is broken.
  *		   Rule #1 is never broken.
  *		   If no widgets are found then NULL is returned.
- * 
+ *
  * Returns:
  *	pane to resize or NULL
  */
@@ -599,7 +598,7 @@ ChoosePaneToResize(PanedWidget pw, int paneindex, Direction dir, Bool shrink)
     /*CONSTCOND*/
     while(True) {
 	Pane pane = PaneInfo(*childP);
-	
+
 	if ((rules < 3 || SatisfiesRule3(pane, shrink))
 	    && (rules < 2 || SatisfiesRule2(pane))
 	    && SatisfiesRule1(pane, shrink)
@@ -635,7 +634,7 @@ ChoosePaneToResize(PanedWidget pw, int paneindex, Direction dir, Bool shrink)
  *
  * Parameters:
  *	pw	  - paned widget
- * 	paneindex - number of the pane border we are moving
+ *	paneindex - number of the pane border we are moving
  *	dir	  - pane to move (either UpLeftPane or LowRightPane)
  *	sizeused  - current amount of space used (used and returned)
  *
@@ -668,7 +667,7 @@ LoopAndRefigureChildren(PanedWidget pw, int paneindex, Direction dir,
 	GetPaneStack(pw, shrink, &pane, &start_size);
 	if (pane == NULL) {
 	    pane = ChoosePaneToResize(pw, paneindex, dir, shrink);
-	    if (pane == NULL) 
+	    if (pane == NULL)
 		return; /* no one to resize, give up */
 
 	    rule3_ok = SatisfiesRule3(pane, shrink);
@@ -727,7 +726,7 @@ LoopAndRefigureChildren(PanedWidget pw, int paneindex, Direction dir,
  *      the choosing of panes procedes in reverse order starting with the
  *      last child.
  */
-static void 
+static void
 RefigureLocations(PanedWidget pw, int paneindex, Direction dir)
 {
     Widget *childP;
@@ -766,7 +765,7 @@ RefigureLocations(PanedWidget pw, int paneindex, Direction dir)
 	AssignMin(pane->size, (int) pane->max);
 	sizeused += pane->size - old;
     }
-    
+
     /*
      * It is possible that the panes will not fit inside the vpaned widget, but
      * we have tried out best
@@ -789,7 +788,7 @@ RefigureLocations(PanedWidget pw, int paneindex, Direction dir)
  * Description:
  *	Commits all of the previously figured locations.
  */
-static void 
+static void
 CommitNewLocations(PanedWidget pw)
 {
     Widget *childP;
@@ -827,7 +826,7 @@ CommitNewLocations(PanedWidget pw)
 	}
 
 	/*
-	 * This should match XtMoveWidget, except that we're also insuring the 
+	 * This should match XtMoveWidget, except that we're also insuring the
 	 * grip is Raised in the same request
 	 */
 
@@ -851,14 +850,14 @@ CommitNewLocations(PanedWidget pw)
  *	pw - paned widget
  *
  * Description:
- * 	Refigures all locations in a paned widget and commits them immediately.
+ *	Refigures all locations in a paned widget and commits them immediately.
  *
  *      This function does nothing if any of the following are true.
  *      o refiguremode is false.
  *      o The widget is unrealized.
  *      o There are no panes is the paned widget.
  */
-static void 
+static void
 RefigureLocationsAndCommit(Widget w)
 {
     PanedWidget pw = (PanedWidget)w;
@@ -888,7 +887,7 @@ static void
 _DrawRect(PanedWidget pw, GC gc, int on_loc, int off_loc,
 	  unsigned int on_size, unsigned int off_size)
 {
-    if (IsVert(pw)) 
+    if (IsVert(pw))
 	XFillRectangle(XtDisplay((Widget)pw), XtWindow((Widget)pw), gc,
 		       off_loc, on_loc, off_size, on_size);
     else
@@ -921,7 +920,7 @@ _DrawInternalBorders(PanedWidget pw, GC gc)
     if (pw->core.background_pixel == pw->paned.internal_bp)
 	return;
 
-    off_loc = 0; 
+    off_loc = 0;
     off_size = (unsigned int) PaneSize((Widget)pw, !IsVert(pw));
     on_size = (unsigned int)pw->paned.internal_bw;
 
@@ -937,7 +936,7 @@ _DrawInternalBorders(PanedWidget pw, GC gc)
 	_DrawInternalBorders((pw), (pw)->paned.normgc)
 #define EraseInternalBorders(pw)			\
 	_DrawInternalBorders((pw), (pw)->paned.invgc)
-/* 
+/*
  * Function Name:
  *	_DrawTrackLines
  *
@@ -962,7 +961,7 @@ _DrawTrackLines(PanedWidget pw, Bool erase)
     ForAllPanes(pw, childP) {
 	pane = PaneInfo(*childP);
 	if (erase || pane->olddelta != pane->delta) {
-	    on_size = pw->paned.internal_bw; 
+	    on_size = pw->paned.internal_bw;
 	    if (!erase) {
 		on_loc = PaneInfo(*childP)->olddelta - (int) on_size;
 		_DrawRect(pw, pw->paned.flipgc,
@@ -981,7 +980,7 @@ _DrawTrackLines(PanedWidget pw, Bool erase)
 
 #define DrawTrackLines(pw)	_DrawTrackLines((pw), False);
 #define EraseTrackLines(pw)	_DrawTrackLines((pw), True);
-/* 
+/*
  * Function:
  *	GetEventLocation
  *
@@ -1002,25 +1001,25 @@ GetEventLocation(PanedWidget pw, XEvent *event)
 
     switch (event->xany.type) {
 	case ButtonPress:
-	case ButtonRelease: 
+	case ButtonRelease:
 	    x = event->xbutton.x_root;
 	    y = event->xbutton.y_root;
 	    break;
 	case KeyPress:
-	case KeyRelease:    
+	case KeyRelease:
 	    x = event->xkey.x_root;
 	    y = event->xkey.y_root;
 	    break;
-	case MotionNotify:  
+	case MotionNotify:
 	    x = event->xmotion.x_root;
 	    y = event->xmotion.y_root;
 	    break;
-	default:	    
+	default:
 	    x = pw->paned.start_loc;
 	    y = pw->paned.start_loc;
     }
 
-    if (IsVert(pw)) 
+    if (IsVert(pw))
 	return (y);
 
   return (x);
@@ -1056,10 +1055,10 @@ StartGripAdjustment(PanedWidget pw, Widget grip, Direction dir)
      */
     if (XtIsRealized(grip)) {
 	if (IsVert(pw)) {
-	    if (dir == UpLeftPane) 
+	    if (dir == UpLeftPane)
 		cursor = pw->paned.adjust_upper_cursor;
-	    else if (dir == LowRightPane) 
-  		cursor = pw->paned.adjust_lower_cursor;
+	    else if (dir == LowRightPane)
+		cursor = pw->paned.adjust_lower_cursor;
 	    else {
 		if (pw->paned.adjust_this_cursor == None)
 		    cursor = pw->paned.v_adjust_this_cursor;
@@ -1068,10 +1067,10 @@ StartGripAdjustment(PanedWidget pw, Widget grip, Direction dir)
 	    }
 	}
 	else {
-	    if (dir == UpLeftPane) 
+	    if (dir == UpLeftPane)
 		cursor = pw->paned.adjust_left_cursor;
-	    else if (dir == LowRightPane) 
-  		cursor = pw->paned.adjust_right_cursor;
+	    else if (dir == LowRightPane)
+		cursor = pw->paned.adjust_right_cursor;
 	    else {
 		if (pw->paned.adjust_this_cursor == None)
 		    cursor = pw->paned.h_adjust_this_cursor;
@@ -1079,12 +1078,12 @@ StartGripAdjustment(PanedWidget pw, Widget grip, Direction dir)
 		    cursor = pw->paned.adjust_this_cursor;
 	    }
 	}
-    
+
 	XDefineCursor(XtDisplay(grip), XtWindow(grip), cursor);
     }
 
     EraseInternalBorders(pw);
-    ForAllPanes(pw, childP) 
+    ForAllPanes(pw, childP)
 	PaneInfo(*childP)->olddelta = -99;
 
     EraseTrackLines(pw);
@@ -1110,10 +1109,10 @@ MoveGripAdjustment(PanedWidget pw, Widget grip, Direction dir, int loc)
 
     diff = loc - pw->paned.start_loc;
 
-    if (pw->paned.whichadd) 
+    if (pw->paned.whichadd)
     add_size = PaneSize(pw->paned.whichadd, IsVert(pw)) + diff;
 
-    if (pw->paned.whichsub) 
+    if (pw->paned.whichsub)
     sub_size = PaneSize(pw->paned.whichsub, IsVert(pw)) - diff;
 
     /*
@@ -1125,7 +1124,7 @@ MoveGripAdjustment(PanedWidget pw, Widget grip, Direction dir, int loc)
 
 	AssignMax(add_size, (int)PaneInfo(pw->paned.whichadd)->min);
 	AssignMin(add_size, (int)PaneInfo(pw->paned.whichadd)->max);
-	if (add_size != old_add_size) 
+	if (add_size != old_add_size)
 	    sub_size += old_add_size - add_size;
 
 	old_sub_size = sub_size;
@@ -1159,7 +1158,7 @@ CommitGripAdjustment(PanedWidget pw)
     EraseTrackLines(pw);
     CommitNewLocations(pw);
     DrawInternalBorders(pw);
-	   
+
     /*
      * Since the user selected this size then use it as the preferred size
      */
@@ -1218,9 +1217,9 @@ HandleGrip(Widget grip, XtPointer temp, XtPointer callData)
 	case 'S':		/* Start adjustment */
 	    pw->paned.resize_children_to_pref = False;
 	    StartGripAdjustment(pw, grip, (Direction)direction[0]);
-	    pw->paned.start_loc = loc;	
+	    pw->paned.start_loc = loc;
 	    break;
-	case 'M': 
+	case 'M':
 	    MoveGripAdjustment(pw, grip, (Direction)direction[0], loc);
 	    break;
 	case 'C':
@@ -1257,12 +1256,12 @@ ResortChildren(PanedWidget pw)
 	    /*
 	     * We only keep track of the first unmanaged pane
 	     */
-	    if (unmanagedP == NULL)    
+	    if (unmanagedP == NULL)
 		unmanagedP = childP;
 	}
 	else {			/* must be a managed pane */
 	    /*
-	     * If an earlier widget was not a managed pane, then swap 
+	     * If an earlier widget was not a managed pane, then swap
 	     */
 	    if (unmanagedP != NULL) {
 		Widget child = *unmanagedP;
@@ -1287,7 +1286,7 @@ ResortChildren(PanedWidget pw)
  *	  This function manages and unmanages the grips so that
  *		   the managed state of each grip matches that of its pane.
  */
-static void   
+static void
 ManageAndUnmanageGrips(PanedWidget pw)
 {
     WidgetList managed_grips, unmanaged_grips;
@@ -1305,7 +1304,7 @@ ManageAndUnmanageGrips(PanedWidget pw)
 	    else
 		*unmanagedP++ = PaneInfo(*childP)->grip;
 	}
-   
+
     if (managedP != managed_grips) {
 	*unmanagedP++ = *--managedP;   /* Last grip is never managed */
 	XtManageChildren(managed_grips, managedP - managed_grips);
@@ -1335,7 +1334,7 @@ CreateGrip(Widget child)
     Arg arglist[2];
     Cardinal num_args = 0;
     Cursor cursor;
-     
+
     XtSetArg(arglist[num_args], XtNtranslations, pw->paned.grip_translations);
     num_args++;
     if ((cursor = pw->paned.grip_cursor) == None) {
@@ -1349,8 +1348,8 @@ CreateGrip(Widget child)
     num_args++;
     PaneInfo(child)->grip = XtCreateWidget("grip", gripWidgetClass, (Widget)pw,
 					   arglist, num_args);
-    
-    XtAddCallback(PaneInfo(child)->grip, XtNcallback, 
+
+    XtAddCallback(PaneInfo(child)->grip, XtNcallback,
 		  HandleGrip, (XtPointer)child);
 }
 
@@ -1371,14 +1370,14 @@ GetGCs(Widget w)
     /*
      * Draw pane borders in internal border color
      */
-    values.foreground = pw->paned.internal_bp;	
+    values.foreground = pw->paned.internal_bp;
     valuemask = GCForeground;
     pw->paned.normgc = XtGetGC(w, valuemask, &values);
 
     /*
      * Erase pane borders with background color
      */
-    values.foreground = pw->core.background_pixel;	
+    values.foreground = pw->core.background_pixel;
     valuemask = GCForeground;
     pw->paned.invgc = XtGetGC(w, valuemask, &values);
 
@@ -1388,7 +1387,7 @@ GetGCs(Widget w)
      */
     values.function = GXinvert;
     values.plane_mask = pw->paned.internal_bp ^ pw->core.background_pixel;
-    values.subwindow_mode = IncludeInferiors; 
+    values.subwindow_mode = IncludeInferiors;
     valuemask = GCPlaneMask | GCFunction | GCSubwindowMode;
     pw->paned.flipgc = XtGetGC(w, valuemask, &values);
 }
@@ -1455,7 +1454,7 @@ ChangeAllGripCursors(PanedWidget pw)
     ForAllPanes(pw, childP) {
 	Arg arglist[1];
 	Cursor cursor;
-      
+
 	if ((cursor = pw->paned.grip_cursor) == None) {
 	    if (IsVert(pw))
 		cursor = pw->paned.v_grip_cursor;
@@ -1469,7 +1468,7 @@ ChangeAllGripCursors(PanedWidget pw)
 	}
     }
 }
-      
+
 /*
  * Function:
  *	PushPaneStack
@@ -1510,7 +1509,7 @@ static void
 GetPaneStack(PanedWidget pw, Bool shrink, Pane *pane, int *start_size)
 {
     if (pw->paned.stack == NULL) {
-	*pane = NULL; 
+	*pane = NULL;
 	return;
     }
 
@@ -1567,7 +1566,7 @@ ClearPaneStack(PanedWidget pw)
 	;
 }
 
-static void 
+static void
 XawPanedClassInitialize(void)
 {
     XawInitializeWidgetSet();
@@ -1578,8 +1577,8 @@ XawPanedClassInitialize(void)
 }
 
 /* The Geometry Manager only allows changes after Realize if
- * allow_resize is True in the constraints record.  
- * 
+ * allow_resize is True in the constraints record.
+ *
  * For vertically paned widgets:
  *
  * It only allows height changes, but offers the requested height
@@ -1633,9 +1632,9 @@ XawPanedGeometryManager(Widget w, XtWidgetGeometry *request,
      */
 
     if (result != XtGeometryNo) {
-	if (vert) 
+	if (vert)
 	    XtHeight(pw) = on_size;
-	else 
+	else
 	    XtWidth(pw) = on_size;
     }
 
@@ -1653,7 +1652,7 @@ XawPanedGeometryManager(Widget w, XtWidgetGeometry *request,
 	XtWidth(pw) = old_paned_size;
 	reply->height = off_size;
 	reply->width = pane->size;
-    }    
+    }
 
     /*
      * IF either of the following is true
@@ -1661,13 +1660,13 @@ XawPanedGeometryManager(Widget w, XtWidgetGeometry *request,
      * o There was a "off_size" request and the new "off_size" is different
      *   from that requested
      * o There was no "off_size" request and the new "off_size" is different
-     * 
+     *
      * o The "on_size" we will allow is different from that requested
-     * 
+     *
      * THEN: set almost
      */
     if (!((vert ? CWWidth : CWHeight) & mask)) {
-	if (vert) 
+	if (vert)
 	    request->width = XtWidth(w);
 	else
 	    request->height = XtHeight(w);
@@ -1707,7 +1706,7 @@ XawPanedInitialize(Widget request, Widget cnew,
     pw->paned.num_panes = 0;
 }
 
-static void 
+static void
 XawPanedRealize(Widget w, Mask *valueMask, XSetWindowAttributes *attributes)
 {
     PanedWidget pw = (PanedWidget)w;
@@ -1732,7 +1731,7 @@ XawPanedRealize(Widget w, Mask *valueMask, XSetWindowAttributes *attributes)
     pw->paned.resize_children_to_pref = False;
 }
 
-static void 
+static void
 XawPanedDestroy(Widget w)
 {
     ReleaseGCs(w);
@@ -1746,7 +1745,7 @@ ReleaseGCs(Widget w)
     XtReleaseGC(w, pw->paned.normgc);
     XtReleaseGC(w, pw->paned.invgc);
     XtReleaseGC(w, pw->paned.flipgc);
-} 
+}
 
 static void
 XawPanedInsertChild(Widget w)
@@ -1763,7 +1762,7 @@ XawPanedInsertChild(Widget w)
 
     if (pane->show_grip == True) {
 	CreateGrip(w);
-	if (pane->min == PANED_GRIP_SIZE) 
+	if (pane->min == PANED_GRIP_SIZE)
 	    pane->min = PaneSize(pane->grip, IsVert((PanedWidget)XtParent(w)));
     }
     else {
@@ -1782,7 +1781,7 @@ XawPanedDeleteChild(Widget w)
     /* remove the subwidget info and destroy the grip */
     if (IsPane(w) && HasGrip(w))
 	XtDestroyWidget(PaneInfo(w)->grip);
-   
+
     /* delete the child widget in the composite children list with the
        superclass delete_child routine
      */
@@ -1813,7 +1812,7 @@ XawPanedChangeManaged(Widget w)
 
     ManageAndUnmanageGrips(pw);
     pw->paned.recursively_called = False;
-    ResortChildren(pw); 	 
+    ResortChildren(pw);
 
     pw->paned.num_panes = 0;
     ForAllChildren(pw, childP)
@@ -1827,7 +1826,7 @@ XawPanedChangeManaged(Widget w)
 		pw->paned.num_panes++;
 	    }
 	    else
-		break; 		 /* This list is already sorted */
+		break;		 /* This list is already sorted */
 	}
 
     SetChildrenPrefSizes((PanedWidget) w, size);
@@ -1858,7 +1857,7 @@ XawPanedRedisplay(Widget w, XEvent *event, Region region)
 }
 
 /*ARGSUSED*/
-static Boolean 
+static Boolean
 XawPanedSetValues(Widget old, Widget request, Widget cnew,
 		  ArgList args, Cardinal *num_args)
 {
@@ -1880,7 +1879,7 @@ XawPanedSetValues(Widget old, Widget request, Widget cnew,
 	old_pw->paned.v_grip_cursor != new_pw->paned.v_grip_cursor ||
 	old_pw->paned.h_grip_cursor != new_pw->paned.h_grip_cursor)
 	ChangeAllGripCursors(new_pw);
-	
+
     if (IsVert(old_pw) != IsVert(new_pw)) {
 	/*
 	 * We are fooling the paned widget into thinking that is needs to
@@ -1905,7 +1904,7 @@ XawPanedSetValues(Widget old, Widget request, Widget cnew,
 	RefigureLocationsAndCommit(cnew);
 	return (True);		/* We have done a full configuration, return */
     }
-    
+
     if (old_pw->paned.grip_indent != new_pw->paned.grip_indent &&
 	XtIsRealized(cnew)) {
 	CommitNewLocations(new_pw);
@@ -1916,7 +1915,7 @@ XawPanedSetValues(Widget old, Widget request, Widget cnew,
 }
 
 /*ARGSUSED*/
-static Boolean 
+static Boolean
 XawPanedPaneSetValues(Widget old, Widget request, Widget cnew,
 		      ArgList args, Cardinal *num_args)
 {
@@ -1966,7 +1965,7 @@ XawPanedPaneSetValues(Widget old, Widget request, Widget cnew,
  * Description:
  *	Sets the min and max size for a pane.
  */
-void 
+void
 XawPanedSetMinMax(Widget widget, int min, int max)
 {
     Pane pane = PaneInfo(widget);
@@ -1988,7 +1987,7 @@ XawPanedSetMinMax(Widget widget, int min, int max)
  * Description:
  *	Gets the min and max size for a pane.
  */
-void 
+void
 XawPanedGetMinMax(Widget widget, int *min, int *max)
 {
     Pane pane = PaneInfo(widget);
@@ -2009,7 +2008,7 @@ XawPanedGetMinMax(Widget widget, int *min, int *max)
  *	Allows a flag to be set the will inhibit
  *		   the paned widgets relayout routine.
  */
-void 
+void
 XawPanedSetRefigureMode(Widget w,
 #if NeedWidePrototypes
 	int mode
@@ -2034,7 +2033,7 @@ XawPanedSetRefigureMode(Widget w,
  * Returns:
  *	the number of panes in the paned widget
  */
-int 
+int
 XawPanedGetNumSub(Widget w)
 {
     return (((PanedWidget)w)->paned.num_panes);
@@ -2051,7 +2050,7 @@ XawPanedGetNumSub(Widget w)
  *	  Allows a flag to be set that determines if the paned
  *	widget will allow geometry requests from this child.
  */
-void 
+void
 XawPanedAllowResize(Widget widget,
 #if NeedWidePrototypes
 	int allow_resize
diff --git a/src/Panner.c b/src/Panner.c
index 2ab88f5..aa90233 100644
--- a/src/Panner.c
+++ b/src/Panner.c
@@ -635,7 +635,7 @@ parse_page_string(char *s, int pagesize, int canvassize, Bool *relative)
 XmuLocatePixmapFile(pw->core.screen, pw->panner.stipple_name,		\
 		    pw->panner.shadow_color, pw->core.background_pixel,	\
 		    pw->core.depth, NULL, 0, NULL, NULL, NULL, NULL)
-    
+
 #define PIXMAP_OKAY(pm) ((pm) != None && (pm) != XtUnspecifiedPixmap)
 
 /*ARGSUSED*/
@@ -663,7 +663,7 @@ XawPannerInitialize(Widget greq, Widget gnew, ArgList args, Cardinal *num_args)
     cnew->panner.slider_gc = NULL;
     reset_slider_gc(cnew);		/* foreground */
     cnew->panner.xor_gc = NULL;
-    reset_xor_gc(cnew); 		/* foreground ^ background */
+    reset_xor_gc(cnew);			/* foreground ^ background */
 
     rescale(cnew);			/* does a position check */
     cnew->panner.shadow_valid = False;
@@ -822,7 +822,7 @@ XawPannerSetValues(Widget gcur, Widget greq, Widget gnew,
 	Bool loc = cur->panner.slider_x != cnew->panner.slider_x ||
 		   cur->panner.slider_y != cnew->panner.slider_y;
 	Bool siz = cur->panner.slider_width != cnew->panner.slider_width ||
-	 	   cur->panner.slider_height != cnew->panner.slider_height;
+		   cur->panner.slider_height != cnew->panner.slider_height;
 	if (loc || siz || (cur->panner.allow_off != cnew->panner.allow_off
 			   && cnew->panner.allow_off)) {
 	    scale_knob(cnew, loc, siz);
diff --git a/src/Pixmap.c b/src/Pixmap.c
index e4ac9b4..6e3388c 100644
--- a/src/Pixmap.c
+++ b/src/Pixmap.c
@@ -10,7 +10,7 @@
  *
  * The above copyright notice and this permission notice shall be included in
  * all copies or substantial portions of the Software.
- *  
+ *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
@@ -675,7 +675,7 @@ GetResourcePixmapPath(Display *display)
     xrm_class[1] = NULLQUARK;
     if (!XrmGetDatabase(display))
 	(void) XGetDefault(display, "", "");
-    if (XrmQGetResource(XrmGetDatabase(display), xrm_name, xrm_class, 
+    if (XrmQGetResource(XrmGetDatabase(display), xrm_name, xrm_class,
 			&rep_type, &value) &&
 			rep_type == XrmPermStringToQuark("String")) {
 	int length = 0;
@@ -859,7 +859,7 @@ GradientLoader(XawParams *params, Screen *screen, Colormap colormap, int depth,
     return (False);
 
   ired   = (double)(end.red   - start.red)   / (double)steps;
-  igreen = (double)(end.green - start.green) / (double)steps; 
+  igreen = (double)(end.green - start.green) / (double)steps;
   iblue  = (double)(end.blue  - start.blue)  / (double)steps;
 
   red   = color.red   = start.red;
diff --git a/src/Porthole.c b/src/Porthole.c
index e94d213..4842e70 100644
--- a/src/Porthole.c
+++ b/src/Porthole.c
@@ -23,7 +23,7 @@ used in advertising or otherwise to promote the sale, use or other dealings
 in this Software without prior written authorization from The Open Group.
  *
  * Author:  Jim Fulton, MIT X Consortium
- * 
+ *
  * This widget is a trivial clipping widget.  It is typically used with a
  * panner or scrollbar to navigate.
  */
@@ -112,7 +112,7 @@ PortholeClassRec portholeClassRec = {
     NULL,				/* extension */
   },
   /* composite */
-  { 
+  {
     XawPortholeGeometryManager,		/* geometry_manager */
     XawPortholeChangeManaged,		/* change_managed */
     XtInheritInsertChild,		/* insert_child */
@@ -367,7 +367,7 @@ XawPortholeChangeManaged(Widget gw)
 		== XtGeometryAlmost)
 		(void)XtMakeGeometryRequest(gw, &retgeom, NULL);
 	}
-	
+
 	XtResizeWidget(child, Max(XtWidth(child), XtWidth(pw)),
 		       Max(XtHeight(child), XtHeight(pw)), 0);
 
diff --git a/src/Private.h b/src/Private.h
index 3a91b7a..ca70d5f 100644
--- a/src/Private.h
+++ b/src/Private.h
@@ -10,7 +10,7 @@
  *
  * The above copyright notice and this permission notice shall be included in
  * all copies or substantial portions of the Software.
- *  
+ *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
diff --git a/src/Repeater.c b/src/Repeater.c
index e99a978..9b16ced 100644
--- a/src/Repeater.c
+++ b/src/Repeater.c
@@ -23,7 +23,7 @@ used in advertising or otherwise to promote the sale, use or other dealings
 in this Software without prior written authorization from The Open Group.
  *
  * Author:  Jim Fulton, MIT X Consortium
- * 
+ *
  * This widget is used for press-and-hold style buttons.
  */
 
@@ -278,7 +278,7 @@ ActionStart(Widget gw, XEvent *event, String *params, Cardinal *num_params)
     RepeaterWidget rw = (RepeaterWidget)gw;
 
     CLEAR_TIMEOUT(rw);
-    if (rw->repeater.start_callbacks) 
+    if (rw->repeater.start_callbacks)
 	XtCallCallbackList(gw, rw->repeater.start_callbacks, NULL);
 
     DO_CALLBACK(rw);
@@ -293,6 +293,6 @@ ActionStop(Widget gw, XEvent *event, String *params, Cardinal *num_params)
     RepeaterWidget rw = (RepeaterWidget)gw;
 
     CLEAR_TIMEOUT((RepeaterWidget)gw);
-    if (rw->repeater.stop_callbacks) 
+    if (rw->repeater.stop_callbacks)
 	XtCallCallbackList(gw, rw->repeater.stop_callbacks, NULL);
 }
diff --git a/src/Scrollbar.c b/src/Scrollbar.c
index 6413f0b..894a945 100644
--- a/src/Scrollbar.c
+++ b/src/Scrollbar.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -372,7 +372,7 @@ FillArea(ScrollbarWidget w, int top, int bottom, int thumb)
     Dimension length;
 
     top = XawMax(1, top);
-    if (w->scrollbar.orientation == XtorientHorizontal) 
+    if (w->scrollbar.orientation == XtorientHorizontal)
     bottom = XawMin(bottom, XtWidth(w) - 1);
     else
     bottom = XawMin(bottom, XtHeight(w) - 1);
@@ -385,7 +385,7 @@ FillArea(ScrollbarWidget w, int top, int bottom, int thumb)
     switch(thumb) {
 	/* Fill the new Thumb location */
 	case 1:
-	    if (w->scrollbar.orientation == XtorientHorizontal) 
+	    if (w->scrollbar.orientation == XtorientHorizontal)
 		XFillRectangle(XtDisplay(w), XtWindow(w), w->scrollbar.gc,
 			       top, 1, length, XtHeight(w) - 2);
 	    else
@@ -394,7 +394,7 @@ FillArea(ScrollbarWidget w, int top, int bottom, int thumb)
 	    break;
 	/* Clear the old Thumb location */
 	case 0:
-	    if (w->scrollbar.orientation == XtorientHorizontal) 
+	    if (w->scrollbar.orientation == XtorientHorizontal)
 		XClearArea(XtDisplay(w), XtWindow(w),
 			   top, 1, length, XtHeight(w) - 2, False);
 	    else
@@ -417,7 +417,7 @@ PaintThumb(ScrollbarWidget w)
     oldbot = oldtop + w->scrollbar.shownLength;
     newtop = w->scrollbar.length * w->scrollbar.top;
     newbot = newtop + (int)(w->scrollbar.length * w->scrollbar.shown);
-    if (newbot < newtop + (int)w->scrollbar.min_thumb) 
+    if (newbot < newtop + (int)w->scrollbar.min_thumb)
 	newbot = newtop + w->scrollbar.min_thumb;
     w->scrollbar.topLoc = newtop;
     w->scrollbar.shownLength = newbot - newtop;
@@ -451,7 +451,7 @@ static void
 XawScrollbarDestroy(Widget w)
 {
     ScrollbarWidget sbw = (ScrollbarWidget)w;
-    
+
     XtReleaseGC(w, sbw->scrollbar.gc);
 }
 
@@ -529,7 +529,7 @@ XawScrollbarRealize(Widget gw, Mask *valueMask,
 
     XtVaSetValues(gw, XtNcursor, w->scrollbar.inactiveCursor, NULL);
 
-    /* 
+    /*
      * The Simple widget actually stuffs the value in the valuemask
      */
     (*scrollbarWidgetClass->core_class.superclass->core_class.realize)
@@ -537,7 +537,7 @@ XawScrollbarRealize(Widget gw, Mask *valueMask,
 }
 
 /*ARGSUSED*/
-static Boolean 
+static Boolean
 XawScrollbarSetValues(Widget current, Widget request, Widget desired,
 		      ArgList args, Cardinal *num_args)
 {
diff --git a/src/Simple.c b/src/Simple.c
index 711e900..be5597b 100644
--- a/src/Simple.c
+++ b/src/Simple.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -52,7 +52,6 @@ SOFTWARE.
 #include <X11/IntrinsicP.h>
 #include <X11/StringDefs.h>
 #include <X11/Xmu/Drawing.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/SimpleP.h>
 #include <X11/Xaw/XawInit.h>
 #include "Private.h"
@@ -271,11 +270,11 @@ XawSimpleClassPartInitialize(WidgetClass cclass)
     if (c->simple_class.change_sensitive == NULL) {
 	char buf[BUFSIZ];
 
-	(void)XmuSnprintf(buf, sizeof(buf),
-			  "%s Widget: The Simple Widget class method "
-			  "'change_sensitive' is undefined.\nA function "
-			  "must be defined or inherited.",
-			  c->core_class.class_name);
+	snprintf(buf, sizeof(buf),
+		 "%s Widget: The Simple Widget class method "
+		 "'change_sensitive' is undefined.\n"
+		 "A function must be defined or inherited.",
+		 c->core_class.class_name);
 	XtWarning(buf);
 	c->simple_class.change_sensitive = ChangeSensitive;
     }
@@ -321,7 +320,7 @@ XawSimpleRealize(Widget w, Mask *valueMask, XSetWindowAttributes *attributes)
 	if (((SimpleWidget)w)->simple.insensitive_border == None)
 	    ((SimpleWidget)w)->simple.insensitive_border =
 		XmuCreateStippledPixmap(XtScreen(w),
-					w->core.border_pixel, 
+					w->core.border_pixel,
 					w->core.background_pixel,
 					w->core.depth);
         border_pixmap = w->core.border_pixmap;
@@ -372,7 +371,7 @@ ConvertCursor(Widget w)
     SimpleWidget simple = (SimpleWidget) w;
     XrmValue from, to;
     Cursor cursor = None;
-   
+
     if (simple->simple.cursor_name == NULL)
 	return;
 
@@ -410,7 +409,7 @@ XawSimpleSetValues(Widget current, Widget request, Widget cnew,
 
     if (s_old->simple.cursor != s_new->simple.cursor)
 	new_cursor = True;
-	
+
     /*
      * We are not handling the string cursor_name correctly here
      */
@@ -488,7 +487,7 @@ ChangeSensitive(Widget w)
 	    if (((SimpleWidget)w)->simple.insensitive_border == None)
 		((SimpleWidget)w)->simple.insensitive_border =
 		    XmuCreateStippledPixmap(XtScreen(w),
-					    w->core.border_pixel, 
+					    w->core.border_pixel,
 					    w->core.background_pixel,
 					    w->core.depth);
 	    XSetWindowBorderPixmap(XtDisplay(w), XtWindow(w),
diff --git a/src/SimpleMenu.c b/src/SimpleMenu.c
index 0152a85..8defdf7 100644
--- a/src/SimpleMenu.c
+++ b/src/SimpleMenu.c
@@ -28,7 +28,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    April 3, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -39,7 +39,6 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/IntrinsicP.h>
 #include <X11/StringDefs.h>
 #include <X11/Xmu/Initer.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/Cardinals.h>
 #include <X11/Xaw/SimpleMenP.h>
 #include <X11/Xaw/SmeBSBP.h>
@@ -224,7 +223,7 @@ static XtResource resources[] = {
     XtCBackingStore,
     XtRBackingStore,
     sizeof(int),
-    offset(backing_store), 
+    offset(backing_store),
     XtRImmediate,
     (XtPointer)(Always + WhenMapped + NotUseful)
   },
@@ -234,12 +233,12 @@ static XtResource resources[] = {
     XawCDisplayList,
     XawRDisplayList,
     sizeof(XawDisplayList*),
-    offset(display_list), 
+    offset(display_list),
     XtRImmediate,
     NULL
   },
 #endif
-};  
+};
 #undef offset
 
 static char defaultTranslations[] =
@@ -266,7 +265,7 @@ static XtActionsRec actionsList[] =
   {"call-proc",		XawCallProcAction},
 #endif
 };
- 
+
 static CompositeClassExtensionRec extension_rec = {
   NULL,					/* next_extension */
   NULLQUARK,				/* record_type */
@@ -399,7 +398,7 @@ XawSimpleMenuInitialize(Widget request, Widget cnew,
 
     XmuCallInitializers(XtWidgetToApplicationContext(cnew));
 
-    if (smw->simple_menu.label_class == NULL) 
+    if (smw->simple_menu.label_class == NULL)
 	smw->simple_menu.label_class = smeBSBObjectClass;
 
     smw->simple_menu.label = NULL;
@@ -473,7 +472,7 @@ XawSimpleMenuRedisplay(Widget w, XEvent *event, Region region)
 	if (!XtIsManaged((Widget)*entry))
 	    continue;
 
-	if (region != NULL) 
+	if (region != NULL)
 	    switch(XRectInRegion(region, XtX(*entry),XtY(*entry),
 				 XtWidth(*entry), XtHeight(*entry))) {
 		case RectangleIn:
@@ -600,7 +599,7 @@ XawSimpleMenuSetValues(Widget current, Widget request, Widget cnew,
 	    CreateLabel(cnew);
 	else {						    /* Change */
 	    Arg arglist[1];
-	    
+
 	    XtSetArg(arglist[0], XtNlabel, smw_new->simple_menu.label_string);
 	    XtSetValues((Widget)smw_new->simple_menu.label, arglist, ONE);
 	}
@@ -609,7 +608,7 @@ XawSimpleMenuSetValues(Widget current, Widget request, Widget cnew,
     if (smw_old->simple_menu.label_class != smw_new->simple_menu.label_class)
 	XtAppWarning(XtWidgetToApplicationContext(cnew),
 		     "No Dynamic class change of the SimpleMenu Label.");
-    
+
     if (smw_old->simple_menu.top_margin != smw_new->simple_menu.top_margin
 	|| smw_old->simple_menu.bottom_margin
 	!= smw_new->simple_menu.bottom_margin) {
@@ -638,7 +637,7 @@ XawSimpleMenuSetValues(Widget current, Widget request, Widget cnew,
     return (ret_val);
 }
 
-/* 
+/*
  * Function:
  *	XawSimpleMenuSetValuesHook
  *
@@ -655,10 +654,10 @@ XawSimpleMenuSetValuesHook(Widget w, ArgList arglist, Cardinal *num_args)
 {
     Cardinal i;
     Dimension width, height;
-    
+
     width = XtWidth(w);
     height = XtHeight(w);
-    
+
     for (i = 0 ; i < *num_args ; i++) {
 	if (streq(arglist[i].name, XtNwidth))
 	    width = (Dimension)arglist[i].value;
@@ -769,14 +768,14 @@ XawSimpleMenuChangeManaged(Widget w)
 
 /*
  * Global Action Routines
- * 
+ *
  * These actions routines will be added to the application's
  * global action list
  */
 /*
  * Function:
  *	PositionMenuAction
- * 
+ *
  * Parameters:
  *	w	   - a widget (no the simple menu widget)
  *	event	   - the event that caused this action
@@ -791,7 +790,7 @@ XawSimpleMenuChangeManaged(Widget w)
 static void
 PositionMenuAction(Widget w, XEvent *event,
 		   String *params, Cardinal *num_params)
-{ 
+{
     Widget menu;
     XPoint loc;
 
@@ -805,13 +804,13 @@ PositionMenuAction(Widget w, XEvent *event,
     if ((menu = FindMenu(w, params[0])) == NULL) {
 	char error_buf[BUFSIZ];
 
-	(void)XmuSnprintf(error_buf, sizeof(error_buf),
-			  "SimpleMenuWidget: could not find menu named %s.",
-			  params[0]);
+	snprintf(error_buf, sizeof(error_buf),
+		 "SimpleMenuWidget: could not find menu named %s.",
+		 params[0]);
 	XtAppWarning(XtWidgetToApplicationContext(w), error_buf);
 	return;
     }
-  
+
     switch (event->type) {
 	case ButtonPress:
 	case ButtonRelease:
@@ -834,7 +833,7 @@ PositionMenuAction(Widget w, XEvent *event,
 	    PositionMenu(menu, NULL);
 	    break;
     }
-}  
+}
 
 /*
  * Widget Action Routines
@@ -848,17 +847,17 @@ PositionMenuAction(Widget w, XEvent *event,
  *	event	   - event that caused this action
  *	params	   - not used
  *	num_params - ""
- * 
+ *
  * Description:
  *	Unhighlights current entry.
  */
 /*ARGSUSED*/
 static void
 Unhighlight(Widget w, XEvent *event, String *params, Cardinal *num_params)
-{ 
+{
     SimpleMenuWidget smw = (SimpleMenuWidget)w;
     SmeObject entry = smw->simple_menu.entry_set;
- 
+
     if (entry == NULL)
 	return;
 
@@ -987,7 +986,7 @@ XawSimpleMenuAddGlobalActions(XtAppContext app_con)
 {
     XtInitializeWidgetClass(simpleMenuWidgetClass);
     XmuCallInitializers(app_con);
-} 
+}
 
 /*
  * Function:
@@ -1008,7 +1007,7 @@ XawSimpleMenuGetActiveEntry(Widget w)
     SimpleMenuWidget smw = (SimpleMenuWidget)w;
 
     return ((Widget)smw->simple_menu.entry_set);
-} 
+}
 
 /*
  * Function:
@@ -1026,7 +1025,7 @@ XawSimpleMenuClearActiveEntry(Widget w)
     SimpleMenuWidget smw = (SimpleMenuWidget)w;
 
     smw->simple_menu.entry_set = NULL;
-} 
+}
 
 /*
  * Private Functions
@@ -1037,7 +1036,7 @@ XawSimpleMenuClearActiveEntry(Widget w)
  *
  * Parameters:
  *	w - smw widget
- * 
+ *
  * Description:
  * Creates the label object and makes sure it is the first child in
  * in the list.
@@ -1060,8 +1059,8 @@ CreateLabel(Widget w)
 
     XtSetArg(args[0], XtNlabel, smw->simple_menu.label_string);
     XtSetArg(args[1], XtNjustify, XtJustifyCenter);
-    smw->simple_menu.label = (SmeObject) 
-	XtCreateManagedWidget("menuLabel", 
+    smw->simple_menu.label = (SmeObject)
+	XtCreateManagedWidget("menuLabel",
 			      smw->simple_menu.label_class, w, args, TWO);
 
     next_child = NULL;
@@ -1266,7 +1265,7 @@ Layout(Widget w, Dimension *width_ret, Dimension *height_ret)
 	    *height_ret = XtHeight(current_entry);
     }
 }
-    
+
 /*
  * Function:
  *	AddPositionAction
@@ -1304,11 +1303,11 @@ AddPositionAction(XtAppContext app_con, XPointer data)
  * Returns:
  *	The menu widget or NULL.
  */
-static Widget 
+static Widget
 FindMenu(Widget widget, String name)
 {
     Widget w, menu;
-    
+
     for (w = widget; w != NULL; w = XtParent(w))
 	if ((menu = XtNameToWidget(w, name)) != NULL)
 	    return (menu);
@@ -1333,12 +1332,12 @@ PositionMenu(Widget w, XPoint *location)
     SimpleMenuWidget smw = (SimpleMenuWidget)w;
     SmeObject entry;
     XPoint t_point;
-    
+
     if (location == NULL) {
 	Window temp1, temp2;
 	int root_x, root_y, tempX, tempY;
 	unsigned int tempM;
-	
+
 	location = &t_point;
 	if (XQueryPointer(XtDisplay(w), XtWindow(w), &temp1, &temp2,
 			  &root_x, &root_y, &tempX, &tempY, &tempM) == False) {
@@ -1350,14 +1349,14 @@ PositionMenu(Widget w, XPoint *location)
 	location->x = (short) root_x;
 	location->y = (short) root_y;
     }
-    
+
     /*
      * The width will not be correct unless it is realized
      */
     XtRealizeWidget(w);
-    
+
     location->x -= XtWidth(w) >> 1;
-    
+
     if (smw->simple_menu.popup_entry == NULL)
 	entry = smw->simple_menu.label;
     else
@@ -1388,20 +1387,20 @@ MoveMenu(Widget w, int x, int y)
     Arg arglist[2];
     Cardinal num_args = 0;
     SimpleMenuWidget smw = (SimpleMenuWidget)w;
-    
+
     if (smw->simple_menu.menu_on_screen) {
 	int width = XtWidth(w) + (XtBorderWidth(w) << 1);
 	int height = XtHeight(w) + (XtBorderWidth(w) << 1);
-	
+
 	if (x >= 0) {
 	    int scr_width = WidthOfScreen(XtScreen(w));
 
 	    if (x + width > scr_width)
 		x = scr_width - width;
 	}
-	if (x < 0) 
+	if (x < 0)
 	    x = 0;
-	
+
 	if (y >= 0) {
 	    int scr_height = HeightOfScreen(XtScreen(w));
 
@@ -1411,7 +1410,7 @@ MoveMenu(Widget w, int x, int y)
 	if (y < 0)
 	    y = 0;
     }
-    
+
     XtSetArg(arglist[num_args], XtNx, x); num_args++;
     XtSetArg(arglist[num_args], XtNy, y); num_args++;
     XtSetValues(w, arglist, num_args);
@@ -1435,14 +1434,14 @@ static void
 ChangeCursorOnGrab(Widget w, XtPointer temp1, XtPointer temp2)
 {
     SimpleMenuWidget smw = (SimpleMenuWidget)w;
-    
+
     /*
      * The event mask here is what is currently in the MIT implementation.
      * There really needs to be a way to get the value of the mask out
      * of the toolkit (CDP 5/26/89).
      */
     XChangeActivePointerGrab(XtDisplay(w), ButtonPressMask | ButtonReleaseMask,
-			     smw->simple_menu.cursor, 
+			     smw->simple_menu.cursor,
 			     XtLastTimestampProcessed(XtDisplay(w)));
 }
 
@@ -1461,7 +1460,7 @@ MakeSetValuesRequest(Widget w, unsigned int width, unsigned int height)
     SimpleMenuWidget smw = (SimpleMenuWidget)w;
     Arg arglist[2];
     Cardinal num_args = 0;
-    
+
     if (!smw->simple_menu.recursive_set_values) {
 	if (XtWidth(smw) != width || XtHeight(smw) != height) {
 	    smw->simple_menu.recursive_set_values = True;
@@ -1495,7 +1494,7 @@ DoGetEventEntry(Widget w, int x_loc, int y_loc)
 		return (*entry);
 	}
     }
-    
+
     return (NULL);
 }
 
@@ -1544,7 +1543,7 @@ GetEventEntry(Widget w, XEvent *event)
 		       "Unknown event type in GetEventEntry().");
 	    return (NULL);
     }
-    
+
     if (x_loc < 0 || x_loc >= XtWidth(smw) ||
 	y_loc < 0 || y_loc >= XtHeight(smw))
 	return (NULL);
@@ -1702,7 +1701,7 @@ MakeResizeRequest(Widget w)
 {
     int tries;
     Dimension width, height;
-  
+
     width = XtWidth(w);
     height = XtHeight(w);
 
@@ -1762,7 +1761,7 @@ PopupSubMenu(SimpleMenuWidget smw)
 
     popleft = (smw->simple_menu.state & SMW_POPLEFT) != 0;
 
-    if (popleft) 
+    if (popleft)
 	XtTranslateCoords((Widget)smw, -(int)XtWidth(menu),
 			  XtY(entry) - XtBorderWidth(menu), &menu_x, &menu_y);
     else
diff --git a/src/Sme.c b/src/Sme.c
index b01a81c..24d4fed 100644
--- a/src/Sme.c
+++ b/src/Sme.c
@@ -26,7 +26,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    September 26, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -75,7 +75,7 @@ static XtResource resources[] = {
     XtRImmediate,
     (XtPointer)False
   },
-};   
+};
 #undef offset
 
 #define Superclass	(&rectObjClassRec)
@@ -147,13 +147,13 @@ XawSmeClassPartInitialize(WidgetClass cclass)
     m_ent = (SmeObjectClass)cclass;
     superC = (SmeObjectClass)m_ent->rect_class.superclass;
 
-    if (m_ent->sme_class.highlight == XtInheritHighlight) 
+    if (m_ent->sme_class.highlight == XtInheritHighlight)
 	m_ent->sme_class.highlight = superC->sme_class.highlight;
 
     if (m_ent->sme_class.unhighlight == XtInheritUnhighlight)
 	m_ent->sme_class.unhighlight = superC->sme_class.unhighlight;
 
-    if (m_ent->sme_class.notify == XtInheritNotify) 
+    if (m_ent->sme_class.notify == XtInheritNotify)
 	m_ent->sme_class.notify = superC->sme_class.notify;
 }
 
@@ -164,7 +164,7 @@ XawSmeClassPartInitialize(WidgetClass cclass)
  * Parameters:
  *	request - widget requested by the argument list
  *	cnew	- new widget with both resource and non  resource values
- * 
+ *
  * Description:
  *	Initializes the simple menu widget entry
  */
@@ -234,7 +234,7 @@ Notify(Widget w)
  *	w	   - menu entry object
  *	itended	   - intended and return geometry info
  *	return_val -
- * 
+ *
  * Description:
  *	Returns the preferred geometry for this widget.
  *
@@ -259,7 +259,7 @@ XawSmeQueryGeometry(Widget w, XtWidgetGeometry *intended,
 	return_val->request_mode |= CWWidth;
 	return_val->width = width;
 	mode = return_val->request_mode;
-	
+
 	if ((mode & CWWidth) && width == XtWidth(entry))
 	    return (XtGeometryNo);
 	return (XtGeometryAlmost);
diff --git a/src/SmeBSB.c b/src/SmeBSB.c
index b56874b..52a789a 100644
--- a/src/SmeBSB.c
+++ b/src/SmeBSB.c
@@ -28,7 +28,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    September 26, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -40,7 +40,6 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/StringDefs.h>
 #include <X11/Xos.h>
 #include <X11/Xmu/Drawing.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/Cardinals.h>
 #include <X11/Xaw/SimpleMenu.h>
 #include <X11/Xaw/SmeBSBP.h>
@@ -62,7 +61,7 @@ static void XawSmeBSBRedisplay(Widget, XEvent*, Region);
 static Boolean XawSmeBSBSetValues(Widget, Widget, Widget,
 				  ArgList, Cardinal*);
 
-/* 
+/*
  * Prototypes
  */
 static void CreateGCs(Widget);
@@ -179,7 +178,7 @@ static XtResource resources[] = {
 #endif
 };
 #undef offset
-    
+
 #define superclass (&smeClassRec)
 SmeBSBClassRec smeBSBClassRec = {
   /* rectangle */
@@ -215,7 +214,7 @@ SmeBSBClassRec smeBSBClassRec = {
     NULL,				/* tm_table */
     XawSmeBSBQueryGeometry,		/* query_geometry */
     NULL,				/* display_accelerator */
-    NULL, 				/* extension */
+    NULL,				/* extension */
   },
   /* sme */
   {
@@ -238,7 +237,7 @@ WidgetClass smeBSBObjectClass = (WidgetClass)&smeBSBClassRec;
  * Description:
  *	Initializes the SmeBSBObject.
  */
-static void 
+static void
 XawSmeBSBClassInitialize(void)
 {
     XawInitializeWidgetSet();
@@ -267,7 +266,7 @@ XawSmeBSBInitialize(Widget request, Widget cnew,
 
     if (!entry->sme_bsb.font) XtError("Aborting: no font found\n");
 
-    if (entry->sme_bsb.label == NULL) 
+    if (entry->sme_bsb.label == NULL)
 	entry->sme_bsb.label = XtName(cnew);
     else
 	entry->sme_bsb.label = XtNewString(entry->sme_bsb.label);
@@ -336,7 +335,7 @@ XawSmeBSBRedisplay(Widget w, XEvent *event, Region region)
 
     if (XtIsSensitive(w) && XtIsSensitive(XtParent(w))) {
 	if (w == XawSimpleMenuGetActiveEntry(XtParent(w))) {
-	    XFillRectangle(XtDisplayOfObject(w), XtWindowOfObject(w), 
+	    XFillRectangle(XtDisplayOfObject(w), XtWindowOfObject(w),
 			   entry->sme_bsb.norm_gc, XtX(w), y_loc,
 			   XtWidth(entry), XtHeight(entry));
 	    gc = entry->sme_bsb.rev_gc;
@@ -346,7 +345,7 @@ XawSmeBSBRedisplay(Widget w, XEvent *event, Region region)
     }
     else
 	gc = entry->sme_bsb.norm_gray_gc;
-    
+
     if (entry->sme_bsb.label != NULL) {
 	int x_loc = entry->sme_bsb.left_margin;
 	int len = strlen(entry->sme_bsb.label);
@@ -400,7 +399,7 @@ XawSmeBSBRedisplay(Widget w, XEvent *event, Region region)
 	else {
 	    y_loc += ((XtHeight(entry) -
 		      (font_ascent + font_descent)) >> 1) + font_ascent;
-	
+
 	    XDrawString(XtDisplayOfObject(w), XtWindowOfObject(w), gc,
 			XtX(w) + x_loc, y_loc, label, len);
 	}
@@ -487,7 +486,7 @@ XawSmeBSBSetValues(Widget current, Widget request, Widget cnew,
  *	w	   - menu entry object
  *	itended	   - intended and return geometry info
  *	return_val - ""
- * 
+ *
  * Returns:
  *	Geometry Result
  *
@@ -527,7 +526,7 @@ XawSmeBSBQueryGeometry(Widget w, XtWidgetGeometry *intended,
 
     return (ret_val);
 }
-    
+
 /*
  * Function:
  *	FlipColors
@@ -538,7 +537,7 @@ XawSmeBSBQueryGeometry(Widget w, XtWidgetGeometry *intended,
  * Description:
  *	Invert the colors of the current entry.
  */
-static void 
+static void
 FlipColors(Widget w)
 {
     SmeBSBObject entry = (SmeBSBObject)w;
@@ -547,7 +546,7 @@ FlipColors(Widget w)
 	return;
 
     XFillRectangle(XtDisplayOfObject(w), XtWindowOfObject(w),
-		   entry->sme_bsb.invert_gc, 
+		   entry->sme_bsb.invert_gc,
 		   XtX(w), XtY(entry), XtWidth(entry), XtHeight(entry));
 }
 
@@ -571,7 +570,7 @@ GetDefaultSize(Widget w, Dimension *width, Dimension *height)
     if (entry->sme.international == True) {
 	XFontSetExtents *ext = XExtentsOfFontSet(entry->sme_bsb.fontset);
 
-	if (entry->sme_bsb.label == NULL) 
+	if (entry->sme_bsb.label == NULL)
 	    *width = 0;
 	else
 	    *width = XmbTextEscapement(entry->sme_bsb.fontset,
@@ -583,14 +582,14 @@ GetDefaultSize(Widget w, Dimension *width, Dimension *height)
 				   entry->sme_bsb.vert_space)) / ONE_HUNDRED;
     }
     else {
-	if (entry->sme_bsb.label == NULL) 
+	if (entry->sme_bsb.label == NULL)
 	    *width = 0;
 	else
 	    *width = XTextWidth(entry->sme_bsb.font, entry->sme_bsb.label,
 			    strlen(entry->sme_bsb.label));
 
 	*width += entry->sme_bsb.left_margin + entry->sme_bsb.right_margin;
-    
+
 	*height = entry->sme_bsb.font->max_bounds.ascent +
 		  entry->sme_bsb.font->max_bounds.descent;
 
@@ -615,7 +614,7 @@ DrawBitmaps(Widget w, GC gc)
 {
     int x_loc, y_loc;
     SmeBSBObject entry = (SmeBSBObject)w;
-    
+
     if (entry->sme_bsb.left_bitmap == None &&
 	entry->sme_bsb.right_bitmap == None)
     return;
@@ -631,7 +630,7 @@ DrawBitmaps(Widget w, GC gc)
 			       entry->sme_bsb.left_bitmap_height) >> 1);
 
 	XCopyPlane(XtDisplayOfObject(w), entry->sme_bsb.left_bitmap,
-		   XtWindowOfObject(w), gc, 0, 0, 
+		   XtWindowOfObject(w), gc, 0, 0,
 		   entry->sme_bsb.left_bitmap_width,
 		   entry->sme_bsb.left_bitmap_height, x_loc, y_loc, 1);
     }
@@ -647,7 +646,7 @@ DrawBitmaps(Widget w, GC gc)
 			      entry->sme_bsb.right_bitmap_height) >> 1);
 
 	XCopyPlane(XtDisplayOfObject(w), entry->sme_bsb.right_bitmap,
-		   XtWindowOfObject(w), gc, 0, 0, 
+		   XtWindowOfObject(w), gc, 0, 0,
 		   entry->sme_bsb.right_bitmap_width,
 	 	   entry->sme_bsb.right_bitmap_height, x_loc, y_loc, 1);
     }
@@ -673,11 +672,11 @@ GetBitmapInfo(Widget w, Bool is_left)
     Window root;
     int x, y;
     unsigned int width, height;
-    
+
     if (is_left) {
 	if (entry->sme_bsb.left_bitmap != None &&
 	    XGetGeometry(XtDisplayOfObject(w),
-			 entry->sme_bsb.left_bitmap, &root, 
+			 entry->sme_bsb.left_bitmap, &root,
 			 &x, &y, &width, &height, &bw, &depth))	{
 	    entry->sme_bsb.left_bitmap_width = width;
 	    entry->sme_bsb.left_bitmap_height = height;
@@ -708,7 +707,7 @@ CreateGCs(Widget w)
     SmeBSBObject entry = (SmeBSBObject)w;
     XGCValues values;
     XtGCMask mask, mask_i18n;
-    
+
     values.foreground = XtParent(w)->core.background_pixel;
     values.background = entry->sme_bsb.foreground;
     values.font = entry->sme_bsb.font->fid;
@@ -719,7 +718,7 @@ CreateGCs(Widget w)
 	entry->sme_bsb.rev_gc = XtAllocateGC(w, 0, mask_i18n, &values, GCFont, 0);
     else
 	entry->sme_bsb.rev_gc = XtGetGC(w, mask, &values);
-    
+
     values.foreground = entry->sme_bsb.foreground;
     values.background = XtParent(w)->core.background_pixel;
     if (entry->sme.international == True)
@@ -728,7 +727,7 @@ CreateGCs(Widget w)
 	entry->sme_bsb.norm_gc = XtGetGC(w, mask, &values);
 
     values.fill_style = FillTiled;
-    values.tile   = XmuCreateStippledPixmap(XtScreenOfObject(w), 
+    values.tile   = XmuCreateStippledPixmap(XtScreenOfObject(w),
 					    entry->sme_bsb.foreground,
 					    XtParent(w)->core.background_pixel,
 					    XtParent(w)->core.depth);
diff --git a/src/SmeLine.c b/src/SmeLine.c
index 80de18e..8011342 100644
--- a/src/SmeLine.c
+++ b/src/SmeLine.c
@@ -30,7 +30,7 @@ in this Software without prior written authorization from The Open Group.
  * Date:    September 26, 1989
  *
  * By:      Chris D. Peterson
- *          MIT X Consortium 
+ *          MIT X Consortium
  *          kit@expo.lcs.mit.edu
  */
 
@@ -183,17 +183,17 @@ CreateGC(Widget w)
     SmeLineObject entry = (SmeLineObject)w;
     XGCValues values;
     XtGCMask mask = GCForeground | GCGraphicsExposures | GCLineWidth;
-    
+
     values.foreground = entry->sme_line.foreground;
     values.graphics_exposures = False;
     values.line_width = entry->sme_line.line_width;
-    
+
     if (entry->sme_line.stipple != XtUnspecifiedPixmap) {
 	values.stipple = entry->sme_line.stipple;
-	values.fill_style = FillStippled; 
+	values.fill_style = FillStippled;
 	mask |= GCStipple | GCFillStyle;
-	
-	entry->sme_line.gc = XCreateGC(XtDisplayOfObject(w), 
+
+	entry->sme_line.gc = XCreateGC(XtDisplayOfObject(w),
 				      RootWindowOfScreen(XtScreenOfObject(w)),
 				      mask, &values);
     }
@@ -212,7 +212,7 @@ DestroyGC(Widget w)
 {
     SmeLineObject entry = (SmeLineObject)w;
 
-    if (entry->sme_line.stipple != XtUnspecifiedPixmap) 
+    if (entry->sme_line.stipple != XtUnspecifiedPixmap)
 	XFreeGC(XtDisplayOfObject(w), entry->sme_line.gc);
     else
 	XtReleaseGC(w, entry->sme_line.gc);
@@ -225,7 +225,7 @@ XawSmeLineRedisplay(Widget w, XEvent *event, Region region)
     SmeLineObject entry = (SmeLineObject)w;
     int y = XtY(w) + (((int)XtHeight(w) - entry->sme_line.line_width) >> 1);
 
-    if (entry->sme_line.stipple != XtUnspecifiedPixmap) 
+    if (entry->sme_line.stipple != XtUnspecifiedPixmap)
 	XSetTSOrigin(XtDisplayOfObject(w), entry->sme_line.gc, 0, y);
 
     XFillRectangle(XtDisplayOfObject(w), XtWindowOfObject(w),
@@ -252,7 +252,7 @@ XawSmeLineSetValues(Widget current, Widget request, Widget cnew,
 {
     SmeLineObject entry = (SmeLineObject)cnew;
     SmeLineObject old_entry = (SmeLineObject)current;
-  
+
     if (entry->sme_line.line_width != old_entry->sme_line.line_width &&
 	entry->sme_line.stipple != old_entry->sme_line.stipple) {
 	DestroyGC(current);
diff --git a/src/StripChart.c b/src/StripChart.c
index 237cf66..fa7357c 100644
--- a/src/StripChart.c
+++ b/src/StripChart.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -247,10 +247,10 @@ CreateGC(StripChartWidget w, unsigned int which)
 static void
 DestroyGC(StripChartWidget w, unsigned int which)
 {
-    if (which & FOREGROUND) 
+    if (which & FOREGROUND)
 	XtReleaseGC((Widget)w, w->strip_chart.fgGC);
 
-    if (which & HIGHLIGHT) 
+    if (which & HIGHLIGHT)
 	XtReleaseGC((Widget)w, w->strip_chart.hiGC);
 }
 
@@ -264,7 +264,7 @@ XawStripChartInitialize(Widget greq, Widget gnew,
     if (w->strip_chart.update > 0)
     w->strip_chart.interval_id =
     XtAppAddTimeOut(XtWidgetToApplicationContext(gnew),
-		    w->strip_chart.update * MS_PER_SEC, 
+		    w->strip_chart.update * MS_PER_SEC,
 		    draw_it, (XtPointer)gnew);
     CreateGC(w, ALL_GCS);
 
@@ -274,7 +274,7 @@ XawStripChartInitialize(Widget greq, Widget gnew,
     w->strip_chart.points = NULL;
     XawStripChartResize(gnew);
 }
- 
+
 static void
 XawStripChartDestroy(Widget gw)
 {
@@ -288,7 +288,7 @@ XawStripChartDestroy(Widget gw)
 }
 
 /*
- * NOTE: This function really needs to recieve graphics exposure 
+ * NOTE: This function really needs to recieve graphics exposure
  *       events, but since this is not easily supported until R4 I am
  *       going to hold off until then.
  */
@@ -305,12 +305,12 @@ XawStripChartRedisplay(Widget w, XEvent *event, Region region)
 }
 
 /*ARGSUSED*/
-static void 
+static void
 draw_it(XtPointer client_data, XtIntervalId *id)
 {
     StripChartWidget w = (StripChartWidget)client_data;
     double value;
-   
+
     if (w->strip_chart.update > 0)
 	w->strip_chart.interval_id =
 	    XtAppAddTimeOut(XtWidgetToApplicationContext((Widget)w),
@@ -326,8 +326,8 @@ draw_it(XtPointer client_data, XtIntervalId *id)
 
     XtCallCallbacks((Widget)w, XtNgetValue, (XtPointer)&value);
 
-    /* 
-     * Keep w->strip_chart.max_value up to date, and if this data 
+    /*
+     * Keep w->strip_chart.max_value up to date, and if this data
      * point is off the graph, change the scale to make it fit
      */
     if (value > w->strip_chart.max_value) {
@@ -345,7 +345,7 @@ draw_it(XtPointer client_data, XtIntervalId *id)
 		     / w->strip_chart.scale);
 
 	XFillRectangle(XtDisplay(w), XtWindow(w), w->strip_chart.fgGC,
-		       w->strip_chart.interval, y, 
+		       w->strip_chart.interval, y,
 		       1, XtHeight(w) - y);
 
 	/*
@@ -372,7 +372,7 @@ draw_it(XtPointer client_data, XtIntervalId *id)
  * changed, then w->strip_chart.max_value is updated to reflect the
  * largest data point
  */
-static int 
+static int
 repaint_window(StripChartWidget w, int left, int width)
 {
     int i, j;
@@ -415,7 +415,7 @@ repaint_window(StripChartWidget w, int left, int width)
 	    int y = XtHeight(w) - (XtHeight(w) * w->strip_chart.valuedata[i])
 				   / w->strip_chart.scale;
 
-	    XFillRectangle(dpy, win, w->strip_chart.fgGC, 
+	    XFillRectangle(dpy, win, w->strip_chart.fgGC,
 			   i, y, 1, XtHeight(w) - y);
 	}
 
@@ -463,15 +463,15 @@ MoveChart(StripChartWidget w, Bool blit)
 		  (char *)(w->strip_chart.valuedata + next - j),
 		  j * sizeof(double));
     next = w->strip_chart.interval = j;
-	
+
     /*
-     * Since we just lost some data, recompute the 
+     * Since we just lost some data, recompute the
      * w->strip_chart.max_value
      */
     old_max = w->strip_chart.max_value;
     w->strip_chart.max_value = 0.0;
     for (i = 0; i < next; i++) {
-	if (w->strip_chart.valuedata[i] > w->strip_chart.max_value) 
+	if (w->strip_chart.valuedata[i] > w->strip_chart.max_value)
 	    w->strip_chart.max_value = w->strip_chart.valuedata[i];
     }
 
@@ -487,7 +487,7 @@ MoveChart(StripChartWidget w, Bool blit)
     XCopyArea(XtDisplay((Widget)w), XtWindow((Widget)w), XtWindow((Widget)w),
 	      w->strip_chart.hiGC, (int)XtWidth(w) - j, 0, j, XtHeight(w), 0, 0);
 
-    XClearArea(XtDisplay((Widget)w), XtWindow((Widget)w), 
+    XClearArea(XtDisplay((Widget)w), XtWindow((Widget)w),
 	       j, 0, XtWidth(w) - j, XtHeight(w), False);
 
     /* Draw graph reference lines */
@@ -521,17 +521,17 @@ XawStripChartSetValues(Widget current, Widget request, Widget cnew,
 
     if (w->strip_chart.min_scale > w->strip_chart.max_value + 1)
 	ret_val = True;
-     
+
     if (w->strip_chart.fgpixel != old->strip_chart.fgpixel) {
 	new_gc |= FOREGROUND;
 	ret_val = True;
     }
-    
+
     if (w->strip_chart.hipixel != old->strip_chart.hipixel) {
 	new_gc |= HIGHLIGHT;
 	ret_val = True;
     }
-    
+
     DestroyGC(old, new_gc);
     CreateGC(w, new_gc);
 
@@ -561,7 +561,7 @@ XawStripChartResize(Widget widget)
 	w->strip_chart.points = NULL;
 	return;
     }
-    
+
     size = sizeof(XPoint) * (w->strip_chart.scale - 1);
 
     points = (XPoint *)XtRealloc((XtPointer)w->strip_chart.points, size);
diff --git a/src/Text.c b/src/Text.c
index 060057d..72387e9 100644
--- a/src/Text.c
+++ b/src/Text.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -83,7 +83,6 @@ SOFTWARE.
 #include <X11/Xfuncs.h>
 #include <X11/Xutil.h>
 #include <X11/Xmu/Misc.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xmu/Xmu.h>
 #include <X11/Xaw/Cardinals.h>
 #include <X11/Xaw/MultiSinkP.h>
@@ -308,7 +307,7 @@ static XtResource resources[] = {
     XtNdisplayPosition,
     XtCTextPosition,
     XtRInt,
-    sizeof(XawTextPosition), 
+    sizeof(XawTextPosition),
     offset(text.lt.top),
     XtRImmediate,
     (XtPointer)0
@@ -695,7 +694,7 @@ XawTextClassInitialize(void)
     XawInitializeWidgetSet();
 
     textClassRec.core_class.num_actions = _XawTextActionsTableCount;
-  
+
     QWrapNever	= XrmPermStringToQuark(XtEtextWrapNever);
     QWrapLine	= XrmPermStringToQuark(XtEtextWrapLine);
     QWrapWord	= XrmPermStringToQuark(XtEtextWrapWord);
@@ -971,7 +970,7 @@ XawTextRealize(Widget w, XtValueMask *mask, XSetWindowAttributes *attr)
     TextWidget ctx = (TextWidget)w;
 
     (*textClassRec.core_class.superclass->core_class.realize)(w, mask, attr);
-  
+
     if (ctx->text.hbar != NULL) {
 	XtRealizeWidget(ctx->text.hbar);
 	XtMapWidget(ctx->text.hbar);
@@ -1092,7 +1091,7 @@ _XawTextGetText(TextWidget ctx, XawTextPosition left, XawTextPosition right)
 
     if (XawTextFormat(ctx, XawFmt8Bit))
 	bytes = sizeof(unsigned char);
-    else if (XawTextFormat(ctx, XawFmtWide)) 
+    else if (XawTextFormat(ctx, XawFmtWide))
 	bytes = sizeof(wchar_t);
     else /* if there is another fomat, add here */
 	bytes = 1;
@@ -1163,7 +1162,7 @@ _XawTextGetSTRING(TextWidget ctx, XawTextPosition left, XawTextPosition right)
     }
 }
 
-/* 
+/*
  * This routine maps an x and y position in a window that is displaying text
  * into the corresponding position in the source.
  */
@@ -2019,7 +2018,7 @@ TextConvertSelection(Widget w, Atom *selection, Atom *target, Atom *type,
 	}
 	else
 	    *type = *target;
-	/* 
+	/*
 	 * If salt is True, the salt->contents stores CT string,
 	 * its length is measured in bytes.
 	 * Refer to _XawTextSaltAwaySelection().
@@ -2036,7 +2035,7 @@ TextConvertSelection(Widget w, Atom *selection, Atom *target, Atom *type,
 		    XtFree((char *)*value);
 		    return (False);
 		}
-	 	XtFree((char *)*value);
+		XtFree((char *)*value);
 		*value = (XtPointer)textprop.value;
 		*length = textprop.nitems;
 	    }
@@ -2216,7 +2215,7 @@ TextLoseSelection(Widget w, Atom *selection)
 	while (salt->s.atom_count
 	       && salt->s.selections[salt->s.atom_count-1] == 0)
 	    salt->s.atom_count--;
-    	
+
 	/*
 	 * Must walk the selection list in opposite order from UnsetSelection
 	 */
@@ -3623,7 +3622,7 @@ XawTextDestroy(Widget w)
 
 /*
  * by the time we are managed (and get this far) we had better
- * have both a source and a sink 
+ * have both a source and a sink
  */
 static void
 XawTextResize(Widget w)
@@ -3938,13 +3937,13 @@ XawTextReplace(Widget w, XawTextPosition startPos, XawTextPosition endPos,
     return (result);
 }
 
-XawTextPosition 
+XawTextPosition
 XawTextTopPosition(Widget w)
 {
     return (((TextWidget)w)->text.lt.top);
 }
 
-XawTextPosition 
+XawTextPosition
 XawTextLastPosition(Widget w)
 {
     return (((TextWidget)w)->text.lastPos);
@@ -4027,7 +4026,7 @@ XawTextDisableRedisplay(Widget w)
     _XawTextPrepareToUpdate((TextWidget)w);
 }
 
-void 
+void
 XawTextEnableRedisplay(Widget w)
 {
     TextWidget ctx = (TextWidget)w;
@@ -4111,7 +4110,7 @@ XawTextSearch(Widget w,
 TextClassRec textClassRec = {
   /* core */
   {
-    (WidgetClass)&simpleClassRec,	/* superclass */ 
+    (WidgetClass)&simpleClassRec,	/* superclass */
     "Text",				/* class_name */
     sizeof(TextRec),			/* widget_size */
     XawTextClassInitialize,		/* class_initialize */
diff --git a/src/TextAction.c b/src/TextAction.c
index 47c6ce6..6705316 100644
--- a/src/TextAction.c
+++ b/src/TextAction.c
@@ -39,7 +39,6 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/Xmu/Atoms.h>
 #include <X11/Xmu/Misc.h>
 #include <X11/Xmu/StdSel.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/MultiSinkP.h>
 #include <X11/Xaw/MultiSrcP.h>
 #include <X11/Xaw/TextP.h>
@@ -1129,7 +1128,7 @@ ConvertSelection(Widget w, Atom *selection, Atom *target, Atom *type,
     if (XmuConvertStandardSelection(w, ctx->text.time, selection, target, type,
 				    (XPointer *)value, length, format))
 	return (True);
-  
+
     return (False);
 }
 
@@ -1370,7 +1369,7 @@ DeleteOrKill(TextWidget ctx, XEvent *event, XawTextScanDirection dir,
 	from = to;
 	to = ctx->text.insertPos;
     }
-    else 
+    else
 	from = ctx->text.insertPos;
 
     _DeleteOrKill(ctx, from, to, kill);
@@ -2707,7 +2706,7 @@ SelectAdjust(Widget w, XEvent *event, String *params, Cardinal *num_params)
 #ifndef OLDXAW
     if (ctx->text.selection_state)
 #endif
-	ModifySelection(ctx, event, 
+	ModifySelection(ctx, event,
 			XawsmTextSelect, XawactionAdjust, params, num_params);
 }
 
@@ -3214,8 +3213,8 @@ InsertChar(Widget w, XEvent *event, String *p, Cardinal *n)
 static char *
 IfHexConvertHexElseReturnParam(char *param, int *len_return)
 {
-    char *p;	    	/* steps through param char by char */
-    char c;	    	/* holds the character pointed to by p */
+    char *p;		/* steps through param char by char */
+    char c;		/* holds the character pointed to by p */
     int ind;		/* steps through hexval buffer char by char */
     static char hexval[XawTextActionMaxHexChars];
     Boolean first_digit;
@@ -3347,7 +3346,7 @@ InsertString(Widget w, XEvent *event, String *params, Cardinal *num_params)
 }
 
 /* DisplayCaret() - action
- * 
+ *
  * The parameter list should contain one boolean value.  If the
  * argument is true, the cursor will be displayed.  If false, not.
  *
@@ -3399,9 +3398,10 @@ Numeric(Widget w, XEvent *event, String *params, Cardinal *num_params)
 		InsertChar(w, event, params, num_params);
 		return;
 	    }
-	    XmuSnprintf(err_buf, sizeof(err_buf),
-			"numeric: Invalid argument%s'%s'",
-			*num_params ? ", " : "", *num_params ? params[0] : "");
+	    snprintf(err_buf, sizeof(err_buf),
+		     "numeric: Invalid argument%s'%s'",
+		     *num_params ? ", " : "",
+		     *num_params ? params[0] : "");
 	    XtAppWarning(XtWidgetToApplicationContext(w), err_buf);
 	    ctx->text.numeric = False;
 	    ctx->text.mult = 1;
@@ -3487,7 +3487,7 @@ Multiply(Widget w, XEvent *event, String *params, Cardinal *num_params)
 #ifndef OLDXAW
     if (params[0][0] == 's' || params[0][0] == 'S') {
 	ctx->text.numeric = True;
- 	ctx->text.mult = 0;
+	ctx->text.mult = 0;
 	return;
     }
     else
@@ -3495,9 +3495,9 @@ Multiply(Widget w, XEvent *event, String *params, Cardinal *num_params)
 	if ((mult = atoi(params[0])) == 0) {
 	char buf[BUFSIZ];
 
-	XmuSnprintf(buf, sizeof(buf),
-		    "%s %s", "Xaw Text Widget: multiply() argument",
-		    "must be a number greater than zero, or 'Reset'.");
+	snprintf(buf, sizeof(buf),
+		 "Xaw Text Widget: multiply() argument "
+		 "must be a number greater than zero, or 'Reset'.");
 	XtAppError(XtWidgetToApplicationContext(w), buf);
 	XBell(XtDisplay(w), 50);
 	return;
@@ -3582,14 +3582,14 @@ StripOutOldCRs(TextWidget ctx, XawTextPosition from, XawTextPosition to,
 	    /*
 	     * Remove all extra spaces.
 	     */
-	    for (i = 1 ; i < len; i++) 
+	    for (i = 1 ; i < len; i++)
 		if (text.format ==  XawFmtWide) {
 		    if (!iswspace(((wchar_t*)buf)[i]) || ((periodPos + i) >= to))
 			break;
 		}
 		else if (!isspace(buf[i]) || (periodPos + i) >= to)
 		    break;
-      
+
 	    XtFree(buf);
 
 	    to -= (i - text.length - 1);
@@ -3667,7 +3667,7 @@ InsertNewCRs(TextWidget ctx, XawTextPosition from, XawTextPosition to,
 			XawsdRight,1, True);
 
 	startPos = endPos = eol;
-	if (eol == space) 
+	if (eol == space)
 	    return;
 
 	len = (int)(space - eol);
diff --git a/src/TextPop.c b/src/TextPop.c
index 4775c25..953fa9a 100644
--- a/src/TextPop.c
+++ b/src/TextPop.c
@@ -30,13 +30,13 @@ in this Software without prior written authorization from The Open Group.
  *
  * FileInsert, Search, and Replace.
  *
- * There is also a section at the end for utility functions 
+ * There is also a section at the end for utility functions
  * used by all more than one of these dialogs.
  *
  * The following functions are the only non-static ones defined
  * in this module.  They are located at the begining of the
  * section that contains this dialog box that uses them.
- * 
+ *
  * void _XawTextInsertFileAction(w, event, params, num_params);
  * void _XawTextDoSearchAction(w, event, params, num_params);
  * void _XawTextDoReplaceAction(w, event, params, num_params);
@@ -50,10 +50,9 @@ in this Software without prior written authorization from The Open Group.
 #include <errno.h>
 #include <X11/IntrinsicP.h>
 #include <X11/StringDefs.h>
-#include <X11/Shell.h> 
+#include <X11/Shell.h>
 #include <X11/Xos.h>
 #include <X11/Xmu/CharSet.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/TextP.h>
 #include <X11/Xaw/AsciiText.h>
 #include <X11/Xaw/Cardinals.h>
@@ -132,7 +131,7 @@ static char radio_trans_string[] =
 "<Btn1Down>,<Btn1Up>:"	"set() notify()\n"
 ;
 
-static char search_text_trans[] = 
+static char search_text_trans[] =
 "~s<Key>Return:"	"DoSearchAction(Popdown)\n"
 "s<Key>Return:"		"DoSearchAction() SetField(Replace)\n"
 "c<Key>c:"		"PopdownSearchAction()\n"
@@ -140,7 +139,7 @@ static char search_text_trans[] =
 "<Key>Tab:"		"DoSearchAction() SetField(Replace)\n"
 ;
 
-static char rep_text_trans[] = 
+static char rep_text_trans[] =
 "~s<Key>Return:"	"DoReplaceAction(Popdown)\n"
 "s<Key>Return:"		"SetField(Search)\n"
 "c<Key>c:"		"PopdownSearchAction()\n"
@@ -152,7 +151,7 @@ static char rep_text_trans[] =
  * Implementation
  */
 /*
- * This section of the file contains all the functions that 
+ * This section of the file contains all the functions that
  * the file insert dialog box uses
  */
 
@@ -165,7 +164,7 @@ static char rep_text_trans[] =
  *	that will insert a file into the main Text Widget.
  */
 /*ARGSUSED*/
-void 
+void
 _XawTextInsertFileAction(Widget w, XEvent *event,
 			 String *params, Cardinal *num_params)
 {
@@ -193,7 +192,7 @@ _XawTextInsertFileAction(Widget w, XEvent *event,
  *	  This entry is optional and contains the value of the default
  *	file to insert
  */
-void 
+void
 _XawTextInsertFile(Widget w, XEvent *event,
 		   String *params, Cardinal *num_params)
 {
@@ -204,17 +203,17 @@ _XawTextInsertFile(Widget w, XEvent *event,
 
     XtSetArg(args[0], XtNeditType, &edit_mode);
     XtGetValues(ctx->text.source, args, 1);
-  
+
     if (edit_mode != XawtextEdit) {
 	XBell(XtDisplay(w), 0);
 	return;
     }
 
-    if (*num_params == 0) 
+    if (*num_params == 0)
 	ptr = "";
-    else 
+    else
 	ptr = params[0];
-    
+
     if (!ctx->text.file_insert) {
 	ctx->text.file_insert = CreateDialog(w, ptr, "insertFile",
 					     AddInsertFileChildren);
@@ -239,7 +238,7 @@ _XawTextInsertFile(Widget w, XEvent *event,
  *	Pops down the file insert button
  */
 /*ARGSUSED*/
-static void 
+static void
 PopdownFileInsert(Widget w, XtPointer closure, XtPointer call_data)
 {
     TextWidget ctx = (TextWidget)closure;
@@ -261,14 +260,14 @@ PopdownFileInsert(Widget w, XtPointer closure, XtPointer call_data)
  *	Actually insert the file named in the text widget of the file dialog
  */
 /*ARGSUSED*/
-static void 
+static void
 DoInsert(Widget w, XtPointer closure, XtPointer call_data)
 {
     TextWidget ctx = (TextWidget)closure;
     char buf[BUFSIZ], msg[BUFSIZ];
     Widget temp_widget;
 
-    (void)XmuSnprintf(buf, sizeof(buf), "%s.%s", FORM_NAME, TEXT_NAME);
+    snprintf(buf, sizeof(buf), "%s.%s", FORM_NAME, TEXT_NAME);
     if ((temp_widget = XtNameToWidget(ctx->text.file_insert, buf)) == NULL) {
 	(void)strcpy(msg,
 		     "Error: Could not get text widget from file insert popup");
@@ -278,9 +277,9 @@ DoInsert(Widget w, XtPointer closure, XtPointer call_data)
 	return;
     }
     else
-	(void)XmuSnprintf(msg, sizeof(msg), "Error: %s", strerror(errno));
+	snprintf(msg, sizeof(msg), "Error: %s", strerror(errno));
 
-    (void)SetResourceByName(ctx->text.file_insert, 
+    (void)SetResourceByName(ctx->text.file_insert,
 			    LABEL_NAME, XtNlabel, (XtArgVal)msg);
     XBell(XtDisplay(w), 0);
 }
@@ -365,7 +364,7 @@ AddInsertFileChildren(Widget form, char *ptr, Widget tw)
     XtSetArg(args[num_args], XtNborderWidth, 0);	num_args++;
     label = XtCreateManagedWidget(LABEL_NAME, labelWidgetClass, form,
 				  args, num_args);
-  
+
     num_args = 0;
     XtSetArg(args[num_args], XtNfromVert, label);	num_args++;
     XtSetArg(args[num_args], XtNleft, XtChainLeft);	num_args++;
@@ -406,7 +405,7 @@ AddInsertFileChildren(Widget form, char *ptr, Widget tw)
 }
 
 /*
- * This section of the file contains all the functions that 
+ * This section of the file contains all the functions that
  * the search dialog box uses
  */
 /*
@@ -419,11 +418,11 @@ AddInsertFileChildren(Widget form, char *ptr, Widget tw)
  *
  * Note:
  * If the search was sucessful and the argument popdown is passed to
- * this action routine then the widget will automatically popdown the 
+ * this action routine then the widget will automatically popdown the
  *	search widget
  */
 /*ARGSUSED*/
-void 
+void
 _XawTextDoSearchAction(Widget w, XEvent *event,
 		       String *params, Cardinal *num_params)
 {
@@ -432,7 +431,7 @@ _XawTextDoSearchAction(Widget w, XEvent *event,
 
     if (*num_params == 1 && (params[0][0] == 'p' || params[0][0] == 'P'))
 	popdown = True;
-    
+
     if (DoSearch(tw->text.search) && popdown)
 	PopdownSearch(w, (XtPointer)tw->text.search, NULL);
 }
@@ -446,7 +445,7 @@ _XawTextDoSearchAction(Widget w, XEvent *event,
  *	will popdown the search widget.
  */
 /*ARGSUSED*/
-void 
+void
 _XawTextPopdownSearchAction(Widget w, XEvent *event,
 			    String *params, Cardinal *num_params)
 {
@@ -468,7 +467,7 @@ _XawTextPopdownSearchAction(Widget w, XEvent *event,
  *	Pops down the search widget and resets it
  */
 /*ARGSUSED*/
-static void 
+static void
 PopdownSearch(Widget w, XtPointer closure, XtPointer call_data)
 {
     struct SearchAndReplace *search = (struct SearchAndReplace *)closure;
@@ -490,7 +489,7 @@ PopdownSearch(Widget w, XtPointer closure, XtPointer call_data)
  *	Performs a search when the button is clicked.
  */
 /*ARGSUSED*/
-static void 
+static void
 SearchButton(Widget w, XtPointer closure, XtPointer call_data)
 {
     (void)DoSearch((struct SearchAndReplace *)closure);
@@ -525,7 +524,7 @@ SearchButton(Widget w, XtPointer closure, XtPointer call_data)
  */
 
 #define SEARCH_HEADER	"Text Widget - Search():"
-void 
+void
 _XawTextSearch(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     TextWidget ctx = (TextWidget)w;
@@ -536,9 +535,9 @@ _XawTextSearch(Widget w, XEvent *event, String *params, Cardinal *num_params)
     wchar_t wcs[1];
 
     if (*num_params < 1 || *num_params > 2) {
-	(void)XmuSnprintf(buf, sizeof(buf), "%s %s\n%s", SEARCH_HEADER, 
-			  "This action must have only", 
-			  "one or two parameters");
+	snprintf(buf, sizeof(buf), "%s %s\n%s", SEARCH_HEADER,
+		 "This action must have only",
+		 "one or two parameters");
 	XtAppWarning(XtWidgetToApplicationContext(w), buf);
 	return;
     }
@@ -555,18 +554,18 @@ _XawTextSearch(Widget w, XEvent *event, String *params, Cardinal *num_params)
 	ptr = "";
 
     switch(params[0][0]) {
-	case 'b': 		  /* Left */
+	case 'b':		  /* Left */
 	case 'B':
 	    dir = XawsdLeft;
 	    break;
-	case 'f': 		  /* Right */
+	case 'f':		  /* Right */
 	case 'F':
 	    dir = XawsdRight;
 	    break;
 	default:
-	    (void)XmuSnprintf(buf, sizeof(buf), "%s %s\n%s", SEARCH_HEADER, 
-			      "The first parameter must be",
-			      "Either 'backward' or 'forward'");
+	    snprintf(buf, sizeof(buf), "%s %s\n%s", SEARCH_HEADER,
+		     "The first parameter must be",
+		     "Either 'backward' or 'forward'");
 	    XtAppWarning(XtWidgetToApplicationContext(w), buf);
 	    return;
     }
@@ -620,7 +619,7 @@ InitializeSearchWidget(struct SearchAndReplace *search,
 	    SetResource(search->right_toggle, XtNstate, (XtArgVal)True);
 	    break;
     }
-}  
+}
 
 /*
  * Function:
@@ -659,7 +658,7 @@ AddSearchChildren(Widget form, char *ptr, Widget tw)
     XtSetArg(args[num_args], XtNborderWidth, 0);	   num_args++;
     search->label2 = XtCreateManagedWidget("label2", labelWidgetClass, form,
 					   args, num_args);
-  
+
     /*
      * We need to add R_OFFSET to the radio_data, because the value zero (0)
      * has special meaning
@@ -751,7 +750,7 @@ AddSearchChildren(Widget form, char *ptr, Widget tw)
     r_text = XtCreateManagedWidget("replaceText", asciiTextWidgetClass,
 				   form, args, num_args);
     search->rep_text = r_text;
-  
+
     num_args = 0;
     XtSetArg(args[num_args], XtNlabel, "Search");		num_args++;
     XtSetArg(args[num_args], XtNfromVert, r_text);		num_args++;
@@ -864,13 +863,13 @@ DoSearch(struct SearchAndReplace *search)
 	}
 #endif /* OLDXAW */
     }
-  
+
     dir = (XawTextScanDirection)(unsigned long)
       ((XPointer)XawToggleGetCurrent(search->left_toggle) - R_OFFSET);
 
     pos = XawTextSearch(tw, dir, &text);
 
-   /* The Raw string in find.ptr may be WC I can't use here, so I re - call 
+   /* The Raw string in find.ptr may be WC I can't use here, so I re - call
      GetString to get a tame version */
 
     if (pos == XawTextSearchError) {
@@ -879,7 +878,7 @@ DoSearch(struct SearchAndReplace *search)
 
 	ptr = GetString(search->search_text);
 	len = strlen(ptr);
-	(void)XmuSnprintf(msg, sizeof(msg), "%s", ptr);
+	snprintf(msg, sizeof(msg), "%s", ptr);
 
 	ptr = strchr(msg, '\n');
 	if (ptr != NULL || sizeof(msg) - 1 < len) {
@@ -913,7 +912,7 @@ DoSearch(struct SearchAndReplace *search)
 }
 
 /*
- * This section of the file contains all the functions that 
+ * This section of the file contains all the functions that
  * the replace dialog box uses
  */
 /*
@@ -925,7 +924,7 @@ DoSearch(struct SearchAndReplace *search)
  *	Text Widget that will replace a string in the main Text Widget.
  */
 /*ARGSUSED*/
-void 
+void
 _XawTextDoReplaceAction(Widget w, XEvent *event,
 			String *params, Cardinal *num_params)
 {
@@ -968,12 +967,12 @@ DoReplaceOne(Widget w, XtPointer closure, XtPointer call_data)
  *	closure	  - pointer to the search structure
  *	call_data - (not used)
  *
- * Description: 
+ * Description:
  *	  Replaces every instance of the string in the search dialog's
  *	text widget with the one in the replace dialog's text widget.
  */
 /*ARGSUSED*/
-static void 
+static void
 DoReplaceAll(Widget w, XtPointer closure, XtPointer call_data)
 {
     Replace((struct SearchAndReplace *)closure, False, False);
@@ -1019,7 +1018,7 @@ Replace(struct SearchAndReplace *search, Bool once_only, Bool show_current)
 	replace.length = wcslen((wchar_t*)replace.ptr);
     else
 	replace.length = strlen(replace.ptr);
-    
+
     dir = (XawTextScanDirection)(unsigned long)
       ((XPointer)XawToggleGetCurrent(search->left_toggle) - R_OFFSET);
 
@@ -1040,7 +1039,7 @@ Replace(struct SearchAndReplace *search, Bool once_only, Bool show_current)
 
 		    ptr = GetString(search->search_text);
 		    len = strlen(ptr);
-		    (void)XmuSnprintf(msg, sizeof(msg), "%s", ptr);
+		    snprintf(msg, sizeof(msg), "%s", ptr);
 		    ptr = strchr(msg, '\n');
 		    if (ptr != NULL || sizeof(msg) - 1 < len) {
 			if (ptr != NULL)
@@ -1153,7 +1152,7 @@ SetSearchLabels(struct SearchAndReplace *search, String msg1, String msg2,
 {
     (void)SetResource(search->label1, XtNlabel, (XtArgVal)msg1);
     (void)SetResource(search->label2, XtNlabel, (XtArgVal)msg2);
-    if (bell) 
+    if (bell)
 	XBell(XtDisplay(search->search_popup), 0);
 }
 
@@ -1170,7 +1169,7 @@ SetSearchLabels(struct SearchAndReplace *search, String msg1, String msg2,
  *		   Text Widget that will send input to the field specified.
  */
 /*ARGSUSED*/
-void 
+void
 _XawTextSetField(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     struct SearchAndReplace *search;
@@ -1226,7 +1225,7 @@ _SetField(Widget cnew, Widget old)
     }
 
     XtSetKeyboardFocus(XtParent(cnew), cnew);
-						
+
     XtSetArg(args[0], XtNborderColor, &old_border);
     XtSetArg(args[1], XtNbackground, &old_bg);
     XtGetValues(cnew, args, 2);
@@ -1264,7 +1263,7 @@ SetResourceByName(Widget shell, char *name, char *res_name, XtArgVal value)
     Widget temp_widget;
     char buf[BUFSIZ];
 
-    (void)XmuSnprintf(buf, sizeof(buf), "%s.%s", FORM_NAME, name);
+    snprintf(buf, sizeof(buf), "%s.%s", FORM_NAME, name);
 
     if ((temp_widget = XtNameToWidget(shell, buf)) != NULL) {
 	SetResource(temp_widget, res_name, value);
@@ -1289,7 +1288,7 @@ static void
 SetResource(Widget w, char *res_name, XtArgVal value)
 {
     Arg args[1];
-  
+
     XtSetArg(args[0], res_name, value);
     XtSetValues( w, args, 1);
 }
@@ -1300,7 +1299,7 @@ SetResource(Widget w, char *res_name, XtArgVal value)
  *
  * Parameters:
  *	text - text widget whose string we will get
- * 
+ *
  * Description:
  *	Gets the value for the string in the popup.
  *
@@ -1352,7 +1351,7 @@ CenterWidgetOnPoint(Widget w, XEvent *event)
     Cardinal num_args;
     Dimension width, height, b_width;
     Position x, y, max_x, max_y;
-  
+
     if (event != NULL) {
 	switch (event->type) {
 	    case ButtonPress:
@@ -1392,7 +1391,7 @@ CenterWidgetOnPoint(Widget w, XEvent *event)
 	y = 0;
     if (y > (max_y = (Position)(XtScreen(w)->height - height)))
 	y = max_y;
-  
+
     num_args = 0;
     XtSetArg(args[num_args], XtNx, x); num_args++;
     XtSetArg(args[num_args], XtNy, y); num_args++;
@@ -1430,7 +1429,7 @@ CreateDialog(Widget parent, String ptr, String name, AddFunc func)
     XtSetArg(args[num_args], XtNgeometry, NULL);		num_args++;
     XtSetArg(args[num_args], XtNallowShellResize, True);	num_args++;
     XtSetArg(args[num_args], XtNtransientFor, GetShell(parent));num_args++;
-    popup = XtCreatePopupShell(name, transientShellWidgetClass, 
+    popup = XtCreatePopupShell(name, transientShellWidgetClass,
 			       parent, args, num_args);
 
     form = XtCreateManagedWidget(FORM_NAME, formWidgetClass, popup, NULL, 0);
@@ -1451,7 +1450,7 @@ CreateDialog(Widget parent, String ptr, String name, AddFunc func)
  *
  * Returns:
  *	  The shell widget among the ancestors of w that is the
- * 	fewest levels up in the widget hierarchy.
+ *	fewest levels up in the widget hierarchy.
  *
  * Description:
  *	Walks up the widget hierarchy to find the topmost shell widget.
@@ -1461,7 +1460,7 @@ GetShell(Widget w)
 {
     while (w != NULL && !XtIsShell(w))
 	w = XtParent(w);
-    
+
     return (w);
 }
 
@@ -1503,7 +1502,7 @@ WMProtocols(Widget w, XEvent *event, String *params, Cardinal *num_params)
 	Widget cancel;
 	char descendant[DISMISS_NAME_LEN + 2];
 
-	(void)XmuSnprintf(descendant, sizeof(descendant), "*%s", DISMISS_NAME);
+	snprintf(descendant, sizeof(descendant), "*%s", DISMISS_NAME);
 	cancel = XtNameToWidget(w, descendant);
 	if (cancel)
 	    XtCallCallbacks(cancel, XtNcallback, NULL);
diff --git a/src/TextSink.c b/src/TextSink.c
index b47c7b8..333701b 100644
--- a/src/TextSink.c
+++ b/src/TextSink.c
@@ -228,7 +228,7 @@ XawTextSinkClassPartInitialize(WidgetClass wc)
     Qdefault = XrmPermStringToQuark("default");
 #endif
 
-    /* 
+    /*
      * We don't need to check for null super since we'll get to TextSink
      * eventually.
      */
@@ -416,7 +416,7 @@ static void
 ClearToBackground(Widget w, int x, int y,
 		  unsigned int width, unsigned int height)
 {
-    /* 
+    /*
      * Don't clear in height or width are zero
      * XClearArea() has special semantic for these values
      */
@@ -736,7 +736,7 @@ XawTextSinkFindPosition(Widget w, XawTextPosition fromPos, int fromx, int width,
     TextSinkObjectClass cclass = (TextSinkObjectClass)w->core.widget_class;
 
     (*cclass->text_sink_class.FindPosition)(w, fromPos, fromx, width,
-					    stopAtWordBreak, 
+					    stopAtWordBreak,
 					    resPos, resWidth, resHeight);
 }
 
@@ -759,7 +759,7 @@ XawTextSinkFindPosition(Widget w, XawTextPosition fromPos, int fromx, int width,
 /*ARGSUSED*/
 void
 XawTextSinkFindDistance(Widget w, XawTextPosition fromPos, int fromx,
-			XawTextPosition toPos, int *resWidth, 
+			XawTextPosition toPos, int *resWidth,
 			XawTextPosition *resPos, int *resHeight)
 {
     TextSinkObjectClass cclass = (TextSinkObjectClass)w->core.widget_class;
@@ -1220,16 +1220,16 @@ _XawTextSinkAddProperty(XawTextPropertyList *list, XawTextProperty *property,
     if (property->mask & XAW_TPROP_FOREGROUND) {
 	color.pixel = property->foreground;
 	XQueryColor(DisplayOfScreen(list->screen), list->colormap, &color);
-	XmuSnprintf(foreground, sizeof(foreground), "%04x%04x%04x",
-		    color.red, color.green, color.blue);
+	snprintf(foreground, sizeof(foreground), "%04x%04x%04x",
+		 color.red, color.green, color.blue);
     }
     else
 	strcpy(foreground, asterisk);
     if (property->mask & XAW_TPROP_BACKGROUND) {
 	color.pixel = property->background;
 	XQueryColor(DisplayOfScreen(list->screen), list->colormap, &color);
-	XmuSnprintf(background, sizeof(background), "%04x%04x%04x",
-		    color.red, color.green, color.blue);
+	snprintf(background, sizeof(background), "%04x%04x%04x",
+		 color.red, color.green, color.blue);
     }
     else
 	strcpy(background, asterisk);
@@ -1313,10 +1313,11 @@ _XawTextSinkAddProperty(XawTextPropertyList *list, XawTextProperty *property,
 
     /* XXX should do the best to load a suitable font here */
     if (!(result->mask & XAW_TPROP_FONT)) {
-	XmuSnprintf(identifier, sizeof(identifier),
-		    "-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s",
-		    foundry, family, weight, slant, setwidth, addstyle, pixel_size,
-		    point_size, res_x, res_y, spacing, avgwidth, registry, encoding);
+	snprintf(identifier, sizeof(identifier),
+		 "-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s-%s",
+		 foundry, family, weight, slant, setwidth, addstyle,
+		 pixel_size, point_size, res_x, res_y, spacing, avgwidth,
+		 registry, encoding);
 	if ((result->font = XLoadQueryFont(DisplayOfScreen(list->screen),
 					   identifier)) != NULL) {
 	    result->mask |= XAW_TPROP_FONT;
@@ -1331,14 +1332,14 @@ _XawTextSinkAddProperty(XawTextPropertyList *list, XawTextProperty *property,
     else
 	xlfd = null;
 
-    XmuSnprintf(identifier, sizeof(identifier), "%08lx%08lx%s%s%d%d%d%d%s",
-		property->mask, property->xlfd_mask,
-		foreground, background,
-		(result->mask & XAW_TPROP_UNDERLINE) != 0,
-		(result->mask & XAW_TPROP_OVERSTRIKE) != 0,
-		(result->mask & XAW_TPROP_SUBSCRIPT) != 0,
-		(result->mask & XAW_TPROP_SUPERSCRIPT) != 0,
-		xlfd);
+    snprintf(identifier, sizeof(identifier), "%08lx%08lx%s%s%d%d%d%d%s",
+	     property->mask, property->xlfd_mask,
+	     foreground, background,
+	     (result->mask & XAW_TPROP_UNDERLINE) != 0,
+	     (result->mask & XAW_TPROP_OVERSTRIKE) != 0,
+	     (result->mask & XAW_TPROP_SUBSCRIPT) != 0,
+	     (result->mask & XAW_TPROP_SUPERSCRIPT) != 0,
+	     xlfd);
 
     quark = XrmStringToQuark(identifier);
     if (result->identifier == NULLQUARK)
@@ -1547,8 +1548,8 @@ XawTextSinkConvertPropertyList(String name, String spec, Screen *screen,
 	params = XawParseParamsString(tok);
 	ident = XrmStringToQuark(params->name);
 	if (ident == NULLQUARK) {
-	    XmuSnprintf(buffer, sizeof(buffer),
-			"Bad text property name \"%s\".", params->name);
+	    snprintf(buffer, sizeof(buffer), "Bad text property name \"%s\".",
+		     params->name);
 	    XtAppWarning(XtDisplayToApplicationContext
 			 (DisplayOfScreen(screen)), buffer);
 	    DestroyTextPropertyList(propl);
@@ -1570,8 +1571,8 @@ XawTextSinkConvertPropertyList(String name, String spec, Screen *screen,
 
 	    if ((prop->font = XLoadQueryFont(DisplayOfScreen(screen),
 					     argval->value)) == NULL) {
-		XmuSnprintf(buffer, sizeof(buffer),
-			    "Cannot load font \"%s\".", argval->value);
+		snprintf(buffer, sizeof(buffer), "Cannot load font \"%s\".",
+			 argval->value);
 		XtAppWarning(XtDisplayToApplicationContext
 			     (DisplayOfScreen(screen)), buffer);
 		DestroyTextPropertyList(propl);
@@ -1589,8 +1590,8 @@ XawTextSinkConvertPropertyList(String name, String spec, Screen *screen,
 	    argval->value) {
 	    if (!XAllocNamedColor(DisplayOfScreen(screen), colormap,
 				  argval->value, &color, &exact)) {
-		XmuSnprintf(buffer, sizeof(buffer),
-			    "Cannot allocate color \"%s\".", argval->value);
+		snprintf(buffer, sizeof(buffer),
+			 "Cannot allocate color \"%s\".", argval->value);
 		XtAppWarning(XtDisplayToApplicationContext
 			     (DisplayOfScreen(screen)), buffer);
 		DestroyTextPropertyList(propl);
@@ -1606,8 +1607,8 @@ XawTextSinkConvertPropertyList(String name, String spec, Screen *screen,
 	    argval->value) {
 	    if (!XAllocNamedColor(DisplayOfScreen(screen), colormap,
 				  argval->value, &color, &exact)) {
-		XmuSnprintf(buffer, sizeof(buffer),
-			    "Cannot allocate color \"%s\".", argval->value);
+		snprintf(buffer, sizeof(buffer),
+			 "Cannot allocate color \"%s\".", argval->value);
 		XtAppWarning(XtDisplayToApplicationContext
 			     (DisplayOfScreen(screen)), buffer);
 		DestroyTextPropertyList(propl);
diff --git a/src/TextSrc.c b/src/TextSrc.c
index 118361e..26ce474 100644
--- a/src/TextSrc.c
+++ b/src/TextSrc.c
@@ -245,7 +245,7 @@ static wchar_t SrcWNL[2];
 /*
  * Implementation
  */
-static void 
+static void
 XawTextSrcClassInitialize(void)
 {
     XawInitializeWidgetSet();
@@ -274,22 +274,22 @@ XawTextSrcClassPartInitialize(WidgetClass wc)
      * We don't need to check for null super since we'll get to TextSrc
      * eventually
      */
-    if (t_src->textSrc_class.Read == XtInheritRead) 
+    if (t_src->textSrc_class.Read == XtInheritRead)
 	t_src->textSrc_class.Read = superC->textSrc_class.Read;
 
-    if (t_src->textSrc_class.Replace == XtInheritReplace) 
+    if (t_src->textSrc_class.Replace == XtInheritReplace)
 	t_src->textSrc_class.Replace = superC->textSrc_class.Replace;
 
-    if (t_src->textSrc_class.Scan == XtInheritScan) 
+    if (t_src->textSrc_class.Scan == XtInheritScan)
 	t_src->textSrc_class.Scan = superC->textSrc_class.Scan;
 
-    if (t_src->textSrc_class.Search == XtInheritSearch) 
+    if (t_src->textSrc_class.Search == XtInheritSearch)
 	t_src->textSrc_class.Search = superC->textSrc_class.Search;
 
-    if (t_src->textSrc_class.SetSelection == XtInheritSetSelection) 
+    if (t_src->textSrc_class.SetSelection == XtInheritSetSelection)
 	t_src->textSrc_class.SetSelection = superC->textSrc_class.SetSelection;
 
-    if (t_src->textSrc_class.ConvertSelection == XtInheritConvertSelection) 
+    if (t_src->textSrc_class.ConvertSelection == XtInheritConvertSelection)
 	t_src->textSrc_class.ConvertSelection =
 	    superC->textSrc_class.ConvertSelection;
 }
@@ -430,7 +430,7 @@ Read(Widget w, XawTextPosition pos, XawTextBlock *text, int length)
  *	Replaces a block of text with new text.
  */
 /*ARGSUSED*/
-static int 
+static int
 Replace(Widget w, XawTextPosition startPos, XawTextPosition endPos,
 	XawTextBlock *text)
 {
@@ -454,7 +454,7 @@ Replace(Widget w, XawTextPosition startPos, XawTextPosition endPos,
  *	Scans the text source for the number and type of item specified.
  */
 /*ARGSUSED*/
-static XawTextPosition 
+static XawTextPosition
 Scan(Widget w, XawTextPosition position, XawTextScanType type,
      XawTextScanDirection dir, int count, Bool include)
 {
@@ -498,14 +498,14 @@ SetSelection(Widget w, XawTextPosition left, XawTextPosition right,
 }
 
 /*ARGSUSED*/
-static void 
+static void
 CvtStringToEditMode(XrmValuePtr args, Cardinal *num_args,
 		    XrmValuePtr fromVal, XrmValuePtr toVal)
 {
     static XawTextEditType editType;
     XrmQuark	q;
     char name[7];
- 
+
     XmuNCopyISOLatin1Lowered(name, (char *)fromVal->addr, sizeof(name));
     q = XrmStringToQuark(name);
 
@@ -1401,7 +1401,7 @@ UndoGC(XawTextUndo *undo)
  *	dir	 - direction to scan
  *	count	 - which occurance if this thing to search for
  *	include  - whether or not to include the character found in
- *		   the position that is returned. 
+ *		   the position that is returned.
  *
  * Description:
  *	Scans the text source for the number and type of item specified.
@@ -1441,7 +1441,7 @@ XawTextSourceScan(Widget w, XawTextPosition position,
  * Description:
  *	Searchs the text source for the text block passed
  */
-XawTextPosition 
+XawTextPosition
 XawTextSourceSearch(Widget w, XawTextPosition position,
 #if NeedWidePrototypes
 		    int dir,
@@ -1472,7 +1472,7 @@ XawTextSourceSearch(Widget w, XawTextPosition position,
  *	True if the selection has been converted
  */
 Boolean
-XawTextSourceConvertSelection(Widget w, Atom *selection, Atom *target, 
+XawTextSourceConvertSelection(Widget w, Atom *selection, Atom *target,
 			      Atom *type, XtPointer *value,
 			      unsigned long *length, int *format)
 {
@@ -1496,7 +1496,7 @@ XawTextSourceConvertSelection(Widget w, Atom *selection, Atom *target,
  *	Allows special setting of the selection.
  */
 void
-XawTextSourceSetSelection(Widget w, XawTextPosition left, 
+XawTextSourceSetSelection(Widget w, XawTextPosition left,
 			  XawTextPosition right, Atom selection)
 {
     TextSrcObjectClass cclass = (TextSrcObjectClass)w->core.widget_class;
@@ -1508,7 +1508,7 @@ XawTextSourceSetSelection(Widget w, XawTextPosition left,
  * External Functions for Multi Text
  */
 /*
- * TextFormat(): 
+ * TextFormat():
  *	returns the format of text: FMT8BIT or FMTWIDE
  */
 XrmQuark
@@ -1546,7 +1546,7 @@ _XawTextWCToMB(Display *d, wchar_t *wstr, int *len_in_out)
 /* _XawTextMBToWC():
  *	Convert the string to internal processing codeset WC.
  *   The caller is responsible for freeing both the source and ret string.
- * 
+ *
  *	str	   - source string
  *	len_in_out - lengh of string
  *		     As In, it is length of source string
diff --git a/src/Tip.c b/src/Tip.c
index 9f8b32a..8328aac 100644
--- a/src/Tip.c
+++ b/src/Tip.c
@@ -247,7 +247,7 @@ XawTipInitialize(Widget req, Widget w, ArgList args, Cardinal *num_args)
     if (!tip->tip.font) XtError("Aborting: no font found\n");
     if (tip->tip.international && !tip->tip.fontset)
 	XtError("Aborting: no fontset found\n");
-    
+
     tip->tip.timer = 0;
 
     values.foreground = tip->tip.foreground;
@@ -352,7 +352,7 @@ XawTipExpose(Widget w, XEvent *event, Region region)
 	    else
 		XDrawString(XtDisplay(w), XtWindow(w), gc,
 			    tip->tip.left_margin, y, label, (int)(nl - label));
-	    y += tip->tip.font->max_bounds.ascent + 
+	    y += tip->tip.font->max_bounds.ascent +
 		 tip->tip.font->max_bounds.descent;
 	    label = nl + 1;
 	}
diff --git a/src/Toggle.c b/src/Toggle.c
index 1b9afad..b484878 100644
--- a/src/Toggle.c
+++ b/src/Toggle.c
@@ -26,9 +26,9 @@ in this Software without prior written authorization from The Open Group.
 
 /*
  * Author: Chris D. Peterson
- *         MIT X Consortium 
+ *         MIT X Consortium
  *         kit@expo.lcs.mit.edu
- *  
+ *
  * Date:   January 12, 1989
  *
  */
@@ -41,7 +41,6 @@ in this Software without prior written authorization from The Open Group.
 #include <X11/StringDefs.h>
 #include <X11/Xmu/Converters.h>
 #include <X11/Xmu/Misc.h>
-#include <X11/Xmu/SysUtil.h>
 #include <X11/Xaw/ToggleP.h>
 #include <X11/Xaw/XawInit.h>
 
@@ -62,7 +61,7 @@ static void RemoveFromRadioGroup(Widget);
 static void TurnOffRadioSiblings(Widget);
 static void XawToggleDestroy(Widget, XtPointer, XtPointer);
 
-/* 
+/*
  * Actions
  */
 static void Notify(Widget, XEvent*, String*, Cardinal*);
@@ -83,7 +82,7 @@ static char defaultTranslations[] =
 ;
 
 #define offset(field) XtOffsetOf(ToggleRec, field)
-static XtResource resources[] = { 
+static XtResource resources[] = {
   {
     XtNstate,
     XtCState,
@@ -142,7 +141,7 @@ ToggleClassRec toggleClassRec = {
     True,				/* compress_exposure	  */
     True,				/* compress_enterleave	  */
     False,				/* visible_interest	  */
-    NULL,	 			/* destroy		  */
+    NULL,				/* destroy		  */
     XtInheritResize,			/* resize		  */
     XtInheritExpose,			/* expose		  */
     XawToggleSetValues,			/* set_values		  */
@@ -209,7 +208,7 @@ XawToggleClassInitialize(void)
     for (i = 0 ; i < num_actions ; i++) {
 	if (streq(actions[i].string, "set"))
 	    cclass->toggle_class.Set = actions[i].proc;
-	if (streq(actions[i].string, "unset")) 
+	if (streq(actions[i].string, "unset"))
 	    cclass->toggle_class.Unset = actions[i].proc;
 
 	if (cclass->toggle_class.Set != NULL &&
@@ -233,7 +232,7 @@ XawToggleInitialize(Widget request, Widget cnew,
 
     tw->toggle.radio_group = NULL;
 
-    if (tw->toggle.radio_data == NULL) 
+    if (tw->toggle.radio_data == NULL)
 	tw->toggle.radio_data = (XtPointer)cnew->core.name;
 
     if (tw->toggle.widget != NULL) {
@@ -245,13 +244,13 @@ XawToggleInitialize(Widget request, Widget cnew,
     XtAddCallback(cnew, XtNdestroyCallback, XawToggleDestroy, NULL);
 
     /*
-     * Command widget assumes that the widget is unset, so we only 
+     * Command widget assumes that the widget is unset, so we only
      * have to handle the case where it needs to be set
      *
      * If this widget is in a radio group then it may cause another
      * widget to be unset, thus calling the notify proceedure
      *
-     * I want to set the toggle if the user set the state to "On" in 
+     * I want to set the toggle if the user set the state to "On" in
      * the resource group, reguardless of what my ancestors did
      */
     if (tw_req->command.set)
@@ -259,7 +258,7 @@ XawToggleInitialize(Widget request, Widget cnew,
 }
 
 /*ARGSUSED*/
-static void 
+static void
 ToggleSet(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     ToggleWidgetClass cclass = (ToggleWidgetClass)w->core.widget_class;
@@ -268,15 +267,15 @@ ToggleSet(Widget w, XEvent *event, String *params, Cardinal *num_params)
     cclass->toggle_class.Set(w, event, NULL, NULL);
 }
 
-static void 
+static void
 Toggle(Widget w, XEvent *event, String *params, Cardinal *num_params)
 {
     ToggleWidget tw = (ToggleWidget)w;
     ToggleWidgetClass cclass = (ToggleWidgetClass)w->core.widget_class;
 
-    if (tw->command.set) 
+    if (tw->command.set)
 	cclass->toggle_class.Unset(w, event, NULL, NULL);
-    else 
+    else
 	ToggleSet(w, event, params, num_params);
 }
 
@@ -291,7 +290,7 @@ Notify(Widget w, XEvent *event, String *params, Cardinal *num_params)
 }
 
 /*ARGSUSED*/
-static Boolean 
+static Boolean
 XawToggleSetValues(Widget current, Widget request, Widget cnew,
 		   ArgList args, Cardinal *num_args)
 {
@@ -366,7 +365,7 @@ GetRadioGroup(Widget w)
  *
  * Description:
  *	Creates a radio group. give two widgets.
- * 
+ *
  * Note:
  *	A pointer to the group is added to each widget's radio_group field.
  */
@@ -495,7 +494,7 @@ XawToggleChangeRadioGroup(Widget w, Widget radio_group)
     RemoveFromRadioGroup(w);
 
     /*
-     * If the toggle that we are about to add is set then we will 
+     * If the toggle that we are about to add is set then we will
      * unset all toggles in the new radio group
      */
 
@@ -561,7 +560,7 @@ void
 XawToggleSetCurrent(Widget radio_group, XtPointer radio_data)
 {
     RadioGroup *group;
-    ToggleWidget local_tog; 
+    ToggleWidget local_tog;
 
     /* Special case of no radio group */
 
@@ -577,7 +576,7 @@ XawToggleSetCurrent(Widget radio_group, XtPointer radio_data)
     }
 
     /*
-     * find top of radio_roup 
+     * find top of radio_roup
      */
     for (; group->prev != NULL ; group = group->prev)
 	;
diff --git a/src/Tree.c b/src/Tree.c
index 9dd9b7f..f4781bf 100644
--- a/src/Tree.c
+++ b/src/Tree.c
@@ -28,7 +28,7 @@ in this Software without prior written authorization from The Open Group.
  * purpose and without fee is hereby granted, provided that the above
  * copyright notice appear in all copies and that both the copyright notice
  * and this permission notice appear in supporting documentation.
- * 
+ *
  * Prentice Hall and the authors disclaim all warranties with regard
  * to this software, including all implied warranties of merchantability and
  * fitness.  In no event shall Prentice Hall or the authors be liable
@@ -36,12 +36,12 @@ in this Software without prior written authorization from The Open Group.
  * resulting from loss of use, data or profits, whether in an action of
  * contract, negligence or other tortious action, arising out of or in
  * connection with the use or performance of this software.
- * 
+ *
  * Authors:  Jim Fulton, MIT X Consortium,
  *           based on a version by Douglas Young, Prentice Hall
- * 
+ *
  * This widget is based on the Tree widget described on pages 397-419 of
- * Douglas Young's book "The X Window System, Programming and Applications 
+ * Douglas Young's book "The X Window System, Programming and Applications
  * with Xt OSF/Motif Edition."  The layout code has been rewritten to use
  * additional blank space to make the structure of the graph easier to see
  * as well as to support vertical trees.
@@ -142,31 +142,31 @@ TreeClassRec treeClassRec = {
     sizeof(TreeRec),			/* widget_size        */
     XawTreeClassInitialize,		/* class_init         */
     NULL,				/* class_part_init    */
-    FALSE,				/* class_inited       */	
+    FALSE,				/* class_inited       */
     XawTreeInitialize,			/* initialize         */
-    NULL,				/* initialize_hook    */	
+    NULL,				/* initialize_hook    */
     XtInheritRealize,			/* realize            */
     NULL,				/* actions            */
-    0,					/* num_actions        */	
+    0,					/* num_actions        */
     resources,				/* resources          */
     XtNumber(resources),		/* num_resources      */
     NULLQUARK,				/* xrm_class          */
-    TRUE,				/* compress_motion    */	
-    TRUE,				/* compress_exposure  */	
-    TRUE,				/* compress_enterleave*/	
+    TRUE,				/* compress_motion    */
+    TRUE,				/* compress_exposure  */
+    TRUE,				/* compress_enterleave*/
     TRUE,				/* visible_interest   */
     XawTreeDestroy,			/* destroy            */
     NULL,				/* resize             */
     XawTreeRedisplay,			/* expose             */
     XawTreeSetValues,			/* set_values         */
-    NULL,				/* set_values_hook    */	
+    NULL,				/* set_values_hook    */
     XtInheritSetValuesAlmost,		/* set_values_almost  */
-    NULL,				/* get_values_hook    */	
+    NULL,				/* get_values_hook    */
     NULL,				/* accept_focus       */
-    XtVersion,				/* version            */	
+    XtVersion,				/* version            */
     NULL,				/* callback_private   */
     NULL,				/* tm_table           */
-    XawTreeQueryGeometry,		/* query_geometry     */	
+    XawTreeQueryGeometry,		/* query_geometry     */
     NULL,				/* display_accelerator*/
     NULL,				/* extension          */
   },
@@ -174,11 +174,11 @@ TreeClassRec treeClassRec = {
 					/* composite_class fields */
     XawTreeGeometryManager,		/* geometry_manager    */
     XawTreeChangeManaged,		/* change_managed      */
-    XtInheritInsertChild,		/* insert_child        */	
-    XtInheritDeleteChild,		/* delete_child        */	
+    XtInheritInsertChild,		/* insert_child        */
+    XtInheritDeleteChild,		/* delete_child        */
     NULL,				/* extension           */
   },
-  { 
+  {
 					/* constraint_class fields */
    treeConstraintResources,		/* subresources        */
    XtNumber(treeConstraintResources),	/* subresource_count   */
@@ -190,7 +190,7 @@ TreeClassRec treeClassRec = {
    },
   {
 					/* Tree class fields */
-    NULL,				/* ignore              */	
+    NULL,				/* ignore              */
   }
 };
 
@@ -250,28 +250,28 @@ insert_node(Widget parent, Widget node)
     TreeConstraints pc;
     TreeConstraints nc = TREE_CONSTRAINT(node);
     int nindex;
-  
+
     nc->tree.parent = parent;
 
     if (parent == NULL) return;
 
     /*
-     * If there isn't more room in the children array, 
+     * If there isn't more room in the children array,
      * allocate additional space.
-     */  
+     */
     pc = TREE_CONSTRAINT(parent);
     nindex = pc->tree.n_children;
-  
+
     if (pc->tree.n_children == pc->tree.max_children) {
 	pc->tree.max_children += (pc->tree.max_children / 2) + 2;
-	pc->tree.children = (WidgetList) XtRealloc ((char *)pc->tree.children, 
+	pc->tree.children = (WidgetList) XtRealloc ((char *)pc->tree.children,
 						    (unsigned int)
 						    ((pc->tree.max_children) *
 						    sizeof(Widget)));
-    } 
+    }
 
     /*
-     * Add the sub_node in the next available slot and 
+     * Add the sub_node in the next available slot and
      * increment the counter.
      */
     pc->tree.children[nindex] = node;
@@ -287,8 +287,8 @@ delete_node(Widget parent, Widget node)
     /*
      * Make sure the parent exists.
      */
-    if (!parent) return;  
-  
+    if (!parent) return;
+
     pc = TREE_CONSTRAINT(parent);
 
     /*
@@ -301,14 +301,14 @@ delete_node(Widget parent, Widget node)
 
     /*
      * Decrement the number of children
-     */  
+     */
     pc->tree.n_children--;
 
     /*
      * Fill in the gap left by the sub_node.
      * Zero the last slot for good luck.
      */
-    for (i = pos; i < pc->tree.n_children; i++) 
+    for (i = pos; i < pc->tree.n_children; i++)
       pc->tree.children[i] = pc->tree.children[i+1];
 
     pc->tree.children[pc->tree.n_children] = NULL;
@@ -329,7 +329,7 @@ check_gravity(TreeWidget tw, XtGravity grav)
 
 /*****************************************************************************
  *                                                                           *
- * 			      tree class methods                             *
+ *			      tree class methods                             *
  *                                                                           *
  *****************************************************************************/
 
@@ -352,7 +352,7 @@ XawTreeInitialize(Widget grequest, Widget gnew,
     Arg arglist[2];
 
     /*
-     * Make sure the widget's width and height are 
+     * Make sure the widget's width and height are
      * greater than zero.
      */
     if (request->core.width <= 0) cnew->core.width = 5;
@@ -390,14 +390,14 @@ XawTreeInitialize(Widget grequest, Widget gnew,
      */
     cnew->tree.largest = NULL;
     cnew->tree.n_largest = 0;
-    initialize_dimensions (&cnew->tree.largest, &cnew->tree.n_largest, 
+    initialize_dimensions (&cnew->tree.largest, &cnew->tree.n_largest,
 			   TREE_INITIAL_DEPTH);
 
     /*
      * make sure that our gravity is one of the acceptable values
      */
     check_gravity (cnew, WestGravity);
-} 
+}
 
 
 /* ARGSUSED */
@@ -414,21 +414,21 @@ XawTreeConstraintInitialize(Widget request, Widget cnew,
     tc->tree.n_children = 0;
     tc->tree.max_children = 0;
     tc->tree.children = (Widget *) NULL;
-    tc->tree.x = tc->tree.y = 0; 
+    tc->tree.x = tc->tree.y = 0;
     tc->tree.bbsubwidth = 0;
     tc->tree.bbsubheight = 0;
 
 
     /*
-     * If this widget has a super-node, add it to that 
-     * widget' sub-nodes list. Otherwise make it a sub-node of 
+     * If this widget has a super-node, add it to that
+     * widget' sub-nodes list. Otherwise make it a sub-node of
      * the tree_root widget.
      */
     if (tc->tree.parent)
       insert_node (tc->tree.parent, cnew);
     else if (tw->tree.tree_root)
       insert_node (tw->tree.tree_root, cnew);
-} 
+}
 
 
 /* ARGSUSED */
@@ -448,7 +448,7 @@ XawTreeSetValues(Widget gcurrent, Widget grequest, Widget gnew,
 	cnew->tree.line_width != current->tree.line_width) {
 	XtReleaseGC (gnew, cnew->tree.gc);
 	cnew->tree.gc = get_tree_gc (cnew);
-	redraw = TRUE;     
+	redraw = TRUE;
     }
 
     /*
@@ -499,7 +499,7 @@ XawTreeConstraintSetValues(Widget current, Widget request, Widget cnew,
 	  insert_node(newc->tree.parent, cnew);
 
 	/*
-	 * If the Tree widget has been realized, 
+	 * If the Tree widget has been realized,
 	 * compute new layout.
 	 */
 	if (XtIsRealized((Widget)tw))
@@ -511,16 +511,16 @@ XawTreeConstraintSetValues(Widget current, Widget request, Widget cnew,
 
 static void
 XawTreeConstraintDestroy(Widget w)
-{ 
+{
     TreeConstraints tc = TREE_CONSTRAINT(w);
     TreeWidget tw = (TreeWidget) XtParent(w);
     int i;
 
-    /* 
+    /*
      * Remove the widget from its parent's sub-nodes list and
      * make all this widget's sub-nodes sub-nodes of the parent.
      */
-  
+
     if (tw->tree.tree_root == w) {
 	if (tc->tree.n_children > 0)
 	  tw->tree.tree_root = tc->tree.children[0];
@@ -748,8 +748,8 @@ compute_bounding_box_subtree(TreeWidget tree, Widget w, int depth)
     if (tc->tree.n_children == 0) return;
 
     /*
-     * Figure the size of the opposite dimension (vertical if tree is 
-     * horizontal, else vice versa).  The other dimension will be set 
+     * Figure the size of the opposite dimension (vertical if tree is
+     * horizontal, else vice versa).  The other dimension will be set
      * in the second pass once we know the maximum dimensions.
      */
     newwidth = 0;
@@ -757,7 +757,7 @@ compute_bounding_box_subtree(TreeWidget tree, Widget w, int depth)
     for (i = 0; i < tc->tree.n_children; i++) {
 	Widget child = tc->tree.children[i];
 	TreeConstraints cc = TREE_CONSTRAINT(child);
-	    
+
 	compute_bounding_box_subtree (tree, child, depth + 1);
 
 	if (horiz) {
@@ -793,7 +793,7 @@ static void
 set_positions(TreeWidget tw, Widget w, int level)
 {
     int i;
-  
+
     if (w) {
 	TreeConstraints tc = TREE_CONSTRAINT(w);
 
@@ -915,9 +915,9 @@ arrange_subtree(TreeWidget tree, Widget w, int depth, int x, int y)
 	if (horiz) {
 	    tc->tree.x = x;
 	    adjusted = firstcc->tree.y +
-	      ((lastcc->tree.y + (Position) child->core.height + 
+	      ((lastcc->tree.y + (Position) child->core.height +
 		(Position) child->core.border_width * 2 -
-		firstcc->tree.y - (Position) w->core.height - 
+		firstcc->tree.y - (Position) w->core.height -
 		(Position) w->core.border_width * 2 + 1) / 2);
 	    if (adjusted > tc->tree.y) tc->tree.y = adjusted;
 	} else {
@@ -973,7 +973,7 @@ layout_tree(TreeWidget tw, Bool insetvalues)
     tw->tree.maxwidth = tw->tree.maxheight = 0;
     for (i = 0, dp = tw->tree.largest; i < tw->tree.n_largest; i++, dp++)
       *dp = 0;
-    initialize_dimensions (&tw->tree.largest, &tw->tree.n_largest, 
+    initialize_dimensions (&tw->tree.largest, &tw->tree.n_largest,
 			   tw->tree.n_largest);
     compute_bounding_box_subtree (tw, tw->tree.tree_root, 0);
 
@@ -1002,7 +1002,7 @@ layout_tree(TreeWidget tw, Bool insetvalues)
 
 /*****************************************************************************
  *                                                                           *
- * 				Public Routines                              *
+ *				Public Routines                              *
  *                                                                           *
  *****************************************************************************/
 
diff --git a/src/Vendor.c b/src/Vendor.c
index b455890..12618e9 100644
--- a/src/Vendor.c
+++ b/src/Vendor.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -174,7 +174,7 @@ externaldef(vendorshellclassrec) VendorShellClassRec vendorShellClassRec = {
     /* class_part_init	  */	XawVendorShellClassPartInit,
     /* Class init'ed ?	  */	FALSE,
     /* initialize         */	XawVendorShellInitialize,
-    /* initialize_hook	  */	NULL,		
+    /* initialize_hook	  */	NULL,
     /* realize		  */	XawVendorShellRealize,
     /* actions		  */	NULL,
     /* num_actions	  */	0,
@@ -189,8 +189,8 @@ externaldef(vendorshellclassrec) VendorShellClassRec vendorShellClassRec = {
     /* resize		  */	XawVendorShellExtResize,
     /* expose		  */	NULL,
     /* set_values	  */	XawVendorShellSetValues,
-    /* set_values_hook	  */	NULL,			
-    /* set_values_almost  */	XtInheritSetValuesAlmost,  
+    /* set_values_hook	  */	NULL,
+    /* set_values_almost  */	XtInheritSetValuesAlmost,
     /* get_values_hook	  */	NULL,
     /* accept_focus	  */	NULL,
     /* intrinsics version */	XtVersion,
@@ -250,7 +250,7 @@ externaldef(vendorshellextclassrec) XawVendorShellExtClassRec
     /* class_part_initialize*/	NULL,
     /* Class init'ed ?	  */	FALSE,
     /* initialize	  */	XawVendorShellExtInitialize,
-    /* initialize_hook	  */	NULL,		
+    /* initialize_hook	  */	NULL,
     /* pad		  */	NULL,
     /* pad		  */	NULL,
     /* pad		  */	0,
@@ -265,8 +265,8 @@ externaldef(vendorshellextclassrec) XawVendorShellExtClassRec
     /* pad		  */	NULL,
     /* pad		  */	NULL,
     /* set_values	  */	XawVendorShellExtSetValues,
-    /* set_values_hook	  */	NULL,			
-    /* pad		  */	NULL,  
+    /* set_values_hook	  */	NULL,
+    /* pad		  */	NULL,
     /* get_values_hook	  */	NULL,
     /* pad		  */	NULL,
     /* version		  */	XtVersion,
@@ -324,7 +324,7 @@ XawVendorShellClassInitialize(void)
 	     sizeof(Screen *)}
     };
 
-    XtAddConverter(XtRString, XtRCursor, XmuCvtStringToCursor,      
+    XtAddConverter(XtRString, XtRCursor, XmuCvtStringToCursor,
 		   screenConvertArg, XtNumber(screenConvertArg));
 
     XtAddConverter(XtRString, XtRBitmap, XmuCvtStringToBitmap,
@@ -340,9 +340,9 @@ XawVendorShellClassPartInit(WidgetClass cclass)
     CompositeClassExtension ext;
     VendorShellWidgetClass vsclass = (VendorShellWidgetClass)cclass;
 
-    if ((ext = (CompositeClassExtension) 
+    if ((ext = (CompositeClassExtension)
 	    XtGetClassExtension (cclass,
-				 XtOffsetOf(CompositeClassRec, 
+				 XtOffsetOf(CompositeClassRec,
 					    composite_class.extension),
 				 NULLQUARK, 1L, (Cardinal) 0)) == NULL) {
 	ext = (CompositeClassExtension) XtNew (CompositeClassExtensionRec);
@@ -495,7 +495,7 @@ XawVendorShellGeometryManager(Widget wid, XtWidgetGeometry *request,
 	     * so, whatever the WM sized us to (if the Shell requested
 	     * only one of the two) is now the correct child size
 	     */
-	    
+
 	    wid->core.width = shell->core.width;
 	    wid->core.height = shell->core.height;
 	    if (request->request_mode & CWBorderWidth) {
diff --git a/src/Viewport.c b/src/Viewport.c
index 68bd168..082682f 100644
--- a/src/Viewport.c
+++ b/src/Viewport.c
@@ -27,13 +27,13 @@ Copyright 1987, 1988 by Digital Equipment Corporation, Maynard, Massachusetts.
 
                         All Rights Reserved
 
-Permission to use, copy, modify, and distribute this software and its 
-documentation for any purpose and without fee is hereby granted, 
+Permission to use, copy, modify, and distribute this software and its
+documentation for any purpose and without fee is hereby granted,
 provided that the above copyright notice appear in all copies and that
-both that copyright notice and this permission notice appear in 
+both that copyright notice and this permission notice appear in
 supporting documentation, and that the name of Digital not be
 used in advertising or publicity pertaining to distribution of the
-software without specific, written prior permission.  
+software without specific, written prior permission.
 
 DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
 ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
@@ -313,12 +313,12 @@ XawViewportInitialize(Widget request, Widget cnew,
     w->viewport.clip = XtCreateManagedWidget("clip", widgetClass, cnew,
 					     clip_args, arg_cnt);
 
-    if (!w->viewport.forcebars) 
+    if (!w->viewport.forcebars)
 	return;		 /* If we are not forcing the bars then we are done */
 
-    if (w->viewport.allowhoriz) 
+    if (w->viewport.allowhoriz)
 	(void)CreateScrollbar(w, True);
-    if (w->viewport.allowvert) 
+    if (w->viewport.allowvert)
 	(void)CreateScrollbar(w, False);
 
     h_bar = w->viewport.horiz_bar;
@@ -538,7 +538,7 @@ ComputeLayout(Widget widget, Bool query, Bool destroy_scrollbars)
     if (w->viewport.forcebars) {
 	needsvert = w->viewport.allowvert;
 	needshoriz = w->viewport.allowhoriz;
-	ComputeWithForceBars(widget, query, &intended, 
+	ComputeWithForceBars(widget, query, &intended,
 			     &clip_width, &clip_height);
     }
     else {
@@ -553,7 +553,7 @@ ComputeLayout(Widget widget, Bool query, Bool destroy_scrollbars)
 	 * but we don't set the mode bits until after we decide that the
 	 * child's preferences are not acceptable
 	 */
-	if (!w->viewport.allowhoriz) 
+	if (!w->viewport.allowhoriz)
 	    intended.request_mode |= CWWidth;
 
 	if (XtWidth(child) < clip_width)
@@ -566,7 +566,7 @@ ComputeLayout(Widget widget, Bool query, Bool destroy_scrollbars)
 	else
 	    intended.height = XtHeight(child);
 
-	if (!w->viewport.allowvert) 
+	if (!w->viewport.allowvert)
 	    intended.request_mode |= CWHeight;
 
 	if (!query) {
@@ -645,7 +645,7 @@ ComputeLayout(Widget widget, Bool query, Bool destroy_scrollbars)
 		 XtHeight(w->viewport.horiz_bar)
 		 + XtBorderWidth(w->viewport.horiz_bar) : 0);
     XtResizeWidget(clip, clip_width, clip_height, 0);
-	
+
     if (w->viewport.horiz_bar != NULL) {
 	Widget bar = w->viewport.horiz_bar;
 
@@ -728,7 +728,7 @@ ComputeWithForceBars(Widget widget, Bool query, XtWidgetGeometry *intended,
      * Thus if needsvert is set it MUST have a scrollbar
      */
     if (w->viewport.allowvert) {
-	if (w->viewport.vert_bar == NULL) 
+	if (w->viewport.vert_bar == NULL)
 	    w->viewport.vert_bar = CreateScrollbar(w, False);
 
 	*clip_width -= XtWidth(w->viewport.vert_bar) +
@@ -736,7 +736,7 @@ ComputeWithForceBars(Widget widget, Bool query, XtWidgetGeometry *intended,
     }
 
     if (w->viewport.allowhoriz) {
-	if (w->viewport.horiz_bar == NULL) 
+	if (w->viewport.horiz_bar == NULL)
 	    w->viewport.horiz_bar = CreateScrollbar(w, True);
 
 	*clip_height -= XtHeight(w->viewport.horiz_bar) +
@@ -758,7 +758,7 @@ ComputeWithForceBars(Widget widget, Bool query, XtWidgetGeometry *intended,
     if (query) {
 	if (w->viewport.allowvert || w->viewport.allowhoriz) {
 	    XtQueryGeometry(child, intended, &preferred);
-	  
+
 	    if (!(intended->request_mode & CWWidth)) {
 		if (preferred.request_mode & CWWidth)
 		    intended->width = preferred.width;
@@ -874,11 +874,11 @@ GeometryRequestPlusScrollbar(ViewportWidget w, Bool horizontal,
 
 #define WidthChange()	(request->width != XtWidth(w))
 #define HeightChange()	(request->height != XtHeight(w))
-static XtGeometryResult 
+static XtGeometryResult
 QueryGeometry(ViewportWidget w, XtWidgetGeometry *request,
 	      XtWidgetGeometry *reply_return)
-{	
-    if (w->viewport.allowhoriz && w->viewport.allowvert) 
+{
+    if (w->viewport.allowhoriz && w->viewport.allowvert)
 	return (TestSmaller(w, request, reply_return));
 
     else if (w->viewport.allowhoriz && !w->viewport.allowvert) {
@@ -942,7 +942,7 @@ XawViewportGeometryManager(Widget child, XtWidgetGeometry *request,
     if (rWidth && XtWidth(w) != request->width) {
 	if (w->viewport.allowhoriz && request->width > XtWidth(w)) {
 	    /* horizontal scrollbar will be needed so possibly reduce height */
-	    Widget bar; 
+	    Widget bar;
 
 	    if ((bar = w->viewport.horiz_bar) == NULL)
 		bar = CreateScrollbar(w, True);
@@ -1058,12 +1058,12 @@ XawViewportSetLocation
 
     if (xoff > 1.0)			/* scroll to right */
 	x = XtWidth(child);
-    else if (xoff < 0.0)		/* if the offset is < 0.0 nothing */ 
+    else if (xoff < 0.0)		/* if the offset is < 0.0 nothing */
 	x = XtX(child);
     else
 	x = (float)XtWidth(child) * xoff;
 
-    if (yoff > 1.0) 
+    if (yoff > 1.0)
 	y = XtHeight(child);
     else if (yoff < 0.0)
 	y = XtY(child);
diff --git a/src/XawI18n.c b/src/XawI18n.c
index 9a49521..99ed2ca 100644
--- a/src/XawI18n.c
+++ b/src/XawI18n.c
@@ -18,7 +18,7 @@
  * OMRON, NTT SOFTWARE, AND NTT, DISCLAIM ALL WARRANTIES WITH REGARD
  * TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  * AND FITNESS, IN NO EVENT SHALL OMRON, NTT SOFTWARE, OR NTT BE
- * LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES 
+ * LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
  * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
  * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
@@ -101,5 +101,5 @@ _Xaw_iswalnum(wchar_t ch)
     wctomb((char*)mb, ch);
 
     return (isalnum(*mb));
-#endif    
+#endif
 }
diff --git a/src/XawIm.c b/src/XawIm.c
index 3b7032b..d1da5ae 100644
--- a/src/XawIm.c
+++ b/src/XawIm.c
@@ -17,12 +17,12 @@
  * ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,
  * WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTUOUS ACTION,
  * ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
- * SOFTWARE. 
+ * SOFTWARE.
  *
  *	Author:	Seiji Kuwari	OMRON Corporation
  *				kuwa@omron.co.jp
  *				kuwa%omron.co.jp@uunet.uu.net
- */				
+ */
 
 
 /*
@@ -85,7 +85,7 @@ in this Software without prior written authorization from The Open Group.
  * Forward reference prototypes
  *
  *****************************************************/
- 
+
 /*
  * Prototypes
  */
@@ -506,7 +506,7 @@ OpenIM(XawVendorShellExtPart *ve)
     }
     if (XGetIMValues(xim, XNQueryInputStyle, &xim_styles, NULL)
 	|| !xim_styles) {
-	XtAppWarning(XtWidgetToApplicationContext(ve->parent), 
+	XtAppWarning(XtWidgetToApplicationContext(ve->parent),
 	    "input method doesn't support any style");
 	XCloseIM(xim);
 	return;
@@ -800,7 +800,7 @@ CreateIC(Widget w, XawVendorShellExtPart *ve)
 
     if (IsSharedIC(ve)) SetICValuesShared(w, ve, p, FALSE);
     XFlush(XtDisplay(w));
-    
+
     if (p->input_style & (XIMPreeditArea|XIMPreeditPosition|XIMStatusArea)) {
 	if (p->flg & CIFontSet) {
 	    pe_a[pe_cnt] = (XPointer) XNFontSet; pe_cnt++;
@@ -1220,7 +1220,7 @@ SetFocusValues(Widget inwidg, ArgList args, Cardinal num_args, Bool focus)
 		if (focus) SetICFocus(inwidg, ve);
 	    } else {
 		CreateIC(inwidg, ve);
-	    	SetICFocus(inwidg, ve);
+		SetICFocus(inwidg, ve);
 	    }
 	}
     }
@@ -1407,13 +1407,13 @@ Destroy(Widget w, XawVendorShellExtPart *ve)
 	return;
     XtFree( (char*) ve->im.resources );
 
-    if (extContext != (XContext)NULL && 
-	!XFindContext (XtDisplay (w), (Window)w, 
+    if (extContext != (XContext)NULL &&
+	!XFindContext (XtDisplay (w), (Window)w,
 		       extContext, (XPointer*)&contextData))
         XtFree( (char*) contextData );
 
-    if (errContext != (XContext)NULL && 
-	!XFindContext (XDisplayOfIM( ve->im.xim ), (Window) ve->im.xim, 
+    if (errContext != (XContext)NULL &&
+	!XFindContext (XDisplayOfIM( ve->im.xim ), (Window) ve->im.xim,
 		       errContext, (XPointer*) &contextErrData))
         XtFree( (char*) contextErrData );
 }
diff --git a/src/XawInit.c b/src/XawInit.c
index c10a9b6..5ca1ef8 100644
--- a/src/XawInit.c
+++ b/src/XawInit.c
@@ -22,10 +22,10 @@ CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 Except as contained in this notice, the name of The Open Group shall not be
 used in advertising or otherwise to promote the sale, use or other dealings
 in this Software without prior written authorization from The Open Group.
- * 
- * 
- * 			    XawInitializeWidgetSet
- * 
+ *
+ *
+ *			    XawInitializeWidgetSet
+ *
  * This routine forces a reference to vendor shell so that the one in this
  * widget is installed.  Any other cross-widget set initialization should be
  * done here as well.  All Athena widgets should include "XawInit.h" and
@@ -76,7 +76,7 @@ Widget XawOpenApplication(XtAppContext *app_context_return,
     *app_context_return = XtCreateApplicationContext();
     if( *app_context_return == NULL )
         return NULL;
-      
+
     XtDisplayInitialize(*app_context_return, dpy,
                         application_name, application_class,
                         NULL, 0,
@@ -86,7 +86,7 @@ Widget XawOpenApplication(XtAppContext *app_context_return,
     if (screen) {
         XtSetArg(args[n], XtNscreen, screen); n++;
     }
-    toplevel = XtAppCreateShell(application_name, 
+    toplevel = XtAppCreateShell(application_name,
                                 application_class,
                                 widget_class,
                                 dpy,
